(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Um(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var _d={exports:{}},ei={},jd={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Es=Symbol.for("react.element"),zm=Symbol.for("react.portal"),Wm=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),qm=Symbol.for("react.provider"),Vm=Symbol.for("react.context"),Gm=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),Ym=Symbol.for("react.memo"),Qm=Symbol.for("react.lazy"),Lc=Symbol.iterator;function Jm(e){return e===null||typeof e!="object"?null:(e=Lc&&e[Lc]||e["@@iterator"],typeof e=="function"?e:null)}var kd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,Sd={};function bn(e,t,r){this.props=e,this.context=t,this.refs=Sd,this.updater=r||kd}bn.prototype.isReactComponent={};bn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ed(){}Ed.prototype=bn.prototype;function _l(e,t,r){this.props=e,this.context=t,this.refs=Sd,this.updater=r||kd}var jl=_l.prototype=new Ed;jl.constructor=_l;Nd(jl,bn.prototype);jl.isPureReactComponent=!0;var Dc=Array.isArray,Cd=Object.prototype.hasOwnProperty,kl={current:null},Pd={key:!0,ref:!0,__self:!0,__source:!0};function Td(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Cd.call(t,n)&&!Pd.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Es,type:e,key:a,ref:o,props:s,_owner:kl.current}}function Xm(e,t){return{$$typeof:Es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Es}function Zm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ac=/\/+/g;function Pi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zm(""+e.key):t.toString(36)}function oa(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Es:case zm:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Pi(o,0):n,Dc(s)?(r="",e!=null&&(r=e.replace(Ac,"$&/")+"/"),oa(s,t,r,"",function(u){return u})):s!=null&&(Nl(s)&&(s=Xm(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ac,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Dc(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Pi(a,l);o+=oa(a,t,r,c,s)}else if(c=Jm(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Pi(a,l++),o+=oa(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Us(e,t,r){if(e==null)return e;var n=[],s=0;return oa(e,n,"","",function(a){return t.call(r,a,s++)}),n}function ep(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},la={transition:null},tp={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:la,ReactCurrentOwner:kl};function Od(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Us,forEach:function(e,t,r){Us(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Us(e,function(){t++}),t},toArray:function(e){return Us(e,function(t){return t})||[]},only:function(e){if(!Nl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=bn;H.Fragment=Wm;H.Profiler=Hm;H.PureComponent=_l;H.StrictMode=Bm;H.Suspense=Km;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tp;H.act=Od;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Nd({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=kl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Cd.call(t,c)&&!Pd.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Es,type:e.type,key:s,ref:a,props:n,_owner:o}};H.createContext=function(e){return e={$$typeof:Vm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qm,_context:e},e.Consumer=e};H.createElement=Td;H.createFactory=function(e){var t=Td.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Gm,render:e}};H.isValidElement=Nl;H.lazy=function(e){return{$$typeof:Qm,_payload:{_status:-1,_result:e},_init:ep}};H.memo=function(e,t){return{$$typeof:Ym,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=la.transition;la.transition={};try{e()}finally{la.transition=t}};H.unstable_act=Od;H.useCallback=function(e,t){return Ce.current.useCallback(e,t)};H.useContext=function(e){return Ce.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)};H.useEffect=function(e,t){return Ce.current.useEffect(e,t)};H.useId=function(){return Ce.current.useId()};H.useImperativeHandle=function(e,t,r){return Ce.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Ce.current.useMemo(e,t)};H.useReducer=function(e,t,r){return Ce.current.useReducer(e,t,r)};H.useRef=function(e){return Ce.current.useRef(e)};H.useState=function(e){return Ce.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return Ce.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return Ce.current.useTransition()};H.version="18.3.1";jd.exports=H;var w=jd.exports;const un=Um(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=w,np=Symbol.for("react.element"),sp=Symbol.for("react.fragment"),ap=Object.prototype.hasOwnProperty,ip=rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,op={key:!0,ref:!0,__self:!0,__source:!0};function Rd(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)ap.call(t,n)&&!op.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:np,type:e,key:a,ref:o,props:s,_owner:ip.current}}ei.Fragment=sp;ei.jsx=Rd;ei.jsxs=Rd;_d.exports=ei;var i=_d.exports,Ld={exports:{}},He={},Dd={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,U){var W=O.length;O.push(U);e:for(;0<W;){var X=W-1>>>1,ie=O[X];if(0<s(ie,U))O[X]=U,O[W]=ie,W=X;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var U=O[0],W=O.pop();if(W!==U){O[0]=W;e:for(var X=0,ie=O.length,Ar=ie>>>1;X<Ar;){var A=2*(X+1)-1,pe=O[A],Ne=A+1,tt=O[Ne];if(0>s(pe,W))Ne<ie&&0>s(tt,pe)?(O[X]=tt,O[Ne]=W,X=Ne):(O[X]=pe,O[A]=W,X=A);else if(Ne<ie&&0>s(tt,W))O[X]=tt,O[Ne]=W,X=Ne;else break e}}return U}function s(O,U){var W=O.sortIndex-U.sortIndex;return W!==0?W:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=O)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function _(O){if(v=!1,x(O),!p)if(r(c)!==null)p=!0,le(j);else{var U=r(u);U!==null&&ve(_,U.startTime-O)}}function j(O,U){p=!1,v&&(v=!1,y(C),C=-1),m=!0;var W=f;try{for(x(U),h=r(c);h!==null&&(!(h.expirationTime>U)||O&&!R());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var ie=X(h.expirationTime<=U);U=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===r(c)&&n(c),x(U)}else n(c);h=r(c)}if(h!==null)var Ar=!0;else{var A=r(u);A!==null&&ve(_,A.startTime-U),Ar=!1}return Ar}finally{h=null,f=W,m=!1}}var k=!1,S=null,C=-1,N=5,E=-1;function R(){return!(e.unstable_now()-E<N)}function $(){if(S!==null){var O=e.unstable_now();E=O;var U=!0;try{U=S(!0,O)}finally{U?T():(k=!1,S=null)}}else k=!1}var T;if(typeof g=="function")T=function(){g($)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,F=M.port2;M.port1.onmessage=$,T=function(){F.postMessage(null)}}else T=function(){b($,0)};function le(O){S=O,k||(k=!0,T())}function ve(O,U){C=b(function(){O(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,le(j))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var W=f;f=U;try{return O()}finally{f=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=f;f=O;try{return U()}finally{f=W}},e.unstable_scheduleCallback=function(O,U,W){var X=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,O){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,O={id:d++,callback:U,priorityLevel:O,startTime:W,expirationTime:ie,sortIndex:-1},W>X?(O.sortIndex=W,t(u,O),r(c)===null&&O===r(u)&&(v?(y(C),C=-1):v=!0,ve(_,W-X))):(O.sortIndex=ie,t(c,O),p||m||(p=!0,le(j))),O},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(O){var U=f;return function(){var W=f;f=U;try{return O.apply(this,arguments)}finally{f=W}}}})(Ad);Dd.exports=Ad;var lp=Dd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp=w,Be=lp;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $d=new Set,is={};function Tr(e,t){dn(e,t),dn(e+"Capture",t)}function dn(e,t){for(is[e]=t,e=0;e<t.length;e++)$d.add(t[e])}var Tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fo=Object.prototype.hasOwnProperty,up=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$c={},Ic={};function dp(e){return fo.call(Ic,e)?!0:fo.call($c,e)?!1:up.test(e)?Ic[e]=!0:($c[e]=!0,!1)}function hp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fp(e,t,r,n){if(t===null||typeof t>"u"||hp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pe(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sl=/[\-:]([a-z])/g;function El(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sl,El);xe[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sl,El);xe[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sl,El);xe[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cl(e,t,r,n){var s=xe.hasOwnProperty(t)?xe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fp(t,r,s,n)&&(r=null),n||s===null?dp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var It=cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fs=Symbol.for("react.element"),qr=Symbol.for("react.portal"),Vr=Symbol.for("react.fragment"),Pl=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),Id=Symbol.for("react.provider"),Md=Symbol.for("react.context"),Tl=Symbol.for("react.forward_ref"),po=Symbol.for("react.suspense"),go=Symbol.for("react.suspense_list"),Ol=Symbol.for("react.memo"),Wt=Symbol.for("react.lazy"),Ud=Symbol.for("react.offscreen"),Mc=Symbol.iterator;function Cn(e){return e===null||typeof e!="object"?null:(e=Mc&&e[Mc]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,Ti;function Fn(e){if(Ti===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ti=t&&t[1]||""}return`
`+Ti+e}var Oi=!1;function Ri(e,t){if(!e||Oi)return"";Oi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Oi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fn(e):""}function mp(e){switch(e.tag){case 5:return Fn(e.type);case 16:return Fn("Lazy");case 13:return Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 2:case 15:return e=Ri(e.type,!1),e;case 11:return e=Ri(e.type.render,!1),e;case 1:return e=Ri(e.type,!0),e;default:return""}}function yo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vr:return"Fragment";case qr:return"Portal";case mo:return"Profiler";case Pl:return"StrictMode";case po:return"Suspense";case go:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Md:return(e.displayName||"Context")+".Consumer";case Id:return(e._context.displayName||"Context")+".Provider";case Tl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ol:return t=e.displayName||null,t!==null?t:yo(e.type)||"Memo";case Wt:t=e._payload,e=e._init;try{return yo(e(t))}catch{}}return null}function pp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(t);case 8:return t===Pl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gp(e){var t=Fd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zs(e){e._valueTracker||(e._valueTracker=gp(e))}function zd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Fd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ja(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xo(e,t){var r=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Uc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=sr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wd(e,t){t=t.checked,t!=null&&Cl(e,"checked",t,!1)}function vo(e,t){Wd(e,t);var r=sr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wo(e,t.type,r):t.hasOwnProperty("defaultValue")&&wo(e,t.type,sr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function wo(e,t,r){(t!=="number"||ja(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zn=Array.isArray;function nn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+sr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(P(92));if(zn(r)){if(1<r.length)throw Error(P(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:sr(r)}}function Bd(e,t){var r=sr(t.value),n=sr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Wc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _o(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ws,qd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ws=Ws||document.createElement("div"),Ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function os(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yp=["Webkit","ms","Moz","O"];Object.keys(Vn).forEach(function(e){yp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vn[t]=Vn[e]})});function Vd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vn.hasOwnProperty(e)&&Vn[e]?(""+t).trim():t+"px"}function Gd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Vd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var xp=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jo(e,t){if(t){if(xp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function ko(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=null;function Rl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var So=null,sn=null,an=null;function Bc(e){if(e=Ts(e)){if(typeof So!="function")throw Error(P(280));var t=e.stateNode;t&&(t=ai(t),So(e.stateNode,e.type,t))}}function Kd(e){sn?an?an.push(e):an=[e]:sn=e}function Yd(){if(sn){var e=sn,t=an;if(an=sn=null,Bc(e),t)for(e=0;e<t.length;e++)Bc(t[e])}}function Qd(e,t){return e(t)}function Jd(){}var Li=!1;function Xd(e,t,r){if(Li)return e(t,r);Li=!0;try{return Qd(e,t,r)}finally{Li=!1,(sn!==null||an!==null)&&(Jd(),Yd())}}function ls(e,t){var r=e.stateNode;if(r===null)return null;var n=ai(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(P(231,t,typeof r));return r}var Eo=!1;if(Tt)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{Eo=!1}function vp(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Gn=!1,ka=null,Na=!1,Co=null,wp={onError:function(e){Gn=!0,ka=e}};function bp(e,t,r,n,s,a,o,l,c){Gn=!1,ka=null,vp.apply(wp,arguments)}function _p(e,t,r,n,s,a,o,l,c){if(bp.apply(this,arguments),Gn){if(Gn){var u=ka;Gn=!1,ka=null}else throw Error(P(198));Na||(Na=!0,Co=u)}}function Or(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Zd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hc(e){if(Or(e)!==e)throw Error(P(188))}function jp(e){var t=e.alternate;if(!t){if(t=Or(e),t===null)throw Error(P(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Hc(s),e;if(a===n)return Hc(s),t;a=a.sibling}throw Error(P(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(P(189))}}if(r.alternate!==n)throw Error(P(190))}if(r.tag!==3)throw Error(P(188));return r.stateNode.current===r?e:t}function eh(e){return e=jp(e),e!==null?th(e):null}function th(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=th(e);if(t!==null)return t;e=e.sibling}return null}var rh=Be.unstable_scheduleCallback,qc=Be.unstable_cancelCallback,kp=Be.unstable_shouldYield,Np=Be.unstable_requestPaint,ae=Be.unstable_now,Sp=Be.unstable_getCurrentPriorityLevel,Ll=Be.unstable_ImmediatePriority,nh=Be.unstable_UserBlockingPriority,Sa=Be.unstable_NormalPriority,Ep=Be.unstable_LowPriority,sh=Be.unstable_IdlePriority,ti=null,pt=null;function Cp(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(ti,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:Op,Pp=Math.log,Tp=Math.LN2;function Op(e){return e>>>=0,e===0?32:31-(Pp(e)/Tp|0)|0}var Bs=64,Hs=4194304;function Wn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ea(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Wn(l):(a&=o,a!==0&&(n=Wn(a)))}else o=r&~s,o!==0?n=Wn(o):a!==0&&(n=Wn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ct(t),s=1<<r,n|=e[r],t&=~s;return n}function Rp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ct(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Rp(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Po(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ah(){var e=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),e}function Di(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=r}function Dp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ct(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Dl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ct(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var G=0;function ih(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var oh,Al,lh,ch,uh,To=!1,qs=[],Yt=null,Qt=null,Jt=null,cs=new Map,us=new Map,Ht=[],Ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vc(e,t){switch(e){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(t.pointerId)}}function Tn(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ts(t),t!==null&&Al(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function $p(e,t,r,n,s){switch(t){case"focusin":return Yt=Tn(Yt,e,t,r,n,s),!0;case"dragenter":return Qt=Tn(Qt,e,t,r,n,s),!0;case"mouseover":return Jt=Tn(Jt,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return cs.set(a,Tn(cs.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,us.set(a,Tn(us.get(a)||null,e,t,r,n,s)),!0}return!1}function dh(e){var t=yr(e.target);if(t!==null){var r=Or(t);if(r!==null){if(t=r.tag,t===13){if(t=Zd(r),t!==null){e.blockedOn=t,uh(e.priority,function(){lh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Oo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);No=n,r.target.dispatchEvent(n),No=null}else return t=Ts(r),t!==null&&Al(t),e.blockedOn=r,!1;t.shift()}return!0}function Gc(e,t,r){ca(e)&&r.delete(t)}function Ip(){To=!1,Yt!==null&&ca(Yt)&&(Yt=null),Qt!==null&&ca(Qt)&&(Qt=null),Jt!==null&&ca(Jt)&&(Jt=null),cs.forEach(Gc),us.forEach(Gc)}function On(e,t){e.blockedOn===t&&(e.blockedOn=null,To||(To=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Ip)))}function ds(e){function t(s){return On(s,e)}if(0<qs.length){On(qs[0],e);for(var r=1;r<qs.length;r++){var n=qs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yt!==null&&On(Yt,e),Qt!==null&&On(Qt,e),Jt!==null&&On(Jt,e),cs.forEach(t),us.forEach(t),r=0;r<Ht.length;r++)n=Ht[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ht.length&&(r=Ht[0],r.blockedOn===null);)dh(r),r.blockedOn===null&&Ht.shift()}var on=It.ReactCurrentBatchConfig,Ca=!0;function Mp(e,t,r,n){var s=G,a=on.transition;on.transition=null;try{G=1,$l(e,t,r,n)}finally{G=s,on.transition=a}}function Up(e,t,r,n){var s=G,a=on.transition;on.transition=null;try{G=4,$l(e,t,r,n)}finally{G=s,on.transition=a}}function $l(e,t,r,n){if(Ca){var s=Oo(e,t,r,n);if(s===null)Hi(e,t,n,Pa,r),Vc(e,n);else if($p(s,e,t,r,n))n.stopPropagation();else if(Vc(e,n),t&4&&-1<Ap.indexOf(e)){for(;s!==null;){var a=Ts(s);if(a!==null&&oh(a),a=Oo(e,t,r,n),a===null&&Hi(e,t,n,Pa,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Hi(e,t,n,null,r)}}var Pa=null;function Oo(e,t,r,n){if(Pa=null,e=Rl(n),e=yr(e),e!==null)if(t=Or(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Zd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pa=e,null}function hh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sp()){case Ll:return 1;case nh:return 4;case Sa:case Ep:return 16;case sh:return 536870912;default:return 16}default:return 16}}var Gt=null,Il=null,ua=null;function fh(){if(ua)return ua;var e,t=Il,r=t.length,n,s="value"in Gt?Gt.value:Gt.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return ua=s.slice(e,1<n?1-n:void 0)}function da(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vs(){return!0}function Kc(){return!1}function qe(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Vs:Kc,this.isPropagationStopped=Kc,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=qe(_n),Ps=ne({},_n,{view:0,detail:0}),Fp=qe(Ps),Ai,$i,Rn,ri=ne({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rn&&(Rn&&e.type==="mousemove"?(Ai=e.screenX-Rn.screenX,$i=e.screenY-Rn.screenY):$i=Ai=0,Rn=e),Ai)},movementY:function(e){return"movementY"in e?e.movementY:$i}}),Yc=qe(ri),zp=ne({},ri,{dataTransfer:0}),Wp=qe(zp),Bp=ne({},Ps,{relatedTarget:0}),Ii=qe(Bp),Hp=ne({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),qp=qe(Hp),Vp=ne({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gp=qe(Vp),Kp=ne({},_n,{data:0}),Qc=qe(Kp),Yp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jp[e])?!!t[e]:!1}function Ul(){return Xp}var Zp=ne({},Ps,{key:function(e){if(e.key){var t=Yp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=da(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(e){return e.type==="keypress"?da(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?da(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),e0=qe(Zp),t0=ne({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jc=qe(t0),r0=ne({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),n0=qe(r0),s0=ne({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),a0=qe(s0),i0=ne({},ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),o0=qe(i0),l0=[9,13,27,32],Fl=Tt&&"CompositionEvent"in window,Kn=null;Tt&&"documentMode"in document&&(Kn=document.documentMode);var c0=Tt&&"TextEvent"in window&&!Kn,mh=Tt&&(!Fl||Kn&&8<Kn&&11>=Kn),Xc=" ",Zc=!1;function ph(e,t){switch(e){case"keyup":return l0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function u0(e,t){switch(e){case"compositionend":return gh(t);case"keypress":return t.which!==32?null:(Zc=!0,Xc);case"textInput":return e=t.data,e===Xc&&Zc?null:e;default:return null}}function d0(e,t){if(Gr)return e==="compositionend"||!Fl&&ph(e,t)?(e=fh(),ua=Il=Gt=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mh&&t.locale!=="ko"?null:t.data;default:return null}}var h0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!h0[e.type]:t==="textarea"}function yh(e,t,r,n){Kd(n),t=Ta(t,"onChange"),0<t.length&&(r=new Ml("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Yn=null,hs=null;function f0(e){Ch(e,0)}function ni(e){var t=Qr(e);if(zd(t))return e}function m0(e,t){if(e==="change")return t}var xh=!1;if(Tt){var Mi;if(Tt){var Ui="oninput"in document;if(!Ui){var tu=document.createElement("div");tu.setAttribute("oninput","return;"),Ui=typeof tu.oninput=="function"}Mi=Ui}else Mi=!1;xh=Mi&&(!document.documentMode||9<document.documentMode)}function ru(){Yn&&(Yn.detachEvent("onpropertychange",vh),hs=Yn=null)}function vh(e){if(e.propertyName==="value"&&ni(hs)){var t=[];yh(t,hs,e,Rl(e)),Xd(f0,t)}}function p0(e,t,r){e==="focusin"?(ru(),Yn=t,hs=r,Yn.attachEvent("onpropertychange",vh)):e==="focusout"&&ru()}function g0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ni(hs)}function y0(e,t){if(e==="click")return ni(t)}function x0(e,t){if(e==="input"||e==="change")return ni(t)}function v0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dt=typeof Object.is=="function"?Object.is:v0;function fs(e,t){if(dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!fo.call(t,s)||!dt(e[s],t[s]))return!1}return!0}function nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function su(e,t){var r=nu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nu(r)}}function wh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bh(){for(var e=window,t=ja();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ja(e.document)}return t}function zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function w0(e){var t=bh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wh(r.ownerDocument.documentElement,r)){if(n!==null&&zl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=su(r,a);var o=su(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var b0=Tt&&"documentMode"in document&&11>=document.documentMode,Kr=null,Ro=null,Qn=null,Lo=!1;function au(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lo||Kr==null||Kr!==ja(n)||(n=Kr,"selectionStart"in n&&zl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qn&&fs(Qn,n)||(Qn=n,n=Ta(Ro,"onSelect"),0<n.length&&(t=new Ml("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Kr)))}function Gs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yr={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},Fi={},_h={};Tt&&(_h=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function si(e){if(Fi[e])return Fi[e];if(!Yr[e])return e;var t=Yr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _h)return Fi[e]=t[r];return e}var jh=si("animationend"),kh=si("animationiteration"),Nh=si("animationstart"),Sh=si("transitionend"),Eh=new Map,iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){Eh.set(e,t),Tr(t,[e])}for(var zi=0;zi<iu.length;zi++){var Wi=iu[zi],_0=Wi.toLowerCase(),j0=Wi[0].toUpperCase()+Wi.slice(1);ir(_0,"on"+j0)}ir(jh,"onAnimationEnd");ir(kh,"onAnimationIteration");ir(Nh,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(Sh,"onTransitionEnd");dn("onMouseEnter",["mouseout","mouseover"]);dn("onMouseLeave",["mouseout","mouseover"]);dn("onPointerEnter",["pointerout","pointerover"]);dn("onPointerLeave",["pointerout","pointerover"]);Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bn));function ou(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_p(n,t,void 0,e),e.currentTarget=null}function Ch(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;ou(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;ou(s,l,u),a=c}}}if(Na)throw e=Co,Na=!1,Co=null,e}function Q(e,t){var r=t[Mo];r===void 0&&(r=t[Mo]=new Set);var n=e+"__bubble";r.has(n)||(Ph(t,e,2,!1),r.add(n))}function Bi(e,t,r){var n=0;t&&(n|=4),Ph(r,e,n,t)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function ms(e){if(!e[Ks]){e[Ks]=!0,$d.forEach(function(r){r!=="selectionchange"&&(k0.has(r)||Bi(r,!1,e),Bi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ks]||(t[Ks]=!0,Bi("selectionchange",!1,t))}}function Ph(e,t,r,n){switch(hh(t)){case 1:var s=Mp;break;case 4:s=Up;break;default:s=$l}r=s.bind(null,t,r,e),s=void 0,!Eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Hi(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=yr(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Xd(function(){var u=a,d=Rl(r),h=[];e:{var f=Eh.get(e);if(f!==void 0){var m=Ml,p=e;switch(e){case"keypress":if(da(r)===0)break e;case"keydown":case"keyup":m=e0;break;case"focusin":p="focus",m=Ii;break;case"focusout":p="blur",m=Ii;break;case"beforeblur":case"afterblur":m=Ii;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=n0;break;case jh:case kh:case Nh:m=qp;break;case Sh:m=a0;break;case"scroll":m=Fp;break;case"wheel":m=o0;break;case"copy":case"cut":case"paste":m=Gp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jc}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,x;g!==null;){x=g;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,y!==null&&(_=ls(g,y),_!=null&&v.push(ps(g,_,x)))),b)break;g=g.return}0<v.length&&(f=new m(f,p,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==No&&(p=r.relatedTarget||r.fromElement)&&(yr(p)||p[Ot]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?yr(p):null,p!==null&&(b=Or(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(v=Yc,_="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Jc,_="onPointerLeave",y="onPointerEnter",g="pointer"),b=m==null?f:Qr(m),x=p==null?f:Qr(p),f=new v(_,g+"leave",m,r,d),f.target=b,f.relatedTarget=x,_=null,yr(d)===u&&(v=new v(y,g+"enter",p,r,d),v.target=x,v.relatedTarget=b,_=v),b=_,m&&p)t:{for(v=m,y=p,g=0,x=v;x;x=$r(x))g++;for(x=0,_=y;_;_=$r(_))x++;for(;0<g-x;)v=$r(v),g--;for(;0<x-g;)y=$r(y),x--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=$r(v),y=$r(y)}v=null}else v=null;m!==null&&lu(h,f,m,v,!1),p!==null&&b!==null&&lu(h,b,p,v,!0)}}e:{if(f=u?Qr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=m0;else if(eu(f))if(xh)j=x0;else{j=g0;var k=p0}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=y0);if(j&&(j=j(e,u))){yh(h,j,r,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&wo(f,"number",f.value)}switch(k=u?Qr(u):window,e){case"focusin":(eu(k)||k.contentEditable==="true")&&(Kr=k,Ro=u,Qn=null);break;case"focusout":Qn=Ro=Kr=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,au(h,r,d);break;case"selectionchange":if(b0)break;case"keydown":case"keyup":au(h,r,d)}var S;if(Fl)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Gr?ph(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(mh&&r.locale!=="ko"&&(Gr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Gr&&(S=fh()):(Gt=d,Il="value"in Gt?Gt.value:Gt.textContent,Gr=!0)),k=Ta(u,C),0<k.length&&(C=new Qc(C,e,null,r,d),h.push({event:C,listeners:k}),S?C.data=S:(S=gh(r),S!==null&&(C.data=S)))),(S=c0?u0(e,r):d0(e,r))&&(u=Ta(u,"onBeforeInput"),0<u.length&&(d=new Qc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}Ch(h,t)})}function ps(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ta(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ls(e,r),a!=null&&n.unshift(ps(e,a,s)),a=ls(e,t),a!=null&&n.push(ps(e,a,s))),e=e.return}return n}function $r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lu(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ls(r,a),c!=null&&o.unshift(ps(r,c,l))):s||(c=ls(r,a),c!=null&&o.push(ps(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var N0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function cu(e){return(typeof e=="string"?e:""+e).replace(N0,`
`).replace(S0,"")}function Ys(e,t,r){if(t=cu(t),cu(e)!==t&&r)throw Error(P(425))}function Oa(){}var Do=null,Ao=null;function $o(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Io=typeof setTimeout=="function"?setTimeout:void 0,E0=typeof clearTimeout=="function"?clearTimeout:void 0,uu=typeof Promise=="function"?Promise:void 0,C0=typeof queueMicrotask=="function"?queueMicrotask:typeof uu<"u"?function(e){return uu.resolve(null).then(e).catch(P0)}:Io;function P0(e){setTimeout(function(){throw e})}function qi(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ds(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ds(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function du(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jn=Math.random().toString(36).slice(2),mt="__reactFiber$"+jn,gs="__reactProps$"+jn,Ot="__reactContainer$"+jn,Mo="__reactEvents$"+jn,T0="__reactListeners$"+jn,O0="__reactHandles$"+jn;function yr(e){var t=e[mt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ot]||r[mt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=du(e);e!==null;){if(r=e[mt])return r;e=du(e)}return t}e=r,r=e.parentNode}return null}function Ts(e){return e=e[mt]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function ai(e){return e[gs]||null}var Uo=[],Jr=-1;function or(e){return{current:e}}function J(e){0>Jr||(e.current=Uo[Jr],Uo[Jr]=null,Jr--)}function Y(e,t){Jr++,Uo[Jr]=e.current,e.current=t}var ar={},ke=or(ar),Ae=or(!1),jr=ar;function hn(e,t){var r=e.type.contextTypes;if(!r)return ar;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $e(e){return e=e.childContextTypes,e!=null}function Ra(){J(Ae),J(ke)}function hu(e,t,r){if(ke.current!==ar)throw Error(P(168));Y(ke,t),Y(Ae,r)}function Th(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(P(108,pp(e)||"Unknown",s));return ne({},r,n)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,jr=ke.current,Y(ke,e),Y(Ae,Ae.current),!0}function fu(e,t,r){var n=e.stateNode;if(!n)throw Error(P(169));r?(e=Th(e,t,jr),n.__reactInternalMemoizedMergedChildContext=e,J(Ae),J(ke),Y(ke,e)):J(Ae),Y(Ae,r)}var kt=null,ii=!1,Vi=!1;function Oh(e){kt===null?kt=[e]:kt.push(e)}function R0(e){ii=!0,Oh(e)}function lr(){if(!Vi&&kt!==null){Vi=!0;var e=0,t=G;try{var r=kt;for(G=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}kt=null,ii=!1}catch(s){throw kt!==null&&(kt=kt.slice(e+1)),rh(Ll,lr),s}finally{G=t,Vi=!1}}return null}var Xr=[],Zr=0,Da=null,Aa=0,Ge=[],Ke=0,kr=null,Nt=1,St="";function hr(e,t){Xr[Zr++]=Aa,Xr[Zr++]=Da,Da=e,Aa=t}function Rh(e,t,r){Ge[Ke++]=Nt,Ge[Ke++]=St,Ge[Ke++]=kr,kr=e;var n=Nt;e=St;var s=32-ct(n)-1;n&=~(1<<s),r+=1;var a=32-ct(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Nt=1<<32-ct(t)+s|r<<s|n,St=a+e}else Nt=1<<a|r<<s|n,St=e}function Wl(e){e.return!==null&&(hr(e,1),Rh(e,1,0))}function Bl(e){for(;e===Da;)Da=Xr[--Zr],Xr[Zr]=null,Aa=Xr[--Zr],Xr[Zr]=null;for(;e===kr;)kr=Ge[--Ke],Ge[Ke]=null,St=Ge[--Ke],Ge[Ke]=null,Nt=Ge[--Ke],Ge[Ke]=null}var We=null,ze=null,Z=!1,ot=null;function Lh(e,t){var r=Ye(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,ze=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=kr!==null?{id:Nt,overflow:St}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ye(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,We=e,ze=null,!0):!1;default:return!1}}function Fo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zo(e){if(Z){var t=ze;if(t){var r=t;if(!mu(e,t)){if(Fo(e))throw Error(P(418));t=Xt(r.nextSibling);var n=We;t&&mu(e,t)?Lh(n,r):(e.flags=e.flags&-4097|2,Z=!1,We=e)}}else{if(Fo(e))throw Error(P(418));e.flags=e.flags&-4097|2,Z=!1,We=e}}}function pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function Qs(e){if(e!==We)return!1;if(!Z)return pu(e),Z=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$o(e.type,e.memoizedProps)),t&&(t=ze)){if(Fo(e))throw Dh(),Error(P(418));for(;t;)Lh(e,t),t=Xt(t.nextSibling)}if(pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ze=Xt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=We?Xt(e.stateNode.nextSibling):null;return!0}function Dh(){for(var e=ze;e;)e=Xt(e.nextSibling)}function fn(){ze=We=null,Z=!1}function Hl(e){ot===null?ot=[e]:ot.push(e)}var L0=It.ReactCurrentBatchConfig;function Ln(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(P(309));var n=r.stateNode}if(!n)throw Error(P(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(P(284));if(!r._owner)throw Error(P(290,e))}return e}function Js(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gu(e){var t=e._init;return t(e._payload)}function Ah(e){function t(y,g){if(e){var x=y.deletions;x===null?(y.deletions=[g],y.flags|=16):x.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=rr(y,g),y.index=0,y.sibling=null,y}function a(y,g,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<g?(y.flags|=2,g):x):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,x,_){return g===null||g.tag!==6?(g=Zi(x,y.mode,_),g.return=y,g):(g=s(g,x),g.return=y,g)}function c(y,g,x,_){var j=x.type;return j===Vr?d(y,g,x.props.children,_,x.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wt&&gu(j)===g.type)?(_=s(g,x.props),_.ref=Ln(y,g,x),_.return=y,_):(_=xa(x.type,x.key,x.props,null,y.mode,_),_.ref=Ln(y,g,x),_.return=y,_)}function u(y,g,x,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=eo(x,y.mode,_),g.return=y,g):(g=s(g,x.children||[]),g.return=y,g)}function d(y,g,x,_,j){return g===null||g.tag!==7?(g=br(x,y.mode,_,j),g.return=y,g):(g=s(g,x),g.return=y,g)}function h(y,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Zi(""+g,y.mode,x),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fs:return x=xa(g.type,g.key,g.props,null,y.mode,x),x.ref=Ln(y,null,g),x.return=y,x;case qr:return g=eo(g,y.mode,x),g.return=y,g;case Wt:var _=g._init;return h(y,_(g._payload),x)}if(zn(g)||Cn(g))return g=br(g,y.mode,x,null),g.return=y,g;Js(y,g)}return null}function f(y,g,x,_){var j=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:l(y,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fs:return x.key===j?c(y,g,x,_):null;case qr:return x.key===j?u(y,g,x,_):null;case Wt:return j=x._init,f(y,g,j(x._payload),_)}if(zn(x)||Cn(x))return j!==null?null:d(y,g,x,_,null);Js(y,x)}return null}function m(y,g,x,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(x)||null,l(g,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fs:return y=y.get(_.key===null?x:_.key)||null,c(g,y,_,j);case qr:return y=y.get(_.key===null?x:_.key)||null,u(g,y,_,j);case Wt:var k=_._init;return m(y,g,x,k(_._payload),j)}if(zn(_)||Cn(_))return y=y.get(x)||null,d(g,y,_,j,null);Js(g,_)}return null}function p(y,g,x,_){for(var j=null,k=null,S=g,C=g=0,N=null;S!==null&&C<x.length;C++){S.index>C?(N=S,S=null):N=S.sibling;var E=f(y,S,x[C],_);if(E===null){S===null&&(S=N);break}e&&S&&E.alternate===null&&t(y,S),g=a(E,g,C),k===null?j=E:k.sibling=E,k=E,S=N}if(C===x.length)return r(y,S),Z&&hr(y,C),j;if(S===null){for(;C<x.length;C++)S=h(y,x[C],_),S!==null&&(g=a(S,g,C),k===null?j=S:k.sibling=S,k=S);return Z&&hr(y,C),j}for(S=n(y,S);C<x.length;C++)N=m(S,y,C,x[C],_),N!==null&&(e&&N.alternate!==null&&S.delete(N.key===null?C:N.key),g=a(N,g,C),k===null?j=N:k.sibling=N,k=N);return e&&S.forEach(function(R){return t(y,R)}),Z&&hr(y,C),j}function v(y,g,x,_){var j=Cn(x);if(typeof j!="function")throw Error(P(150));if(x=j.call(x),x==null)throw Error(P(151));for(var k=j=null,S=g,C=g=0,N=null,E=x.next();S!==null&&!E.done;C++,E=x.next()){S.index>C?(N=S,S=null):N=S.sibling;var R=f(y,S,E.value,_);if(R===null){S===null&&(S=N);break}e&&S&&R.alternate===null&&t(y,S),g=a(R,g,C),k===null?j=R:k.sibling=R,k=R,S=N}if(E.done)return r(y,S),Z&&hr(y,C),j;if(S===null){for(;!E.done;C++,E=x.next())E=h(y,E.value,_),E!==null&&(g=a(E,g,C),k===null?j=E:k.sibling=E,k=E);return Z&&hr(y,C),j}for(S=n(y,S);!E.done;C++,E=x.next())E=m(S,y,C,E.value,_),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?C:E.key),g=a(E,g,C),k===null?j=E:k.sibling=E,k=E);return e&&S.forEach(function($){return t(y,$)}),Z&&hr(y,C),j}function b(y,g,x,_){if(typeof x=="object"&&x!==null&&x.type===Vr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Fs:e:{for(var j=x.key,k=g;k!==null;){if(k.key===j){if(j=x.type,j===Vr){if(k.tag===7){r(y,k.sibling),g=s(k,x.props.children),g.return=y,y=g;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wt&&gu(j)===k.type){r(y,k.sibling),g=s(k,x.props),g.ref=Ln(y,k,x),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}x.type===Vr?(g=br(x.props.children,y.mode,_,x.key),g.return=y,y=g):(_=xa(x.type,x.key,x.props,null,y.mode,_),_.ref=Ln(y,g,x),_.return=y,y=_)}return o(y);case qr:e:{for(k=x.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(y,g.sibling),g=s(g,x.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=eo(x,y.mode,_),g.return=y,y=g}return o(y);case Wt:return k=x._init,b(y,g,k(x._payload),_)}if(zn(x))return p(y,g,x,_);if(Cn(x))return v(y,g,x,_);Js(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(y,g.sibling),g=s(g,x),g.return=y,y=g):(r(y,g),g=Zi(x,y.mode,_),g.return=y,y=g),o(y)):r(y,g)}return b}var mn=Ah(!0),$h=Ah(!1),$a=or(null),Ia=null,en=null,ql=null;function Vl(){ql=en=Ia=null}function Gl(e){var t=$a.current;J($a),e._currentValue=t}function Wo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ln(e,t){Ia=e,ql=en=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function Xe(e){var t=e._currentValue;if(ql!==e)if(e={context:e,memoizedValue:t,next:null},en===null){if(Ia===null)throw Error(P(308));en=e,Ia.dependencies={lanes:0,firstContext:e}}else en=en.next=e;return t}var xr=null;function Kl(e){xr===null?xr=[e]:xr.push(e)}function Ih(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Kl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Rt(e,n)}function Rt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bt=!1;function Yl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Et(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Rt(e,r)}return s=n.interleaved,s===null?(t.next=t,Kl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Rt(e,r)}function ha(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Dl(e,r)}}function yu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ma(e,t,r,n){var s=e.updateQueue;Bt=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,v=l;switch(f=t,m=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){h=p.call(m,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(m,h,f):p,f==null)break e;h=ne({},h,f);break e;case 2:Bt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Sr|=o,e.lanes=o,e.memoizedState=h}}function xu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(P(191,s));s.call(n)}}}var Os={},gt=or(Os),ys=or(Os),xs=or(Os);function vr(e){if(e===Os)throw Error(P(174));return e}function Ql(e,t){switch(Y(xs,t),Y(ys,e),Y(gt,Os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_o(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_o(t,e)}J(gt),Y(gt,t)}function pn(){J(gt),J(ys),J(xs)}function Uh(e){vr(xs.current);var t=vr(gt.current),r=_o(t,e.type);t!==r&&(Y(ys,e),Y(gt,r))}function Jl(e){ys.current===e&&(J(gt),J(ys))}var ee=or(0);function Ua(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gi=[];function Xl(){for(var e=0;e<Gi.length;e++)Gi[e]._workInProgressVersionPrimary=null;Gi.length=0}var fa=It.ReactCurrentDispatcher,Ki=It.ReactCurrentBatchConfig,Nr=0,te=null,ue=null,fe=null,Fa=!1,Jn=!1,vs=0,D0=0;function we(){throw Error(P(321))}function Zl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dt(e[r],t[r]))return!1;return!0}function ec(e,t,r,n,s,a){if(Nr=a,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=e===null||e.memoizedState===null?M0:U0,e=r(n,s),Jn){a=0;do{if(Jn=!1,vs=0,25<=a)throw Error(P(301));a+=1,fe=ue=null,t.updateQueue=null,fa.current=F0,e=r(n,s)}while(Jn)}if(fa.current=za,t=ue!==null&&ue.next!==null,Nr=0,fe=ue=te=null,Fa=!1,t)throw Error(P(300));return e}function tc(){var e=vs!==0;return vs=0,e}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?te.memoizedState=fe=e:fe=fe.next=e,fe}function Ze(){if(ue===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=fe===null?te.memoizedState:fe.next;if(t!==null)fe=t,ue=e;else{if(e===null)throw Error(P(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},fe===null?te.memoizedState=fe=e:fe=fe.next=e}return fe}function ws(e,t){return typeof t=="function"?t(e):t}function Yi(e){var t=Ze(),r=t.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=e;var n=ue,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Nr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,te.lanes|=d,Sr|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,dt(n,t.memoizedState)||(De=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,te.lanes|=a,Sr|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qi(e){var t=Ze(),r=t.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);dt(a,t.memoizedState)||(De=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Fh(){}function zh(e,t){var r=te,n=Ze(),s=t(),a=!dt(n.memoizedState,s);if(a&&(n.memoizedState=s,De=!0),n=n.queue,rc(Hh.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||fe!==null&&fe.memoizedState.tag&1){if(r.flags|=2048,bs(9,Bh.bind(null,r,n,s,t),void 0,null),me===null)throw Error(P(349));Nr&30||Wh(r,t,s)}return s}function Wh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Bh(e,t,r,n){t.value=r,t.getSnapshot=n,qh(t)&&Vh(e)}function Hh(e,t,r){return r(function(){qh(t)&&Vh(e)})}function qh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dt(e,r)}catch{return!0}}function Vh(e){var t=Rt(e,1);t!==null&&ut(t,e,1,-1)}function vu(e){var t=ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=I0.bind(null,te,e),[t.memoizedState,e]}function bs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Gh(){return Ze().memoizedState}function ma(e,t,r,n){var s=ft();te.flags|=e,s.memoizedState=bs(1|t,r,void 0,n===void 0?null:n)}function oi(e,t,r,n){var s=Ze();n=n===void 0?null:n;var a=void 0;if(ue!==null){var o=ue.memoizedState;if(a=o.destroy,n!==null&&Zl(n,o.deps)){s.memoizedState=bs(t,r,a,n);return}}te.flags|=e,s.memoizedState=bs(1|t,r,a,n)}function wu(e,t){return ma(8390656,8,e,t)}function rc(e,t){return oi(2048,8,e,t)}function Kh(e,t){return oi(4,2,e,t)}function Yh(e,t){return oi(4,4,e,t)}function Qh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jh(e,t,r){return r=r!=null?r.concat([e]):null,oi(4,4,Qh.bind(null,t,e),r)}function nc(){}function Xh(e,t){var r=Ze();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Zh(e,t){var r=Ze();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ef(e,t,r){return Nr&21?(dt(r,t)||(r=ah(),te.lanes|=r,Sr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=r)}function A0(e,t){var r=G;G=r!==0&&4>r?r:4,e(!0);var n=Ki.transition;Ki.transition={};try{e(!1),t()}finally{G=r,Ki.transition=n}}function tf(){return Ze().memoizedState}function $0(e,t,r){var n=tr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rf(e))nf(t,r);else if(r=Ih(e,t,r,n),r!==null){var s=Ee();ut(r,e,n,s),sf(r,t,n)}}function I0(e,t,r){var n=tr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rf(e))nf(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,dt(l,o)){var c=t.interleaved;c===null?(s.next=s,Kl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ih(e,t,s,n),r!==null&&(s=Ee(),ut(r,e,n,s),sf(r,t,n))}}function rf(e){var t=e.alternate;return e===te||t!==null&&t===te}function nf(e,t){Jn=Fa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Dl(e,r)}}var za={readContext:Xe,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},M0={readContext:Xe,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:wu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ma(4194308,4,Qh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var r=ft();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ft();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=$0.bind(null,te,e),[n.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:vu,useDebugValue:nc,useDeferredValue:function(e){return ft().memoizedState=e},useTransition:function(){var e=vu(!1),t=e[0];return e=A0.bind(null,e[1]),ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=te,s=ft();if(Z){if(r===void 0)throw Error(P(407));r=r()}else{if(r=t(),me===null)throw Error(P(349));Nr&30||Wh(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,wu(Hh.bind(null,n,a,e),[e]),n.flags|=2048,bs(9,Bh.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ft(),t=me.identifierPrefix;if(Z){var r=St,n=Nt;r=(n&~(1<<32-ct(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=vs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=D0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},U0={readContext:Xe,useCallback:Xh,useContext:Xe,useEffect:rc,useImperativeHandle:Jh,useInsertionEffect:Kh,useLayoutEffect:Yh,useMemo:Zh,useReducer:Yi,useRef:Gh,useState:function(){return Yi(ws)},useDebugValue:nc,useDeferredValue:function(e){var t=Ze();return ef(t,ue.memoizedState,e)},useTransition:function(){var e=Yi(ws)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Fh,useSyncExternalStore:zh,useId:tf,unstable_isNewReconciler:!1},F0={readContext:Xe,useCallback:Xh,useContext:Xe,useEffect:rc,useImperativeHandle:Jh,useInsertionEffect:Kh,useLayoutEffect:Yh,useMemo:Zh,useReducer:Qi,useRef:Gh,useState:function(){return Qi(ws)},useDebugValue:nc,useDeferredValue:function(e){var t=Ze();return ue===null?t.memoizedState=e:ef(t,ue.memoizedState,e)},useTransition:function(){var e=Qi(ws)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Fh,useSyncExternalStore:zh,useId:tf,unstable_isNewReconciler:!1};function st(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ne({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var li={isMounted:function(e){return(e=e._reactInternals)?Or(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ee(),s=tr(e),a=Et(n,s);a.payload=t,r!=null&&(a.callback=r),t=Zt(e,a,s),t!==null&&(ut(t,e,s,n),ha(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ee(),s=tr(e),a=Et(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Zt(e,a,s),t!==null&&(ut(t,e,s,n),ha(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ee(),n=tr(e),s=Et(r,n);s.tag=2,t!=null&&(s.callback=t),t=Zt(e,s,n),t!==null&&(ut(t,e,n,r),ha(t,e,n))}};function bu(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!fs(r,n)||!fs(s,a):!0}function af(e,t,r){var n=!1,s=ar,a=t.contextType;return typeof a=="object"&&a!==null?a=Xe(a):(s=$e(t)?jr:ke.current,n=t.contextTypes,a=(n=n!=null)?hn(e,s):ar),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=li,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function _u(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&li.enqueueReplaceState(t,t.state,null)}function Ho(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Yl(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Xe(a):(a=$e(t)?jr:ke.current,s.context=hn(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Bo(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&li.enqueueReplaceState(s,s.state,null),Ma(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function gn(e,t){try{var r="",n=t;do r+=mp(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ji(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var z0=typeof WeakMap=="function"?WeakMap:Map;function of(e,t,r){r=Et(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ba||(Ba=!0,tl=n),qo(e,t)},r}function lf(e,t,r){r=Et(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){qo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){qo(e,t),typeof n!="function"&&(er===null?er=new Set([this]):er.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ju(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new z0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=tg.bind(null,e,t,r),t.then(e,e))}function ku(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Et(-1,1),t.tag=2,Zt(r,t,1))),r.lanes|=1),e)}var W0=It.ReactCurrentOwner,De=!1;function Se(e,t,r,n){t.child=e===null?$h(t,null,r,n):mn(t,e.child,r,n)}function Su(e,t,r,n,s){r=r.render;var a=t.ref;return ln(t,s),n=ec(e,t,r,n,a,s),r=tc(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(Z&&r&&Wl(t),t.flags|=1,Se(e,t,n,s),t.child)}function Eu(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!dc(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,cf(e,t,a,n,s)):(e=xa(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:fs,r(o,n)&&e.ref===t.ref)return Lt(e,t,s)}return t.flags|=1,e=rr(a,n),e.ref=t.ref,e.return=t,t.child=e}function cf(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(fs(a,n)&&e.ref===t.ref)if(De=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,Lt(e,t,s)}return Vo(e,t,r,n,s)}function uf(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(rn,Fe),Fe|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(rn,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Y(rn,Fe),Fe|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Y(rn,Fe),Fe|=n;return Se(e,t,s,r),t.child}function df(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Vo(e,t,r,n,s){var a=$e(r)?jr:ke.current;return a=hn(t,a),ln(t,s),r=ec(e,t,r,n,a,s),n=tc(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(Z&&n&&Wl(t),t.flags|=1,Se(e,t,r,s),t.child)}function Cu(e,t,r,n,s){if($e(r)){var a=!0;La(t)}else a=!1;if(ln(t,s),t.stateNode===null)pa(e,t),af(t,r,n),Ho(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Xe(u):(u=$e(r)?jr:ke.current,u=hn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&_u(t,o,n,u),Bt=!1;var f=t.memoizedState;o.state=f,Ma(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Ae.current||Bt?(typeof d=="function"&&(Bo(t,r,d,n),c=t.memoizedState),(l=Bt||bu(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Mh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:st(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Xe(c):(c=$e(r)?jr:ke.current,c=hn(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&_u(t,o,n,c),Bt=!1,f=t.memoizedState,o.state=f,Ma(t,n,o,s);var p=t.memoizedState;l!==h||f!==p||Ae.current||Bt?(typeof m=="function"&&(Bo(t,r,m,n),p=t.memoizedState),(u=Bt||bu(t,r,u,n,f,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Go(e,t,r,n,a,s)}function Go(e,t,r,n,s,a){df(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&fu(t,r,!1),Lt(e,t,a);n=t.stateNode,W0.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=mn(t,e.child,null,a),t.child=mn(t,null,l,a)):Se(e,t,l,a),t.memoizedState=n.state,s&&fu(t,r,!0),t.child}function hf(e){var t=e.stateNode;t.pendingContext?hu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hu(e,t.context,!1),Ql(e,t.containerInfo)}function Pu(e,t,r,n,s){return fn(),Hl(s),t.flags|=256,Se(e,t,r,n),t.child}var Ko={dehydrated:null,treeContext:null,retryLane:0};function Yo(e){return{baseLanes:e,cachePool:null,transitions:null}}function ff(e,t,r){var n=t.pendingProps,s=ee.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Y(ee,s&1),e===null)return zo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=di(o,n,0,null),e=br(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Yo(r),t.memoizedState=Ko,e):sc(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return B0(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=rr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=rr(l,a):(a=br(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Yo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Ko,n}return a=e.child,e=a.sibling,n=rr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function sc(e,t){return t=di({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xs(e,t,r,n){return n!==null&&Hl(n),mn(t,e.child,null,r),e=sc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function B0(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Ji(Error(P(422))),Xs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=di({mode:"visible",children:n.children},s,0,null),a=br(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&mn(t,e.child,null,o),t.child.memoizedState=Yo(o),t.memoizedState=Ko,a);if(!(t.mode&1))return Xs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(P(419)),n=Ji(a,n,void 0),Xs(e,t,o,n)}if(l=(o&e.childLanes)!==0,De||l){if(n=me,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Rt(e,s),ut(n,e,s,-1))}return uc(),n=Ji(Error(P(421))),Xs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rg.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ze=Xt(s.nextSibling),We=t,Z=!0,ot=null,e!==null&&(Ge[Ke++]=Nt,Ge[Ke++]=St,Ge[Ke++]=kr,Nt=e.id,St=e.overflow,kr=t),t=sc(t,n.children),t.flags|=4096,t)}function Tu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Wo(e.return,t,r)}function Xi(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function mf(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Se(e,t,n.children,r),n=ee.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tu(e,r,t);else if(e.tag===19)Tu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Y(ee,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ua(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Xi(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ua(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Xi(t,!0,r,null,a);break;case"together":Xi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,r=rr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=rr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function H0(e,t,r){switch(t.tag){case 3:hf(t),fn();break;case 5:Uh(t);break;case 1:$e(t.type)&&La(t);break;case 4:Ql(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Y($a,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Y(ee,ee.current&1),t.flags|=128,null):r&t.child.childLanes?ff(e,t,r):(Y(ee,ee.current&1),e=Lt(e,t,r),e!==null?e.sibling:null);Y(ee,ee.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return mf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(ee,ee.current),n)break;return null;case 22:case 23:return t.lanes=0,uf(e,t,r)}return Lt(e,t,r)}var pf,Qo,gf,yf;pf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qo=function(){};gf=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vr(gt.current);var a=null;switch(r){case"input":s=xo(e,s),n=xo(e,n),a=[];break;case"select":s=ne({},s,{value:void 0}),n=ne({},n,{value:void 0}),a=[];break;case"textarea":s=bo(e,s),n=bo(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Oa)}jo(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(is.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(is.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Q("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};yf=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dn(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function q0(e,t,r){var n=t.pendingProps;switch(Bl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return $e(t.type)&&Ra(),be(t),null;case 3:return n=t.stateNode,pn(),J(Ae),J(ke),Xl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(sl(ot),ot=null))),Qo(e,t),be(t),null;case 5:Jl(t);var s=vr(xs.current);if(r=t.type,e!==null&&t.stateNode!=null)gf(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(P(166));return be(t),null}if(e=vr(gt.current),Qs(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[mt]=t,n[gs]=a,e=(t.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<Bn.length;s++)Q(Bn[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":Uc(n,a),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Q("invalid",n);break;case"textarea":zc(n,a),Q("invalid",n)}jo(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ys(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ys(n.textContent,l,e),s=["children",""+l]):is.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Q("scroll",n)}switch(r){case"input":zs(n),Fc(n,a,!0);break;case"textarea":zs(n),Wc(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Oa)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[mt]=t,e[gs]=n,pf(e,t,!1,!1),t.stateNode=e;e:{switch(o=ko(r,n),r){case"dialog":Q("cancel",e),Q("close",e),s=n;break;case"iframe":case"object":case"embed":Q("load",e),s=n;break;case"video":case"audio":for(s=0;s<Bn.length;s++)Q(Bn[s],e);s=n;break;case"source":Q("error",e),s=n;break;case"img":case"image":case"link":Q("error",e),Q("load",e),s=n;break;case"details":Q("toggle",e),s=n;break;case"input":Uc(e,n),s=xo(e,n),Q("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ne({},n,{value:void 0}),Q("invalid",e);break;case"textarea":zc(e,n),s=bo(e,n),Q("invalid",e);break;default:s=n}jo(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Gd(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qd(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&os(e,c):typeof c=="number"&&os(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(is.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Q("scroll",e):c!=null&&Cl(e,a,c,o))}switch(r){case"input":zs(e),Fc(e,n,!1);break;case"textarea":zs(e),Wc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+sr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?nn(e,!!n.multiple,a,!1):n.defaultValue!=null&&nn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Oa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)yf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(P(166));if(r=vr(xs.current),vr(gt.current),Qs(t)){if(n=t.stateNode,r=t.memoizedProps,n[mt]=t,(a=n.nodeValue!==r)&&(e=We,e!==null))switch(e.tag){case 3:Ys(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ys(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[mt]=t,t.stateNode=n}return be(t),null;case 13:if(J(ee),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&ze!==null&&t.mode&1&&!(t.flags&128))Dh(),fn(),t.flags|=98560,a=!1;else if(a=Qs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(P(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(P(317));a[mt]=t}else fn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),a=!1}else ot!==null&&(sl(ot),ot=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?de===0&&(de=3):uc())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return pn(),Qo(e,t),e===null&&ms(t.stateNode.containerInfo),be(t),null;case 10:return Gl(t.type._context),be(t),null;case 17:return $e(t.type)&&Ra(),be(t),null;case 19:if(J(ee),a=t.memoizedState,a===null)return be(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Dn(a,!1);else{if(de!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ua(e),o!==null){for(t.flags|=128,Dn(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Y(ee,ee.current&1|2),t.child}e=e.sibling}a.tail!==null&&ae()>yn&&(t.flags|=128,n=!0,Dn(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ua(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Z)return be(t),null}else 2*ae()-a.renderingStartTime>yn&&r!==1073741824&&(t.flags|=128,n=!0,Dn(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ae(),t.sibling=null,r=ee.current,Y(ee,n?r&1|2:r&1),t):(be(t),null);case 22:case 23:return cc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fe&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function V0(e,t){switch(Bl(t),t.tag){case 1:return $e(t.type)&&Ra(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pn(),J(Ae),J(ke),Xl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jl(t),null;case 13:if(J(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(ee),null;case 4:return pn(),null;case 10:return Gl(t.type._context),null;case 22:case 23:return cc(),null;case 24:return null;default:return null}}var Zs=!1,_e=!1,G0=typeof WeakSet=="function"?WeakSet:Set,L=null;function tn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){se(e,t,n)}else r.current=null}function Jo(e,t,r){try{r()}catch(n){se(e,t,n)}}var Ou=!1;function K0(e,t){if(Do=Ca,e=bh(),zl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=o),f===a&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ao={focusedElem:e,selectionRange:r},Ca=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,b=p.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:st(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(_){se(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return p=Ou,Ou=!1,p}function Xn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Jo(t,r,a)}s=s.next}while(s!==n)}}function ci(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Xo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xf(e){var t=e.alternate;t!==null&&(e.alternate=null,xf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mt],delete t[gs],delete t[Mo],delete t[T0],delete t[O0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vf(e){return e.tag===5||e.tag===3||e.tag===4}function Ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Oa));else if(n!==4&&(e=e.child,e!==null))for(Zo(e,t,r),e=e.sibling;e!==null;)Zo(e,t,r),e=e.sibling}function el(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(el(e,t,r),e=e.sibling;e!==null;)el(e,t,r),e=e.sibling}var ge=null,at=!1;function Mt(e,t,r){for(r=r.child;r!==null;)wf(e,t,r),r=r.sibling}function wf(e,t,r){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(ti,r)}catch{}switch(r.tag){case 5:_e||tn(r,t);case 6:var n=ge,s=at;ge=null,Mt(e,t,r),ge=n,at=s,ge!==null&&(at?(e=ge,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ge.removeChild(r.stateNode));break;case 18:ge!==null&&(at?(e=ge,r=r.stateNode,e.nodeType===8?qi(e.parentNode,r):e.nodeType===1&&qi(e,r),ds(e)):qi(ge,r.stateNode));break;case 4:n=ge,s=at,ge=r.stateNode.containerInfo,at=!0,Mt(e,t,r),ge=n,at=s;break;case 0:case 11:case 14:case 15:if(!_e&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Jo(r,t,o),s=s.next}while(s!==n)}Mt(e,t,r);break;case 1:if(!_e&&(tn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){se(r,t,l)}Mt(e,t,r);break;case 21:Mt(e,t,r);break;case 22:r.mode&1?(_e=(n=_e)||r.memoizedState!==null,Mt(e,t,r),_e=n):Mt(e,t,r);break;default:Mt(e,t,r)}}function Lu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new G0),t.forEach(function(n){var s=ng.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function rt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ge=l.stateNode,at=!1;break e;case 3:ge=l.stateNode.containerInfo,at=!0;break e;case 4:ge=l.stateNode.containerInfo,at=!0;break e}l=l.return}if(ge===null)throw Error(P(160));wf(a,o,s),ge=null,at=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bf(t,e),t=t.sibling}function bf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rt(t,e),ht(e),n&4){try{Xn(3,e,e.return),ci(3,e)}catch(v){se(e,e.return,v)}try{Xn(5,e,e.return)}catch(v){se(e,e.return,v)}}break;case 1:rt(t,e),ht(e),n&512&&r!==null&&tn(r,r.return);break;case 5:if(rt(t,e),ht(e),n&512&&r!==null&&tn(r,r.return),e.flags&32){var s=e.stateNode;try{os(s,"")}catch(v){se(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Wd(s,a),ko(l,o);var u=ko(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Gd(s,h):d==="dangerouslySetInnerHTML"?qd(s,h):d==="children"?os(s,h):Cl(s,d,h,u)}switch(l){case"input":vo(s,a);break;case"textarea":Bd(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?nn(s,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?nn(s,!!a.multiple,a.defaultValue,!0):nn(s,!!a.multiple,a.multiple?[]:"",!1))}s[gs]=a}catch(v){se(e,e.return,v)}}break;case 6:if(rt(t,e),ht(e),n&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){se(e,e.return,v)}}break;case 3:if(rt(t,e),ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ds(t.containerInfo)}catch(v){se(e,e.return,v)}break;case 4:rt(t,e),ht(e);break;case 13:rt(t,e),ht(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(oc=ae())),n&4&&Lu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(_e=(u=_e)||d,rt(t,e),_e=u):rt(t,e),ht(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(L=e,d=e.child;d!==null;){for(h=L=d;L!==null;){switch(f=L,m=f.child,f.tag){case 0:case 11:case 14:case 15:Xn(4,f,f.return);break;case 1:tn(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){se(n,r,v)}}break;case 5:tn(f,f.return);break;case 22:if(f.memoizedState!==null){Au(h);continue}}m!==null?(m.return=f,L=m):Au(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Vd("display",o))}catch(v){se(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){se(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:rt(t,e),ht(e),n&4&&Lu(e);break;case 21:break;default:rt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(vf(r)){var n=r;break e}r=r.return}throw Error(P(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(os(s,""),n.flags&=-33);var a=Ru(e);el(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ru(e);Zo(e,l,o);break;default:throw Error(P(161))}}catch(c){se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Y0(e,t,r){L=e,_f(e)}function _f(e,t,r){for(var n=(e.mode&1)!==0;L!==null;){var s=L,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Zs;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||_e;l=Zs;var u=_e;if(Zs=o,(_e=c)&&!u)for(L=s;L!==null;)o=L,c=o.child,o.tag===22&&o.memoizedState!==null?$u(s):c!==null?(c.return=o,L=c):$u(s);for(;a!==null;)L=a,_f(a),a=a.sibling;L=s,Zs=l,_e=u}Du(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,L=a):Du(e)}}function Du(e){for(;L!==null;){var t=L;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||ci(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_e)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:st(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&xu(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xu(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ds(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}_e||t.flags&512&&Xo(t)}catch(f){se(t,t.return,f)}}if(t===e){L=null;break}if(r=t.sibling,r!==null){r.return=t.return,L=r;break}L=t.return}}function Au(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var r=t.sibling;if(r!==null){r.return=t.return,L=r;break}L=t.return}}function $u(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ci(4,t)}catch(c){se(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){se(t,s,c)}}var a=t.return;try{Xo(t)}catch(c){se(t,a,c)}break;case 5:var o=t.return;try{Xo(t)}catch(c){se(t,o,c)}}}catch(c){se(t,t.return,c)}if(t===e){L=null;break}var l=t.sibling;if(l!==null){l.return=t.return,L=l;break}L=t.return}}var Q0=Math.ceil,Wa=It.ReactCurrentDispatcher,ac=It.ReactCurrentOwner,Qe=It.ReactCurrentBatchConfig,q=0,me=null,oe=null,ye=0,Fe=0,rn=or(0),de=0,_s=null,Sr=0,ui=0,ic=0,Zn=null,Re=null,oc=0,yn=1/0,bt=null,Ba=!1,tl=null,er=null,ea=!1,Kt=null,Ha=0,es=0,rl=null,ga=-1,ya=0;function Ee(){return q&6?ae():ga!==-1?ga:ga=ae()}function tr(e){return e.mode&1?q&2&&ye!==0?ye&-ye:L0.transition!==null?(ya===0&&(ya=ah()),ya):(e=G,e!==0||(e=window.event,e=e===void 0?16:hh(e.type)),e):1}function ut(e,t,r,n){if(50<es)throw es=0,rl=null,Error(P(185));Cs(e,r,n),(!(q&2)||e!==me)&&(e===me&&(!(q&2)&&(ui|=r),de===4&&qt(e,ye)),Ie(e,n),r===1&&q===0&&!(t.mode&1)&&(yn=ae()+500,ii&&lr()))}function Ie(e,t){var r=e.callbackNode;Lp(e,t);var n=Ea(e,e===me?ye:0);if(n===0)r!==null&&qc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&qc(r),t===1)e.tag===0?R0(Iu.bind(null,e)):Oh(Iu.bind(null,e)),C0(function(){!(q&6)&&lr()}),r=null;else{switch(ih(n)){case 1:r=Ll;break;case 4:r=nh;break;case 16:r=Sa;break;case 536870912:r=sh;break;default:r=Sa}r=Tf(r,jf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jf(e,t){if(ga=-1,ya=0,q&6)throw Error(P(327));var r=e.callbackNode;if(cn()&&e.callbackNode!==r)return null;var n=Ea(e,e===me?ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=qa(e,n);else{t=n;var s=q;q|=2;var a=Nf();(me!==e||ye!==t)&&(bt=null,yn=ae()+500,wr(e,t));do try{Z0();break}catch(l){kf(e,l)}while(!0);Vl(),Wa.current=a,q=s,oe!==null?t=0:(me=null,ye=0,t=de)}if(t!==0){if(t===2&&(s=Po(e),s!==0&&(n=s,t=nl(e,s))),t===1)throw r=_s,wr(e,0),qt(e,n),Ie(e,ae()),r;if(t===6)qt(e,n);else{if(s=e.current.alternate,!(n&30)&&!J0(s)&&(t=qa(e,n),t===2&&(a=Po(e),a!==0&&(n=a,t=nl(e,a))),t===1))throw r=_s,wr(e,0),qt(e,n),Ie(e,ae()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(P(345));case 2:fr(e,Re,bt);break;case 3:if(qt(e,n),(n&130023424)===n&&(t=oc+500-ae(),10<t)){if(Ea(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ee(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Io(fr.bind(null,e,Re,bt),t);break}fr(e,Re,bt);break;case 4:if(qt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ct(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Q0(n/1960))-n,10<n){e.timeoutHandle=Io(fr.bind(null,e,Re,bt),n);break}fr(e,Re,bt);break;case 5:fr(e,Re,bt);break;default:throw Error(P(329))}}}return Ie(e,ae()),e.callbackNode===r?jf.bind(null,e):null}function nl(e,t){var r=Zn;return e.current.memoizedState.isDehydrated&&(wr(e,t).flags|=256),e=qa(e,t),e!==2&&(t=Re,Re=r,t!==null&&sl(t)),e}function sl(e){Re===null?Re=e:Re.push.apply(Re,e)}function J0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!dt(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~ic,t&=~ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ct(t),n=1<<r;e[r]=-1,t&=~n}}function Iu(e){if(q&6)throw Error(P(327));cn();var t=Ea(e,0);if(!(t&1))return Ie(e,ae()),null;var r=qa(e,t);if(e.tag!==0&&r===2){var n=Po(e);n!==0&&(t=n,r=nl(e,n))}if(r===1)throw r=_s,wr(e,0),qt(e,t),Ie(e,ae()),r;if(r===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,Re,bt),Ie(e,ae()),null}function lc(e,t){var r=q;q|=1;try{return e(t)}finally{q=r,q===0&&(yn=ae()+500,ii&&lr())}}function Er(e){Kt!==null&&Kt.tag===0&&!(q&6)&&cn();var t=q;q|=1;var r=Qe.transition,n=G;try{if(Qe.transition=null,G=1,e)return e()}finally{G=n,Qe.transition=r,q=t,!(q&6)&&lr()}}function cc(){Fe=rn.current,J(rn)}function wr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,E0(r)),oe!==null)for(r=oe.return;r!==null;){var n=r;switch(Bl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ra();break;case 3:pn(),J(Ae),J(ke),Xl();break;case 5:Jl(n);break;case 4:pn();break;case 13:J(ee);break;case 19:J(ee);break;case 10:Gl(n.type._context);break;case 22:case 23:cc()}r=r.return}if(me=e,oe=e=rr(e.current,null),ye=Fe=t,de=0,_s=null,ic=ui=Sr=0,Re=Zn=null,xr!==null){for(t=0;t<xr.length;t++)if(r=xr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}xr=null}return e}function kf(e,t){do{var r=oe;try{if(Vl(),fa.current=za,Fa){for(var n=te.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Fa=!1}if(Nr=0,fe=ue=te=null,Jn=!1,vs=0,ac.current=null,r===null||r.return===null){de=1,_s=t,oe=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=ye,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ku(o);if(m!==null){m.flags&=-257,Nu(m,o,l,a,t),m.mode&1&&ju(a,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}else{if(!(t&1)){ju(a,u,t),uc();break e}c=Error(P(426))}}else if(Z&&l.mode&1){var b=ku(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Nu(b,o,l,a,t),Hl(gn(c,l));break e}}a=c=gn(c,l),de!==4&&(de=2),Zn===null?Zn=[a]:Zn.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=of(a,c,t);yu(a,y);break e;case 1:l=c;var g=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(er===null||!er.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=lf(a,l,t);yu(a,_);break e}}a=a.return}while(a!==null)}Ef(r)}catch(j){t=j,oe===r&&r!==null&&(oe=r=r.return);continue}break}while(!0)}function Nf(){var e=Wa.current;return Wa.current=za,e===null?za:e}function uc(){(de===0||de===3||de===2)&&(de=4),me===null||!(Sr&268435455)&&!(ui&268435455)||qt(me,ye)}function qa(e,t){var r=q;q|=2;var n=Nf();(me!==e||ye!==t)&&(bt=null,wr(e,t));do try{X0();break}catch(s){kf(e,s)}while(!0);if(Vl(),q=r,Wa.current=n,oe!==null)throw Error(P(261));return me=null,ye=0,de}function X0(){for(;oe!==null;)Sf(oe)}function Z0(){for(;oe!==null&&!kp();)Sf(oe)}function Sf(e){var t=Pf(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?Ef(e):oe=t,ac.current=null}function Ef(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=V0(r,t),r!==null){r.flags&=32767,oe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{de=6,oe=null;return}}else if(r=q0(r,t,Fe),r!==null){oe=r;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);de===0&&(de=5)}function fr(e,t,r){var n=G,s=Qe.transition;try{Qe.transition=null,G=1,eg(e,t,r,n)}finally{Qe.transition=s,G=n}return null}function eg(e,t,r,n){do cn();while(Kt!==null);if(q&6)throw Error(P(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Dp(e,a),e===me&&(oe=me=null,ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ea||(ea=!0,Tf(Sa,function(){return cn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Qe.transition,Qe.transition=null;var o=G;G=1;var l=q;q|=4,ac.current=null,K0(e,r),bf(r,e),w0(Ao),Ca=!!Do,Ao=Do=null,e.current=r,Y0(r),Np(),q=l,G=o,Qe.transition=a}else e.current=r;if(ea&&(ea=!1,Kt=e,Ha=s),a=e.pendingLanes,a===0&&(er=null),Cp(r.stateNode),Ie(e,ae()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ba)throw Ba=!1,e=tl,tl=null,e;return Ha&1&&e.tag!==0&&cn(),a=e.pendingLanes,a&1?e===rl?es++:(es=0,rl=e):es=0,lr(),null}function cn(){if(Kt!==null){var e=ih(Ha),t=Qe.transition,r=G;try{if(Qe.transition=null,G=16>e?16:e,Kt===null)var n=!1;else{if(e=Kt,Kt=null,Ha=0,q&6)throw Error(P(331));var s=q;for(q|=4,L=e.current;L!==null;){var a=L,o=a.child;if(L.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(L=u;L!==null;){var d=L;switch(d.tag){case 0:case 11:case 15:Xn(8,d,a)}var h=d.child;if(h!==null)h.return=d,L=h;else for(;L!==null;){d=L;var f=d.sibling,m=d.return;if(xf(d),d===u){L=null;break}if(f!==null){f.return=m,L=f;break}L=m}}}var p=a.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}L=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,L=o;else e:for(;L!==null;){if(a=L,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xn(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,L=y;break e}L=a.return}}var g=e.current;for(L=g;L!==null;){o=L;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,L=x;else e:for(o=g;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ci(9,l)}}catch(j){se(l,l.return,j)}if(l===o){L=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,L=_;break e}L=l.return}}if(q=s,lr(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(ti,e)}catch{}n=!0}return n}finally{G=r,Qe.transition=t}}return!1}function Mu(e,t,r){t=gn(r,t),t=of(e,t,1),e=Zt(e,t,1),t=Ee(),e!==null&&(Cs(e,1,t),Ie(e,t))}function se(e,t,r){if(e.tag===3)Mu(e,e,r);else for(;t!==null;){if(t.tag===3){Mu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(er===null||!er.has(n))){e=gn(r,e),e=lf(t,e,1),t=Zt(t,e,1),e=Ee(),t!==null&&(Cs(t,1,e),Ie(t,e));break}}t=t.return}}function tg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ee(),e.pingedLanes|=e.suspendedLanes&r,me===e&&(ye&r)===r&&(de===4||de===3&&(ye&130023424)===ye&&500>ae()-oc?wr(e,0):ic|=r),Ie(e,t)}function Cf(e,t){t===0&&(e.mode&1?(t=Hs,Hs<<=1,!(Hs&130023424)&&(Hs=4194304)):t=1);var r=Ee();e=Rt(e,t),e!==null&&(Cs(e,t,r),Ie(e,r))}function rg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Cf(e,r)}function ng(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(P(314))}n!==null&&n.delete(t),Cf(e,r)}var Pf;Pf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)De=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return De=!1,H0(e,t,r);De=!!(e.flags&131072)}else De=!1,Z&&t.flags&1048576&&Rh(t,Aa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;pa(e,t),e=t.pendingProps;var s=hn(t,ke.current);ln(t,r),s=ec(null,t,n,e,s,r);var a=tc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$e(n)?(a=!0,La(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yl(t),s.updater=li,t.stateNode=s,s._reactInternals=t,Ho(t,n,e,r),t=Go(null,t,n,!0,a,r)):(t.tag=0,Z&&a&&Wl(t),Se(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(pa(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=ag(n),e=st(n,e),s){case 0:t=Vo(null,t,n,e,r);break e;case 1:t=Cu(null,t,n,e,r);break e;case 11:t=Su(null,t,n,e,r);break e;case 14:t=Eu(null,t,n,st(n.type,e),r);break e}throw Error(P(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:st(n,s),Vo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:st(n,s),Cu(e,t,n,s,r);case 3:e:{if(hf(t),e===null)throw Error(P(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Mh(e,t),Ma(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=gn(Error(P(423)),t),t=Pu(e,t,n,r,s);break e}else if(n!==s){s=gn(Error(P(424)),t),t=Pu(e,t,n,r,s);break e}else for(ze=Xt(t.stateNode.containerInfo.firstChild),We=t,Z=!0,ot=null,r=$h(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fn(),n===s){t=Lt(e,t,r);break e}Se(e,t,n,r)}t=t.child}return t;case 5:return Uh(t),e===null&&zo(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,$o(n,s)?o=null:a!==null&&$o(n,a)&&(t.flags|=32),df(e,t),Se(e,t,o,r),t.child;case 6:return e===null&&zo(t),null;case 13:return ff(e,t,r);case 4:return Ql(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=mn(t,null,n,r):Se(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:st(n,s),Su(e,t,n,s,r);case 7:return Se(e,t,t.pendingProps,r),t.child;case 8:return Se(e,t,t.pendingProps.children,r),t.child;case 12:return Se(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Y($a,n._currentValue),n._currentValue=o,a!==null)if(dt(a.value,o)){if(a.children===s.children&&!Ae.current){t=Lt(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Et(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Wo(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(P(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Wo(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Se(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ln(t,r),s=Xe(s),n=n(s),t.flags|=1,Se(e,t,n,r),t.child;case 14:return n=t.type,s=st(n,t.pendingProps),s=st(n.type,s),Eu(e,t,n,s,r);case 15:return cf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:st(n,s),pa(e,t),t.tag=1,$e(n)?(e=!0,La(t)):e=!1,ln(t,r),af(t,n,s),Ho(t,n,s,r),Go(null,t,n,!0,e,r);case 19:return mf(e,t,r);case 22:return uf(e,t,r)}throw Error(P(156,t.tag))};function Tf(e,t){return rh(e,t)}function sg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,r,n){return new sg(e,t,r,n)}function dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ag(e){if(typeof e=="function")return dc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tl)return 11;if(e===Ol)return 14}return 2}function rr(e,t){var r=e.alternate;return r===null?(r=Ye(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xa(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")dc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vr:return br(r.children,s,a,t);case Pl:o=8,s|=8;break;case mo:return e=Ye(12,r,t,s|2),e.elementType=mo,e.lanes=a,e;case po:return e=Ye(13,r,t,s),e.elementType=po,e.lanes=a,e;case go:return e=Ye(19,r,t,s),e.elementType=go,e.lanes=a,e;case Ud:return di(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Id:o=10;break e;case Md:o=9;break e;case Tl:o=11;break e;case Ol:o=14;break e;case Wt:o=16,n=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Ye(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function br(e,t,r,n){return e=Ye(7,e,n,t),e.lanes=r,e}function di(e,t,r,n){return e=Ye(22,e,n,t),e.elementType=Ud,e.lanes=r,e.stateNode={isHidden:!1},e}function Zi(e,t,r){return e=Ye(6,e,null,t),e.lanes=r,e}function eo(e,t,r){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ig(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hc(e,t,r,n,s,a,o,l,c){return e=new ig(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ye(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yl(a),e}function og(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Of(e){if(!e)return ar;e=e._reactInternals;e:{if(Or(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var r=e.type;if($e(r))return Th(e,r,t)}return t}function Rf(e,t,r,n,s,a,o,l,c){return e=hc(r,n,!0,e,s,a,o,l,c),e.context=Of(null),r=e.current,n=Ee(),s=tr(r),a=Et(n,s),a.callback=t??null,Zt(r,a,s),e.current.lanes=s,Cs(e,s,n),Ie(e,n),e}function hi(e,t,r,n){var s=t.current,a=Ee(),o=tr(s);return r=Of(r),t.context===null?t.context=r:t.pendingContext=r,t=Et(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Zt(s,t,o),e!==null&&(ut(e,s,o,a),ha(e,s,o)),o}function Va(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fc(e,t){Uu(e,t),(e=e.alternate)&&Uu(e,t)}function lg(){return null}var Lf=typeof reportError=="function"?reportError:function(e){console.error(e)};function mc(e){this._internalRoot=e}fi.prototype.render=mc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));hi(e,t,null,null)};fi.prototype.unmount=mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Er(function(){hi(null,e,null,null)}),t[Ot]=null}};function fi(e){this._internalRoot=e}fi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ch();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ht.length&&t!==0&&t<Ht[r].priority;r++);Ht.splice(r,0,e),r===0&&dh(e)}};function pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fu(){}function cg(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Va(o);a.call(u)}}var o=Rf(t,n,e,0,null,!1,!1,"",Fu);return e._reactRootContainer=o,e[Ot]=o.current,ms(e.nodeType===8?e.parentNode:e),Er(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Va(c);l.call(u)}}var c=hc(e,0,!1,null,null,!1,!1,"",Fu);return e._reactRootContainer=c,e[Ot]=c.current,ms(e.nodeType===8?e.parentNode:e),Er(function(){hi(t,c,r,n)}),c}function pi(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Va(o);l.call(c)}}hi(t,o,e,s)}else o=cg(r,t,e,s,n);return Va(o)}oh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wn(t.pendingLanes);r!==0&&(Dl(t,r|1),Ie(t,ae()),!(q&6)&&(yn=ae()+500,lr()))}break;case 13:Er(function(){var n=Rt(e,1);if(n!==null){var s=Ee();ut(n,e,1,s)}}),fc(e,1)}};Al=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var r=Ee();ut(t,e,134217728,r)}fc(e,134217728)}};lh=function(e){if(e.tag===13){var t=tr(e),r=Rt(e,t);if(r!==null){var n=Ee();ut(r,e,t,n)}fc(e,t)}};ch=function(){return G};uh=function(e,t){var r=G;try{return G=e,t()}finally{G=r}};So=function(e,t,r){switch(t){case"input":if(vo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ai(n);if(!s)throw Error(P(90));zd(n),vo(n,s)}}}break;case"textarea":Bd(e,r);break;case"select":t=r.value,t!=null&&nn(e,!!r.multiple,t,!1)}};Qd=lc;Jd=Er;var ug={usingClientEntryPoint:!1,Events:[Ts,Qr,ai,Kd,Yd,lc]},An={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dg={bundleType:An.bundleType,version:An.version,rendererPackageName:An.rendererPackageName,rendererConfig:An.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eh(e),e===null?null:e.stateNode},findFiberByHostInstance:An.findFiberByHostInstance||lg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{ti=ta.inject(dg),pt=ta}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ug;He.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pc(t))throw Error(P(200));return og(e,t,null,r)};He.createRoot=function(e,t){if(!pc(e))throw Error(P(299));var r=!1,n="",s=Lf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=hc(e,1,!1,null,null,r,!1,n,s),e[Ot]=t.current,ms(e.nodeType===8?e.parentNode:e),new mc(t)};He.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=eh(t),e=e===null?null:e.stateNode,e};He.flushSync=function(e){return Er(e)};He.hydrate=function(e,t,r){if(!mi(t))throw Error(P(200));return pi(null,e,t,!0,r)};He.hydrateRoot=function(e,t,r){if(!pc(e))throw Error(P(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=Lf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Rf(t,null,e,1,r??null,s,!1,a,o),e[Ot]=t.current,ms(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new fi(t)};He.render=function(e,t,r){if(!mi(t))throw Error(P(200));return pi(null,e,t,!1,r)};He.unmountComponentAtNode=function(e){if(!mi(e))throw Error(P(40));return e._reactRootContainer?(Er(function(){pi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};He.unstable_batchedUpdates=lc;He.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!mi(r))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return pi(e,t,r,!1,n)};He.version="18.3.1-next-f1338f8080-20240426";function Df(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Df)}catch(e){console.error(e)}}Df(),Ld.exports=He;var hg=Ld.exports,Af,zu=hg;Af=zu.createRoot,zu.hydrateRoot;/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wu="popstate";function fg(e={}){function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return al("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:js(s)}return pg(t,r,null,e)}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mg(){return Math.random().toString(36).substring(2,10)}function Bu(e,t){return{usr:e.state,key:e.key,idx:t}}function al(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?kn(t):t,state:r,key:t&&t.key||n||mg()}}function js({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function kn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function pg(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){l="POP";let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:y})}function f(b,y){l="PUSH";let g=al(v.location,b,y);u=d()+1;let x=Bu(g,u),_=v.createHref(g);try{o.pushState(x,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}a&&c&&c({action:l,location:v.location,delta:1})}function m(b,y){l="REPLACE";let g=al(v.location,b,y);u=d();let x=Bu(g,u),_=v.createHref(g);o.replaceState(x,"",_),a&&c&&c({action:l,location:v.location,delta:0})}function p(b){return gg(b)}let v={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Wu,h),c=b,()=>{s.removeEventListener(Wu,h),c=null}},createHref(b){return t(s,b)},createURL:p,encodeLocation(b){let y=p(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(b){return o.go(b)}};return v}function gg(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),re(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:js(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function $f(e,t,r="/"){return yg(e,t,r,!1)}function yg(e,t,r,n){let s=typeof t=="string"?kn(t):t,a=Dt(s.pathname||"/",r);if(a==null)return null;let o=If(e);xg(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Pg(a);l=Eg(o[c],u,n)}return l}function If(e,t=[],r=[],n=""){let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(re(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=Ct([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(re(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),If(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Ng(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Mf(a.path))s(a,o,c)}),t}function Mf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Mf(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function xg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Sg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var vg=/^:[\w-]+$/,wg=3,bg=2,_g=1,jg=10,kg=-2,Hu=e=>e==="*";function Ng(e,t){let r=e.split("/"),n=r.length;return r.some(Hu)&&(n+=kg),t&&(n+=bg),r.filter(s=>!Hu(s)).reduce((s,a)=>s+(vg.test(a)?wg:a===""?_g:jg),n)}function Sg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Eg(e,t,r=!1){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=Ga({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Ga({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ct([a,h.pathname]),pathnameBase:Lg(Ct([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Ct([a,h.pathnameBase]))}return o}function Ga(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Cg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let p=l[f]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Cg(e,t=!1,r=!0){yt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Pg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Dt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Tg(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?kn(e):e;return{pathname:r?r.startsWith("/")?r:Og(r,t):t,search:Dg(n),hash:Ag(s)}}function Og(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function to(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Uf(e){let t=Rg(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Ff(e,t,r,n=!1){let s;typeof e=="string"?s=kn(e):(s={...e},re(!s.pathname||!s.pathname.includes("?"),to("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),to("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),to("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=Tg(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Ct=e=>e.join("/").replace(/\/\/+/g,"/"),Lg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ag=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $g(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var zf=["POST","PUT","PATCH","DELETE"];new Set(zf);var Ig=["GET",...zf];new Set(Ig);var Nn=w.createContext(null);Nn.displayName="DataRouter";var gi=w.createContext(null);gi.displayName="DataRouterState";w.createContext(!1);var Wf=w.createContext({isTransitioning:!1});Wf.displayName="ViewTransition";var Mg=w.createContext(new Map);Mg.displayName="Fetchers";var Ug=w.createContext(null);Ug.displayName="Await";var xt=w.createContext(null);xt.displayName="Navigation";var Rs=w.createContext(null);Rs.displayName="Location";var vt=w.createContext({outlet:null,matches:[],isDataRoute:!1});vt.displayName="Route";var gc=w.createContext(null);gc.displayName="RouteError";function Fg(e,{relative:t}={}){re(Ls(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(xt),{hash:s,pathname:a,search:o}=Ds(e,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:Ct([r,a])),n.createHref({pathname:l,search:o,hash:s})}function Ls(){return w.useContext(Rs)!=null}function Rr(){return re(Ls(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Rs).location}var Bf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hf(e){w.useContext(xt).static||w.useLayoutEffect(e)}function yi(){let{isDataRoute:e}=w.useContext(vt);return e?Zg():zg()}function zg(){re(Ls(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Nn),{basename:t,navigator:r}=w.useContext(xt),{matches:n}=w.useContext(vt),{pathname:s}=Rr(),a=JSON.stringify(Uf(n)),o=w.useRef(!1);return Hf(()=>{o.current=!0}),w.useCallback((c,u={})=>{if(yt(o.current,Bf),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=Ff(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ct([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,a,s,e])}w.createContext(null);function qf(){let{matches:e}=w.useContext(vt),t=e[e.length-1];return t?t.params:{}}function Ds(e,{relative:t}={}){let{matches:r}=w.useContext(vt),{pathname:n}=Rr(),s=JSON.stringify(Uf(r));return w.useMemo(()=>Ff(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function Wg(e,t){return Vf(e,t)}function Vf(e,t,r,n){var y;re(Ls(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(xt),{matches:a}=w.useContext(vt),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let g=d&&d.path||"";Gf(c,!d||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=Rr(),f;if(t){let g=typeof t=="string"?kn(t):t;re(u==="/"||((y=g.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${g.pathname}" was given in the \`location\` prop.`),f=g}else f=h;let m=f.pathname||"/",p=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=$f(e,{pathname:p});yt(d||v!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),yt(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Gg(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Ct([u,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Ct([u,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r,n);return t&&b?w.createElement(Rs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},b):b}function Bg(){let e=Xg(),t=$g(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,o)}var Hg=w.createElement(Bg,null),qg=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(vt.Provider,{value:this.props.routeContext},w.createElement(gc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vg({routeContext:e,match:t,children:r}){let n=w.useContext(Nn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(vt.Provider,{value:e},r)}function Gg(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,a=r==null?void 0:r.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);re(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(r)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:h}=r,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,d)=>{let h,f=!1,m=null,p=null;r&&(h=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||Hg,o&&(l<0&&d===0?(Gf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,p=null):l===d&&(f=!0,p=u.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,d+1)),b=()=>{let y;return h?y=m:f?y=p:u.route.Component?y=w.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=c,w.createElement(Vg,{match:u,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:y})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?w.createElement(qg,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}function yc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kg(e){let t=w.useContext(Nn);return re(t,yc(e)),t}function Yg(e){let t=w.useContext(gi);return re(t,yc(e)),t}function Qg(e){let t=w.useContext(vt);return re(t,yc(e)),t}function xc(e){let t=Qg(e),r=t.matches[t.matches.length-1];return re(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Jg(){return xc("useRouteId")}function Xg(){var n;let e=w.useContext(gc),t=Yg("useRouteError"),r=xc("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Zg(){let{router:e}=Kg("useNavigate"),t=xc("useNavigate"),r=w.useRef(!1);return Hf(()=>{r.current=!0}),w.useCallback(async(s,a={})=>{yt(r.current,Bf),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var qu={};function Gf(e,t,r){!t&&!qu[e]&&(qu[e]=!0,yt(!1,r))}w.memo(ey);function ey({routes:e,future:t,state:r}){return Vf(e,void 0,r,t)}function Hn(e){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ty({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:a=!1}){re(!Ls(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:s,static:a,future:{}}),[o,s,a]);typeof r=="string"&&(r=kn(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,m=w.useMemo(()=>{let p=Dt(c,o);return p==null?null:{location:{pathname:p,search:u,hash:d,state:h,key:f},navigationType:n}},[o,c,u,d,h,f,n]);return yt(m!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:w.createElement(xt.Provider,{value:l},w.createElement(Rs.Provider,{children:t,value:m}))}function ry({children:e,location:t}){return Wg(il(e),t)}function il(e,t=[]){let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let a=[...t,s];if(n.type===w.Fragment){r.push.apply(r,il(n.props.children,a));return}re(n.type===Hn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=il(n.props.children,a)),r.push(o)}),r}var va="get",wa="application/x-www-form-urlencoded";function xi(e){return e!=null&&typeof e.tagName=="string"}function ny(e){return xi(e)&&e.tagName.toLowerCase()==="button"}function sy(e){return xi(e)&&e.tagName.toLowerCase()==="form"}function ay(e){return xi(e)&&e.tagName.toLowerCase()==="input"}function iy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oy(e,t){return e.button===0&&(!t||t==="_self")&&!iy(e)}var ra=null;function ly(){if(ra===null)try{new FormData(document.createElement("form"),0),ra=!1}catch{ra=!0}return ra}var cy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ro(e){return e!=null&&!cy.has(e)?(yt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wa}"`),null):e}function uy(e,t){let r,n,s,a,o;if(sy(e)){let l=e.getAttribute("action");n=l?Dt(l,t):null,r=e.getAttribute("method")||va,s=ro(e.getAttribute("enctype"))||wa,a=new FormData(e)}else if(ny(e)||ay(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Dt(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||va,s=ro(e.getAttribute("formenctype"))||ro(l.getAttribute("enctype"))||wa,a=new FormData(l,e),!ly()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else u&&a.append(u,h)}}else{if(xi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=va,n=null,s=wa,o=e}return a&&s==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dy(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Dt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function hy(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fy(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function my(e,t,r){let n=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let o=await hy(a,r);return o.links?o.links():[]}return[]}));return xy(n.flat(1).filter(fy).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Vu(e,t,r,n,s,a){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function py(e,t,{includeHydrateFallback:r}={}){return gy(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function gy(e){return[...new Set(e)]}function yy(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function xy(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let a=JSON.stringify(yy(s));return r.has(a)||(r.add(a),n.push({key:a,link:s})),n},[])}function Kf(){let e=w.useContext(Nn);return vc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function vy(){let e=w.useContext(gi);return vc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var wc=w.createContext(void 0);wc.displayName="FrameworkContext";function Yf(){let e=w.useContext(wc);return vc(e,"You must render this element inside a <HydratedRouter> element"),e}function wy(e,t){let r=w.useContext(wc),[n,s]=w.useState(!1),[a,o]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=y=>{y.forEach(g=>{o(g.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[e]),w.useEffect(()=>{if(n){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{s(!0)},p=()=>{s(!1),o(!1)};return r?e!=="intent"?[a,f,{}]:[a,f,{onFocus:$n(l,m),onBlur:$n(c,p),onMouseEnter:$n(u,m),onMouseLeave:$n(d,p),onTouchStart:$n(h,m)}]:[!1,f,{}]}function $n(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function by({page:e,...t}){let{router:r}=Kf(),n=w.useMemo(()=>$f(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(jy,{page:e,matches:n,...t}):null}function _y(e){let{manifest:t,routeModules:r}=Yf(),[n,s]=w.useState([]);return w.useEffect(()=>{let a=!1;return my(e,t,r).then(o=>{a||s(o)}),()=>{a=!0}},[e,t,r]),n}function jy({page:e,matches:t,...r}){let n=Rr(),{manifest:s,routeModules:a}=Yf(),{basename:o}=Kf(),{loaderData:l,matches:c}=vy(),u=w.useMemo(()=>Vu(e,t,c,s,n,"data"),[e,t,c,s,n]),d=w.useMemo(()=>Vu(e,t,c,s,n,"assets"),[e,t,c,s,n]),h=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,v=!1;if(t.forEach(y=>{var x;let g=s.routes[y.route.id];!g||!g.hasLoader||(!u.some(_=>_.route.id===y.route.id)&&y.route.id in l&&((x=a[y.route.id])!=null&&x.shouldRevalidate)||g.hasClientLoader?v=!0:p.add(y.route.id))}),p.size===0)return[];let b=dy(e,o,"data");return v&&p.size>0&&b.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[b.pathname+b.search]},[o,l,n,s,u,t,e,a]),f=w.useMemo(()=>py(d,s),[d,s]),m=_y(d);return w.createElement(w.Fragment,null,h.map(p=>w.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),f.map(p=>w.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),m.map(({key:p,link:v})=>w.createElement("link",{key:p,nonce:r.nonce,...v})))}function ky(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Qf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qf&&(window.__reactRouterVersion="7.8.0")}catch{}function Ny({basename:e,children:t,window:r}){let n=w.useRef();n.current==null&&(n.current=fg({window:r,v5Compat:!0}));let s=n.current,[a,o]=w.useState({action:s.action,location:s.location}),l=w.useCallback(c=>{w.startTransition(()=>o(c))},[o]);return w.useLayoutEffect(()=>s.listen(l),[s,l]),w.createElement(ty,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var Jf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xf=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:p}=w.useContext(xt),v=typeof u=="string"&&Jf.test(u),b,y=!1;if(typeof u=="string"&&v&&(b=u,Qf))try{let N=new URL(window.location.href),E=u.startsWith("//")?new URL(N.protocol+u):new URL(u),R=Dt(E.pathname,p);E.origin===N.origin&&R!=null?u=R+E.search+E.hash:y=!0}catch{yt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=Fg(u,{relative:s}),[x,_,j]=wy(n,f),k=Py(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function S(N){t&&t(N),N.defaultPrevented||k(N)}let C=w.createElement("a",{...f,...j,href:b||g,onClick:y||a?t:S,ref:ky(m,_),target:c,"data-discover":!v&&r==="render"?"true":void 0});return x&&!v?w.createElement(w.Fragment,null,C,w.createElement(by,{page:g})):C});Xf.displayName="Link";var Sy=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:a,to:o,viewTransition:l,children:c,...u},d){let h=Ds(o,{relative:u.relative}),f=Rr(),m=w.useContext(gi),{navigator:p,basename:v}=w.useContext(xt),b=m!=null&&Dy(h)&&l===!0,y=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,g=f.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(g=g.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&v&&(x=Dt(x,v)||x);const _=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let j=g===y||!s&&g.startsWith(y)&&g.charAt(_)==="/",k=x!=null&&(x===y||!s&&x.startsWith(y)&&x.charAt(y.length)==="/"),S={isActive:j,isPending:k,isTransitioning:b},C=j?t:void 0,N;typeof n=="function"?N=n(S):N=[n,j?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let E=typeof a=="function"?a(S):a;return w.createElement(Xf,{...u,"aria-current":C,className:N,ref:d,style:E,to:o,viewTransition:l},typeof c=="function"?c(S):c)});Sy.displayName="NavLink";var Ey=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:a,method:o=va,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let p=Ry(),v=Ly(l,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&Jf.test(l),g=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let _=x.nativeEvent.submitter,j=(_==null?void 0:_.getAttribute("formmethod"))||o;p(_||x.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:s,state:a,relative:u,preventScrollReset:d,viewTransition:h})};return w.createElement("form",{ref:m,method:b,action:v,onSubmit:n?c:g,...f,"data-discover":!y&&e==="render"?"true":void 0})});Ey.displayName="Form";function Cy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zf(e){let t=w.useContext(Nn);return re(t,Cy(e)),t}function Py(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:a,viewTransition:o}={}){let l=yi(),c=Rr(),u=Ds(e,{relative:a});return w.useCallback(d=>{if(oy(d,t)){d.preventDefault();let h=r!==void 0?r:js(c)===js(u);l(e,{replace:h,state:n,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,r,n,t,e,s,a,o])}var Ty=0,Oy=()=>`__${String(++Ty)}__`;function Ry(){let{router:e}=Zf("useSubmit"),{basename:t}=w.useContext(xt),r=Jg();return w.useCallback(async(n,s={})=>{let{action:a,method:o,encType:l,formData:c,body:u}=uy(n,t);if(s.navigate===!1){let d=s.fetcherKey||Oy();await e.fetch(d,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function Ly(e,{relative:t}={}){let{basename:r}=w.useContext(xt),n=w.useContext(vt);re(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...Ds(e||".",{relative:t})},o=Rr();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Ct([r,a.pathname])),js(a)}function Dy(e,{relative:t}={}){let r=w.useContext(Wf);re(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Zf("useViewTransitionState"),s=Ds(e,{relative:t});if(!r.isTransitioning)return!1;let a=Dt(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Dt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ga(s.pathname,o)!=null||Ga(s.pathname,a)!=null}const Ay="modulepreload",$y=function(e){return"/"+e},Gu={},As=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=$y(c),c in Gu)return;Gu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Ay,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Iy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>As(async()=>{const{default:n}=await Promise.resolve().then(()=>Sn);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class bc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class My extends bc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ku extends bc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Yu extends bc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ol;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ol||(ol={}));var Uy=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Fy{constructor(t,{headers:r={},customFetch:n,region:s=ol.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Iy(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Uy(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(v=>{throw new My(v)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Ku(h);if(!h.ok)throw new Yu(h);let m=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield h.json():m==="application/octet-stream"?p=yield h.blob():m==="text/event-stream"?p=h:m==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Yu||s instanceof Ku?s.context:void 0}}})}}var Le={},_c={},vi={},$s={},wi={},bi={},zy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xn=zy();const Wy=xn.fetch,em=xn.fetch.bind(xn),tm=xn.Headers,By=xn.Request,Hy=xn.Response,Sn=Object.freeze(Object.defineProperty({__proto__:null,Headers:tm,Request:By,Response:Hy,default:em,fetch:Wy},Symbol.toStringTag,{value:"Module"})),qy=Fm(Sn);var _i={};Object.defineProperty(_i,"__esModule",{value:!0});let Vy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};_i.default=Vy;var rm=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bi,"__esModule",{value:!0});const Gy=rm(qy),Ky=rm(_i);let Yy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Gy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,h=null,f=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(d=[],u=null,f=200,m="OK")}catch{a.status===404&&v===""?(f=204,m="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new Ky.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};bi.default=Yy;var Qy=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wi,"__esModule",{value:!0});const Jy=Qy(bi);let Xy=class extends Jy.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wi.default=Xy;var Zy=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($s,"__esModule",{value:!0});const ex=Zy(wi);let tx=class extends ex.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};$s.default=tx;var rx=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vi,"__esModule",{value:!0});const In=rx($s);let nx=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new In.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new In.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new In.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new In.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new In.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vi.default=nx;var ji={},ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.version=void 0;ki.version="0.0.0-automated";Object.defineProperty(ji,"__esModule",{value:!0});ji.DEFAULT_HEADERS=void 0;const sx=ki;ji.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${sx.version}`};var nm=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_c,"__esModule",{value:!0});const ax=nm(vi),ix=nm($s),ox=ji;let lx=class sm{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},ox.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new ax.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new sm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new ix.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};_c.default=lx;var En=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;const am=En(_c);Le.PostgrestClient=am.default;const im=En(vi);Le.PostgrestQueryBuilder=im.default;const om=En($s);Le.PostgrestFilterBuilder=om.default;const lm=En(wi);Le.PostgrestTransformBuilder=lm.default;const cm=En(bi);Le.PostgrestBuilder=cm.default;const um=En(_i);Le.PostgrestError=um.default;var cx=Le.default={PostgrestClient:am.default,PostgrestQueryBuilder:im.default,PostgrestFilterBuilder:om.default,PostgrestTransformBuilder:lm.default,PostgrestBuilder:cm.default,PostgrestError:um.default};const{PostgrestClient:ux,PostgrestQueryBuilder:tb,PostgrestFilterBuilder:rb,PostgrestTransformBuilder:nb,PostgrestBuilder:sb,PostgrestError:ab}=cx;class dx{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hx="2.15.1",fx=`realtime-js/${hx}`,mx="1.0.0",ll=1e4,px=1e3,gx=100;var ts;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ts||(ts={}));var ce;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ce||(ce={}));var it;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(it||(it={}));var cl;(function(e){e.websocket="websocket"})(cl||(cl={}));var gr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gr||(gr={}));class yx{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class dm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const Qu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=xx(o,e,t,s),a),{})},xx=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?hm(a,o):ul(o)},hm=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return _x(t,r)}switch(e){case K.bool:return vx(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return wx(t);case K.json:case K.jsonb:return bx(t);case K.timestamp:return jx(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return ul(t);default:return ul(t)}},ul=e=>e,vx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},_x=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>hm(t,l))}return e},jx=e=>typeof e=="string"?e.replace(" ","T"):e,fm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class no{constructor(t,r,n={},s=ll){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ju;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ju||(Ju={}));class rs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rs.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=rs.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=rs.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),p=d.filter(b=>m.indexOf(b.presence_ref)<0),v=h.filter(b=>f.indexOf(b.presence_ref)<0);p.length>0&&(l[u]=p),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xu||(Xu={}));var ns;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ns||(ns={}));var _t;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_t||(_t={}));class jc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new no(this,it.join,this.params,this.timeout),this.rejoinTimer=new dm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new rs(this),this.broadcastEndpointURL=fm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[ns.PRESENCE]&&this.bindings[ns.PRESENCE].length>0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(_t.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(_t.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){t==null||t(_t.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(m=p==null?void 0:p.length)!==null&&m!==void 0?m:0,b=[];for(let y=0;y<v;y++){const g=p[y],{filter:{event:x,schema:_,table:j,filter:k}}=g,S=f&&f[y];if(S&&S.event===x&&S.schema===_&&S.table===j&&S.filter===k)b.push(Object.assign(Object.assign({},g),{id:S.id}));else{this.unsubscribe(),this.state=ce.errored,t==null||t(_t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(_t.SUBSCRIBED);return}}).receive("error",f=>{this.state=ce.errored,t==null||t(_t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ce.joined&&t===ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ce.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new no(this,it.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ce.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new no(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>gx){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=it;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var p,v,b;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(v=m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var p,v,b,y,g,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(p=m.filter)===null||p===void 0?void 0:p.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:v,table:b,commit_timestamp:y,type:g,errors:x}=p;f=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(p))}m.callback(f,n)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&jc.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(it.close,{},t)}_onError(t){this._on(it.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Qu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Qu(t.columns,t.old_record)),r}}const Zu=()=>{},na={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kx=[1e3,2e3,5e3,1e4],Nx=1e4,Sx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ex{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ll,this.transport=null,this.heartbeatIntervalMs=na.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zu,this.ref=0,this.reconnectTimer=null,this.logger=Zu,this.conn=null,this.sendBuffer=[],this.serializer=new yx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>As(async()=>{const{default:l}=await Promise.resolve().then(()=>Sn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${cl.websocket}`,this.httpEndpoint=fm(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mx}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ts.connecting:return gr.Connecting;case ts.open:return gr.Open;case ts.closing:return gr.Closing;default:return gr.Closed}}isConnected(){return this.connectionState()===gr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new jc(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(px,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},na.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(it.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Sx],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:fx};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(it.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new dm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},na.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ll,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:na.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>kx[d-1]||Nx,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class kc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function he(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Cx extends kc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dl extends kc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Px=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const mm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>As(async()=>{const{default:n}=await Promise.resolve().then(()=>Sn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Tx=()=>Px(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield As(()=>Promise.resolve().then(()=>Sn),void 0)).Response:Response}),hl=e=>{if(Array.isArray(e))return e.map(r=>hl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=hl(n)}),t},Ox=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Lr=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const so=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rx=(e,t,r)=>Lr(void 0,void 0,void 0,function*(){const n=yield Tx();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,o=(s==null?void 0:s.statusCode)||a+"";t(new Cx(so(s),a,o))}).catch(s=>{t(new dl(so(s),s))}):t(new dl(so(e),e))}),Lx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Ox(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Is(e,t,r,n,s,a){return Lr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Lx(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Rx(c,l,n))})})}function Ka(e,t,r,n){return Lr(this,void 0,void 0,function*(){return Is(e,"GET",t,r,n)})}function jt(e,t,r,n,s){return Lr(this,void 0,void 0,function*(){return Is(e,"POST",t,n,s,r)})}function fl(e,t,r,n,s){return Lr(this,void 0,void 0,function*(){return Is(e,"PUT",t,n,s,r)})}function Dx(e,t,r,n){return Lr(this,void 0,void 0,function*(){return Is(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function pm(e,t,r,n,s){return Lr(this,void 0,void 0,function*(){return Is(e,"DELETE",t,n,s,r)})}var Oe=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ax={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ed={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $x{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=mm(s)}uploadOrUpdate(t,r,n,s){return Oe(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},ed),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?fl:jt)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Oe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:ed.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield fl(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(he(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield jt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new kc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}update(t,r,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Oe(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Oe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield jt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Oe(this,void 0,void 0,function*(){try{const s=yield jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}download(t,r){return Oe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ka(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}})}info(t){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ka(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:hl(n),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}exists(t){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Dx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(he(n)&&n instanceof dl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield pm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}list(t,r,n){return Oe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ax),r),{prefix:t||""});return{data:yield jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Ix="2.10.5",Mx={"X-Client-Info":`storage-js/${Ix}`};var Ir=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Ux{constructor(t,r={},n,s){const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Mx),r),this.fetch=mm(n)}listBuckets(){return Ir(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(he(t))return{data:null,error:t};throw t}})}getBucket(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ir(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ir(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield pm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}}class Fx extends Ux{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new $x(this.url,this.headers,t,this.fetch)}}const zx="2.55.0";let qn="";typeof Deno<"u"?qn="deno":typeof document<"u"?qn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qn="react-native":qn="node";const Wx={"X-Client-Info":`supabase-js-${qn}/${zx}`},Bx={headers:Wx},Hx={schema:"public"},qx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vx={};var Gx=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Kx=e=>{let t;return e?t=e:typeof fetch>"u"?t=em:t=fetch,(...r)=>t(...r)},Yx=()=>typeof Headers>"u"?tm:Headers,Qx=(e,t,r)=>{const n=Kx(r),s=Yx();return(a,o)=>Gx(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var Jx=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Xx(e){return e.endsWith("/")?e:e+"/"}function Zx(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Jx(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const gm="2.71.1",Br=30*1e3,ml=3,ao=ml*Br,ev="http://localhost:9999",tv="supabase.auth.token",rv={"X-Client-Info":`gotrue-js/${gm}`},pl="X-Supabase-Api-Version",ym={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sv=10*60*1e3;class Nc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class av extends Nc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function iv(e){return z(e)&&e.name==="AuthApiError"}class xm extends Nc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class cr extends Nc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class zt extends cr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ov(e){return z(e)&&e.name==="AuthSessionMissingError"}class sa extends cr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class aa extends cr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ia extends cr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lv(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class td extends cr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gl extends cr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function io(e){return z(e)&&e.name==="AuthRetryableFetchError"}class rd extends cr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yl extends cr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ya="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nd=` 	
\r=`.split(""),cv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<nd.length;t+=1)e[nd[t].charCodeAt(0)]=-2;for(let t=0;t<Ya.length;t+=1)e[Ya[t].charCodeAt(0)]=t;return e})();function sd(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ya[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ya[n]),t.queuedBits-=6}}function vm(e,t,r){const n=cv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ad(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{hv(o,n,r)};for(let o=0;o<e.length;o+=1)vm(e.charCodeAt(o),s,a);return t.join("")}function uv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dv(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}uv(n,t)}}function hv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function fv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)vm(e.charCodeAt(s),r,n);return new Uint8Array(t)}function mv(e){const t=[];return dv(e,r=>t.push(r)),new Uint8Array(t)}function pv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>sd(s,r,n)),sd(null,r,n),t.join("")}function gv(e){return Math.round(Date.now()/1e3)+e}function yv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const nt=()=>typeof window<"u"&&typeof document<"u",ur={tested:!1,writable:!1},wm=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ur.tested)return ur.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ur.tested=!0,ur.writable=!0}catch{ur.tested=!0,ur.writable=!1}return ur.writable};function xv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const bm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>As(async()=>{const{default:n}=await Promise.resolve().then(()=>Sn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},dr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ut=async(e,t)=>{await e.removeItem(t)};class Ni{constructor(){this.promise=new Ni.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ni.promiseConstructor=Promise;function oo(e){const t=e.split(".");if(t.length!==3)throw new yl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!nv.test(t[n]))throw new yl("JWT not in base64url format");return{header:JSON.parse(ad(t[0])),payload:JSON.parse(ad(t[1])),signature:fv(t[2]),raw:{header:t[0],payload:t[1]}}}async function wv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bv(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function _v(e){return("0"+e.toString(16)).substr(-2)}function jv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,_v).join("")}async function kv(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Nv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await kv(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mr(e,t,r=!1){const n=jv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Hr(e,`${t}-code-verifier`,s);const a=await Nv(n);return[a,n===a?"plain":"s256"]}const Sv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ev(e){const t=e.headers.get(pl);if(!t||!t.match(Sv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Cv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Pv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Tv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ur(e){if(!Tv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function id(e){return JSON.parse(JSON.stringify(e))}var Ov=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const mr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rv=[502,503,504];async function od(e){var t;if(!vv(e))throw new gl(mr(e),0);if(Rv.includes(e.status))throw new gl(mr(e),e.status);let r;try{r=await e.json()}catch(a){throw new xm(mr(a),a)}let n;const s=Ev(e);if(s&&s.getTime()>=ym["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new rd(mr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new zt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new rd(mr(r),e.status,r.weak_password.reasons);throw new av(mr(r),e.status||500,n)}const Lv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function B(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[pl]||(a[pl]=ym["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Dv(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Dv(e,t,r,n,s,a){const o=Lv(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new gl(mr(c),0)}if(l.ok||await od(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await od(c)}}function wt(e){var t;let r=null;Mv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=gv(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ld(e){const t=wt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Av(e){return{data:e,error:null}}function $v(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=Ov(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Iv(e){return e}function Mv(e){return e.access_token&&e.refresh_token&&e.expires_in}const co=["global","local","others"];var Uv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Fv{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=bm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=co[0]){if(co.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${co.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Uv(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$v,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Iv});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ur(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ur(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Vt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ur(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ur(t.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ur(t.userId),Ur(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}function cd(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function zv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fr={debug:!!(globalThis&&wm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _m extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Wv extends _m{}async function Bv(e,t,r){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Wv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}zv();const Hv={url:ev,storageKey:tv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ud(e,t,r){return await r()}const zr={};class ks{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ks.nextInstanceID,ks.nextInstanceID+=1,this.instanceID>0&&nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Hv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Fv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bm(s.fetch),this.lock=s.lock||ud,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Bv:this.lock=ud,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:wm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cd(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=cd(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=zr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){zr[this.storageKey]=Object.assign(Object.assign({},zr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=zr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zr[this.storageKey]=Object.assign(Object.assign({},zr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=xv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),nt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),lv(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new xm("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:wt}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Mr(this.storage,this.storageKey)),a=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:wt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:wt})}else throw new aa("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ld})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ld})}else throw new aa("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new sa}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,h,f,m;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:b,wallet:y,statement:g,options:x}=t;let _;if(nt())if(typeof y=="object")_=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:b,error:y}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:pv(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:wt});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new sa}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(z(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await dr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:wt});if(await Ut(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new sa}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(z(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new sa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Mr(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new aa("You must provide either an email or phone number.")}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:wt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Mr(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:Av})}catch(a){if(z(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new zt;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new aa("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ao:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await dr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=lo()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vt}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Vt})})}catch(r){if(z(r))return ov(r)&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new zt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Mr(this.storage,this.storageKey));const{data:u,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Vt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zt;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=oo(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new zt;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!nt())throw new ia("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ia(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new td("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ia("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new td("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new ia("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:v,error:b}=await this._getUser(a);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await dr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(iv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=yv(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Mr(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(z(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return nt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await bv(async s=>(s>0&&await wv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wt})),(s,a)=>{const o=200*Math.pow(2,s);return a&&io(a)&&Date.now()+o-n<Br})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),nt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await dr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await dr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Hr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:lo()}else if(s&&!s.user&&!s.user){const o=await dr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ut(this.storage,this.storageKey+"-user"),await Hr(this.storage,this.storageKey,s)):s.user=lo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ao;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ao}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),io(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ni;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new zt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),z(a)){const o={session:null,error:a};return io(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Hr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=id(s);await Hr(this.storage,this.storageKey,a)}else{const s=id(r);await Hr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ut(this.storage,this.storageKey),await Ut(this.storage,this.storageKey+"-code-verifier"),await Ut(this.storage,this.storageKey+"-user"),this.userStorage&&await Ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Br);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Br}ms, refresh threshold is ${ml} ticks`),s<=ml&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _m)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Mr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=oo(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+sv>s)return n;const{data:a,error:o}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=oo(n);r!=null&&r.allowExpired||Cv(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const d=Pv(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,mv(`${l}.${c}`)))throw new yl("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}ks.nextInstanceID=0;const qv=ks;class Vv extends qv{constructor(t){super(t)}}var Gv=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Kv{constructor(t,r,n){var s,a,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Xx(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Hx,realtime:Vx,auth:Object.assign(Object.assign({},qx),{storageKey:u}),global:Bx},h=Zx(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Qx(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new ux(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Fx(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Fy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Gv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Ex(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yv=(e,t,r)=>new Kv(e,t,r);function Qv(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Qv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jv="https://cpjczbjscfktkyhpjktr.supabase.co",Xv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNwamN6YmpzY2ZrdGt5aHBqa3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwMzY4NDQsImV4cCI6MjA3MDYxMjg0NH0.1jzDanWGUEvGf6z5q3QiZ7v1GMTUn-FSRAlAW6i4k1c",D=Yv(Jv,Xv);function Te(){const[e,t]=w.useState(null),[r,n]=w.useState(null),[s,a]=w.useState(!0);w.useEffect(()=>{const d=localStorage.getItem("goldytask_user");if(d)try{const h=JSON.parse(d);t(h),o(h.id)}catch{localStorage.removeItem("goldytask_user")}a(!1)},[]);const o=async d=>{try{const{data:h,error:f}=await D.from("users").select("*").eq("id",d).maybeSingle();if(f)throw f;n(h)}catch(h){console.error("Error fetching app user:",h),n(null)}};return{user:e,appUser:r,loading:s,signIn:async(d,h)=>{try{const{data:f,error:m}=await D.rpc("login_user",{p_username:d,p_password:h});if(m)throw m;if(f.error)return{error:new Error(f.error)};const p={id:f.user_id,username:f.username};return t(p),localStorage.setItem("goldytask_user",JSON.stringify(p)),await o(f.user_id),{error:null}}catch(f){return{error:f}}},signUp:async(d,h,f)=>{try{const{data:m,error:p}=await D.rpc("create_user_account",{p_username:d,p_password:h,p_family_code:f});if(p)throw p;if(m.error)return{error:new Error(m.error)};const v={id:m.user_id,username:m.username};return t(v),localStorage.setItem("goldytask_user",JSON.stringify(v)),await o(m.user_id),{error:null}}catch(m){return{error:m}}},signOut:async()=>(t(null),n(null),localStorage.removeItem("goldytask_user"),{error:null}),refetchAppUser:()=>e?o(e.id):null}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),I=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>w.createElement("svg",{ref:d,...Zv,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${ew(e)}`,l].join(" "),...u},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=I("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=I("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=I("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=I("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=I("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=I("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=I("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=I("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=I("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=I("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=I("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=I("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=I("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=I("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=I("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=I("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=I("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=I("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=I("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=I("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=I("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=I("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=I("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=I("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=I("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=I("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=I("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=I("Popcorn",[["path",{d:"M18 8a2 2 0 0 0 0-4 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0 0 4",key:"10td1f"}],["path",{d:"M10 22 9 8",key:"yjptiv"}],["path",{d:"m14 22 1-14",key:"8jwc8b"}],["path",{d:"M20 8c.5 0 .9.4.8 1l-2.6 12c-.1.5-.7 1-1.2 1H7c-.6 0-1.1-.4-1.2-1L3.2 9c-.1-.6.3-1 .8-1Z",key:"1qo33t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=I("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=I("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=I("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=I("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=I("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=I("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=I("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=I("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=I("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=I("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=I("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=I("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=I("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=I("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=I("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function mw(){const[e,t]=w.useState(!1),[r,n]=w.useState(""),[s,a]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,h]=w.useState(null),{signIn:f,signUp:m}=Te(),p=async v=>{if(v.preventDefault(),u(!0),h(null),e&&!r.trim()){h("Username is required."),u(!1);return}if(e&&r.length<3){h("Username must be at least 3 characters long."),u(!1);return}if(e&&!o.trim()){h("Family code is required."),u(!1);return}try{const{error:b}=e?await m(r,s,o):await f(r,s);b&&(b.message==="Invalid login credentials"?h(e?"Unable to create account. Please try again or contact support.":"Invalid username or password. Please check your credentials or sign up for a new account."):b.message==="Username already taken"?h("This username is already taken. Please choose a different one."):b.message==="Invalid family code"?h("Invalid family code. Please contact your family administrator."):h(b.message))}catch{h("An unexpected error occurred")}finally{u(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:i.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl p-8 w-full max-w-md animate-fade-in",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-block p-3 gold-gradient rounded-2xl mb-4 glow-gold",children:i.jsx("h1",{className:"text-3xl font-bold text-black",children:"GoldFamily"})}),i.jsx("p",{className:"text-gray-300",children:e?"Create your account":"Sign in to your account"})]}),d&&i.jsxs("div",{className:"mb-6 p-4 bg-red-900/30 border border-red-500/50 rounded-lg flex items-center gap-3",children:[i.jsx(jm,{className:"h-5 w-5 text-red-500"}),i.jsx("p",{className:"text-red-300 text-sm",children:d})]}),i.jsxs("form",{onSubmit:p,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),i.jsx("input",{type:"text",id:"username",value:r,onChange:v=>n(v.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),className:"w-full px-4 py-3 input-dark rounded-lg transition-all duration-200",placeholder:"Choose a unique username",required:!0,minLength:3,maxLength:20}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"3-20 characters, lowercase letters, numbers, and underscores only"})]}),e&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"familyCode",className:"block text-sm font-medium text-gray-300 mb-2",children:"Family Code"}),i.jsx("input",{type:"text",id:"familyCode",value:o,onChange:v=>l(v.target.value),className:"w-full px-4 py-3 input-dark rounded-lg transition-all duration-200",placeholder:"Enter family code",required:!0}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Contact your family administrator for the code"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),i.jsx("input",{type:"password",id:"password",value:s,onChange:v=>a(v.target.value),className:"w-full px-4 py-3 input-dark rounded-lg transition-all duration-200",placeholder:"Enter your password",required:!0,minLength:6})]}),i.jsx("button",{type:"submit",disabled:c,className:"w-full btn-gold py-3 px-4 rounded-lg font-medium focus:ring-2 focus:ring-yellow-500/50 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 hover-lift",children:c?i.jsx("div",{className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full animate-spin"}):i.jsxs(i.Fragment,{children:[e?i.jsx(fw,{className:"h-5 w-5"}):i.jsx(cw,{className:"h-5 w-5"}),e?"Create Account":"Sign In"]})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{type:"button",onClick:()=>{t(!e),h(null),l("")},className:"gold-text hover:text-yellow-400 font-medium transition-colors",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}const Em=6048e5,pw=864e5,pd=Symbol.for("constructDateFrom");function et(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&pd in e?e[pd](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ue(e,t){return et(t||e,e)}function gw(e,t,r){const n=Ue(e,r==null?void 0:r.in);return isNaN(t)?et(e,NaN):(n.setDate(n.getDate()+t),n)}let yw={};function Si(){return yw}function Pr(e,t){var l,c,u,d;const r=Si(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ue(e,t==null?void 0:t.in),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Xa(e,t){return Pr(e,{...t,weekStartsOn:1})}function Cm(e,t){const r=Ue(e,t==null?void 0:t.in),n=r.getFullYear(),s=et(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=Xa(s),o=et(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Xa(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function gd(e){const t=Ue(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Cc(e,...t){const r=et.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Za(e,t){const r=Ue(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function xw(e,t,r){const[n,s]=Cc(r==null?void 0:r.in,e,t),a=Za(n),o=Za(s),l=+a-gd(a),c=+o-gd(o);return Math.round((l-c)/pw)}function vw(e,t){const r=Cm(e,t),n=et(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Xa(n)}function Pc(e){return et(e,Date.now())}function Pm(e,t,r){const[n,s]=Cc(r==null?void 0:r.in,e,t);return+Za(n)==+Za(s)}function ww(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bw(e){return!(!ww(e)&&typeof e!="number"||isNaN(+Ue(e)))}function _w(e,t){const r=Ue(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const jw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kw=(e,t,r)=>{let n;const s=jw[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ho(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Nw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ew={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cw={date:ho({formats:Nw,defaultWidth:"full"}),time:ho({formats:Sw,defaultWidth:"full"}),dateTime:ho({formats:Ew,defaultWidth:"full"})},Pw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tw=(e,t,r,n)=>Pw[e];function Mn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const Ow={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Rw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Dw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Aw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$w={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Iw=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Mw={ordinalNumber:Iw,era:Mn({values:Ow,defaultWidth:"wide"}),quarter:Mn({values:Rw,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mn({values:Lw,defaultWidth:"wide"}),day:Mn({values:Dw,defaultWidth:"wide"}),dayPeriod:Mn({values:Aw,defaultWidth:"wide",formattingValues:$w,defaultFormattingWidth:"wide"})};function Un(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Fw(l,h=>h.test(o)):Uw(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Uw(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Fw(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function zw(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Ww=/^(\d+)(th|st|nd|rd)?/i,Bw=/\d+/i,Hw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qw={any:[/^b/i,/^(a|c)/i]},Vw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gw={any:[/1/i,/2/i,/3/i,/4/i]},Kw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e1={ordinalNumber:zw({matchPattern:Ww,parsePattern:Bw,valueCallback:e=>parseInt(e,10)}),era:Un({matchPatterns:Hw,defaultMatchWidth:"wide",parsePatterns:qw,defaultParseWidth:"any"}),quarter:Un({matchPatterns:Vw,defaultMatchWidth:"wide",parsePatterns:Gw,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Un({matchPatterns:Kw,defaultMatchWidth:"wide",parsePatterns:Yw,defaultParseWidth:"any"}),day:Un({matchPatterns:Qw,defaultMatchWidth:"wide",parsePatterns:Jw,defaultParseWidth:"any"}),dayPeriod:Un({matchPatterns:Xw,defaultMatchWidth:"any",parsePatterns:Zw,defaultParseWidth:"any"})},t1={code:"en-US",formatDistance:kw,formatLong:Cw,formatRelative:Tw,localize:Mw,match:e1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function r1(e,t){const r=Ue(e,t==null?void 0:t.in);return xw(r,_w(r))+1}function n1(e,t){const r=Ue(e,t==null?void 0:t.in),n=+Xa(r)-+vw(r);return Math.round(n/Em)+1}function Tm(e,t){var d,h,f,m;const r=Ue(e,t==null?void 0:t.in),n=r.getFullYear(),s=Si(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=et((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=Pr(o,t),c=et((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Pr(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function s1(e,t){var l,c,u,d;const r=Si(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Tm(e,t),a=et((t==null?void 0:t.in)||e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Pr(a,t)}function a1(e,t){const r=Ue(e,t==null?void 0:t.in),n=+Pr(r,t)-+s1(r,t);return Math.round(n/Em)+1}function V(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ft={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return V(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):V(r+1,2)},d(e,t){return V(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return V(e.getHours()%12||12,t.length)},H(e,t){return V(e.getHours(),t.length)},m(e,t){return V(e.getMinutes(),t.length)},s(e,t){return V(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return V(s,t.length)}},Wr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yd={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Ft.y(e,t)},Y:function(e,t,r,n){const s=Tm(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return V(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):V(a,t.length)},R:function(e,t){const r=Cm(e);return V(r,t.length)},u:function(e,t){const r=e.getFullYear();return V(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return V(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return V(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ft.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return V(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=a1(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):V(s,t.length)},I:function(e,t,r){const n=n1(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):V(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ft.d(e,t)},D:function(e,t,r){const n=r1(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):V(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return V(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return V(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return V(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Wr.noon:n===0?s=Wr.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Wr.evening:n>=12?s=Wr.afternoon:n>=4?s=Wr.morning:s=Wr.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ft.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ft.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):V(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):V(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ft.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ft.s(e,t)},S:function(e,t){return Ft.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return vd(n);case"XXXX":case"XX":return pr(n);case"XXXXX":case"XXX":default:return pr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return vd(n);case"xxxx":case"xx":return pr(n);case"xxxxx":case"xxx":default:return pr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+xd(n,":");case"OOOO":default:return"GMT"+pr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+xd(n,":");case"zzzz":default:return"GMT"+pr(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return V(n,t.length)},T:function(e,t,r){return V(+e,t.length)}};function xd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+V(a,2)}function vd(e,t){return e%60===0?(e>0?"-":"+")+V(Math.abs(e)/60,2):pr(e,t)}function pr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=V(Math.trunc(n/60),2),a=V(n%60,2);return r+s+t+a}const wd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Om=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},i1=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return wd(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",wd(n,t)).replace("{{time}}",Om(s,t))},o1={p:Om,P:i1},l1=/^D+$/,c1=/^Y+$/,u1=["D","DD","YY","YYYY"];function d1(e){return l1.test(e)}function h1(e){return c1.test(e)}function f1(e,t,r){const n=m1(e,t,r);if(console.warn(n),u1.includes(e))throw new RangeError(n)}function m1(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const p1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y1=/^'([^]*?)'?$/,x1=/''/g,v1=/[a-zA-Z]/;function Ve(e,t,r){var d,h,f,m;const n=Si(),s=n.locale??t1,a=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,l=Ue(e,r==null?void 0:r.in);if(!bw(l))throw new RangeError("Invalid time value");let c=t.match(g1).map(p=>{const v=p[0];if(v==="p"||v==="P"){const b=o1[v];return b(p,s.formatLong)}return p}).join("").match(p1).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const v=p[0];if(v==="'")return{isToken:!1,value:w1(p)};if(yd[v])return{isToken:!0,value:p};if(v.match(v1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(p=>{if(!p.isToken)return p.value;const v=p.value;(h1(v)||d1(v))&&f1(v,t,String(e));const b=yd[v[0]];return b(l,v,s.localize,u)}).join("")}function w1(e){const t=e.match(y1);return t?t[1].replace(x1,"'"):e}function _a(e,t){return+Ue(e)>+Ue(t)}function b1(e,t,r){const[n,s]=Cc(r==null?void 0:r.in,e,t);return+Pr(n,r)==+Pr(s,r)}function Rm(e,t){return b1(et(e,e),Pc(e),t)}function Ei(e,t){return Pm(et(e,e),Pc(e))}function Ci(e,t){return Pm(e,gw(Pc(e),1),t)}function _1({task:e,onToggleComplete:t,onEdit:r,onDelete:n,onShare:s}){const a=u=>{switch(u){case"high":return"text-red-400 bg-red-900/30 border-red-500/50";case"medium":return"text-yellow-400 bg-yellow-900/30 border-yellow-500/50";case"low":return"text-green-400 bg-green-900/30 border-green-500/50";default:return"text-gray-400 bg-gray-800/30 border-gray-600/50"}},o=u=>{const d=new Date(u);return Ei(d)?"Today":Ci(d)?"Tomorrow":Ve(d,"MMM d, yyyy")},l=e.due_date&&_a(new Date,new Date(e.due_date)),c=e.due_date&&!l&&_a(new Date(e.due_date),new Date)&&_a(new Date(Date.now()+24*60*60*1e3),new Date(e.due_date));return i.jsx("div",{className:`glass-effect rounded-xl p-6 transition-all duration-300 hover-lift animate-slide-up ${e.completed?"border-green-500/50 bg-green-900/20":l?"border-red-500/50 bg-red-900/20 glow-gold":"border-gray-700/50 hover:border-yellow-500/50"} min-w-0`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("button",{onClick:()=>t(e.id,!e.completed),className:"flex-shrink-0 mt-1 transition-all duration-200 hover:scale-110",children:e.completed?i.jsx(Ms,{className:"h-6 w-6 text-green-400"}):i.jsx(rw,{className:"h-6 w-6 text-gray-500 hover:text-yellow-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[i.jsx("h3",{className:`font-medium ${e.completed?"text-gray-500 line-through":"text-gray-100"} truncate sm:whitespace-normal`,children:e.title}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l&&!e.completed&&i.jsx(Ns,{className:"h-4 w-4 text-red-400 animate-pulse"}),i.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border ${a(e.priority)}`,children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)})]})]}),e.description&&i.jsx("p",{className:`text-sm mb-2 ${e.completed?"text-gray-400":"text-gray-600"} line-clamp-2 sm:line-clamp-none`,children:e.description}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-sm text-gray-400",children:[i.jsx("span",{className:"px-3 py-1 bg-gray-700/50 rounded-full text-xs font-medium",children:e.category.charAt(0).toUpperCase()+e.category.slice(1)}),e.assigned_to_username&&i.jsxs("div",{className:"flex items-center gap-1 text-blue-400",children:[i.jsx(nr,{className:"h-4 w-4"}),i.jsxs("span",{children:["@",e.assigned_to_username]})]}),e.due_date&&i.jsxs("div",{className:`flex items-center gap-1 ${l&&!e.completed?"text-red-400":c&&!e.completed?"text-yellow-400":"text-gray-400"}`,children:[i.jsx(At,{className:"h-4 w-4"}),i.jsx("span",{children:o(e.due_date)})]})]}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[i.jsx("button",{onClick:()=>s(e),className:"p-1.5 sm:p-2 text-gray-400 hover:text-yellow-400 hover:bg-yellow-500/10 rounded-lg transition-all duration-200",title:"Share task",children:i.jsx(Ss,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>r(e),className:"p-1.5 sm:p-2 text-gray-400 hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-all duration-200",title:"Edit task",children:i.jsx(vn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 sm:p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-200",title:"Delete task",children:i.jsx($t,{className:"h-4 w-4"})})]})]})]})]})})}function Tc(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),{appUser:s}=Te(),a=async()=>{try{const{data:u,error:d}=await D.from("users").select("*").order("created_at",{ascending:!1});if(d)throw d;t(u||[])}catch(u){console.error("Error fetching users:",u)}finally{n(!1)}},o=async(u,d)=>{try{const{data:h,error:f}=await D.from("users").update({...d,updated_at:new Date().toISOString()}).eq("id",u).select().single();if(f)throw f;return t(m=>m.map(p=>p.id===u?h:p)),{data:h,error:null}}catch(h){return console.error("Error updating user:",h),{data:null,error:h}}},l=async u=>{try{await D.from("movies").update({added_by_username:null}).eq("added_by",u);const{error:d}=await D.from("users").delete().eq("id",u);if(d)throw d;return t(h=>h.filter(f=>f.id!==u)),{error:null}}catch(d){return console.error("Error deleting user:",d),{error:d}}},c=async()=>{try{const{data:u,error:d}=await D.from("users").select("username").order("username");if(d)throw d;return{data:(u==null?void 0:u.map(h=>h.username))||[],error:null}}catch(u){return console.error("Error fetching usernames:",u),{data:[],error:u}}};return w.useEffect(()=>{a()},[s]),{users:e,loading:r,updateUser:o,deleteUser:l,getAllUsernames:c,refetchUsers:a}}function j1({onSubmit:e,onClose:t,loading:r=!1,editingTask:n}){const[s,a]=w.useState({title:(n==null?void 0:n.title)||"",description:(n==null?void 0:n.description)||"",priority:"medium",category:(n==null?void 0:n.category)||"general",due_date:n!=null&&n.due_date?new Date(n.due_date).toISOString().slice(0,16):"",assigned_to_username:(n==null?void 0:n.assigned_to_username)||""}),{getAllUsernames:o}=Tc(),[l,c]=w.useState([]);un.useEffect(()=>{(async()=>{const{data:f}=await o();c(f)})()},[]),un.useEffect(()=>{n&&a({title:n.title,description:n.description||"",priority:n.priority,category:n.category,due_date:n.due_date?new Date(n.due_date).toISOString().slice(0,16):"",assigned_to_username:n.assigned_to_username||""})},[n]);const u=h=>{h.preventDefault(),e({...s,due_date:s.due_date||void 0,assigned_to_username:s.assigned_to_username||null})},d=["general","work","personal","health","finance","learning","shopping"];return i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-hidden animate-slide-up",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 gold-gradient rounded-lg",children:i.jsx(je,{className:"h-5 w-5 text-black"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:n?"Edit Task":"Create New Task"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Me,{className:"h-5 w-5 text-gray-400"})})]}),i.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6 space-y-4 max-h-[calc(90vh-120px)] overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),i.jsx("input",{type:"text",value:s.title,onChange:h=>a({...s,title:h.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-lg text-sm sm:text-base",placeholder:"Enter task title",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),i.jsx("textarea",{value:s.description,onChange:h=>a({...s,description:h.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-lg resize-none text-sm sm:text-base",placeholder:"Enter task description",rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Priority"}),i.jsxs("select",{value:s.priority,onChange:h=>a({...s,priority:h.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-lg text-sm sm:text-base",children:[i.jsx("option",{value:"low",children:"Low"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"high",children:"High"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),i.jsx("select",{value:s.category,onChange:h=>a({...s,category:h.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-lg text-sm sm:text-base",children:d.map(h=>i.jsx("option",{value:h,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Assign to User (Optional)"}),i.jsxs("select",{value:s.assigned_to_username,onChange:h=>a({...s,assigned_to_username:h.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-lg text-sm sm:text-base",children:[i.jsx("option",{value:"",children:"Not assigned"}),l.map(h=>i.jsxs("option",{value:h,children:["@",h]},h))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Due Date"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"datetime-local",value:s.due_date,onChange:h=>a({...s,due_date:h.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-lg text-sm sm:text-base"}),i.jsx(At,{className:"absolute right-3 top-2.5 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 btn-dark rounded-lg transition-all duration-200 text-sm sm:text-base",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:r||!s.title.trim(),className:"flex-1 btn-gold px-3 sm:px-4 py-2 sm:py-3 rounded-lg focus:ring-2 focus:ring-yellow-500/50 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm sm:text-base",children:r?i.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(je,{className:"h-4 w-4"}),n?"Update Task":"Create Task"]})})]})]})]})})}function Lm(){const[e,t]=w.useState(!1),{user:r}=Te(),n=async(u,d,h)=>{if(!r)return{error:new Error("User not authenticated")};t(!0);try{const{data:f,error:m}=await D.from("tasks").select("*").eq("id",u).eq("user_id",r.id).single();if(m)throw m;const p=h?new Date(Date.now()+h*24*60*60*1e3).toISOString():null,v=crypto.randomUUID(),[b,y]=await Promise.all([D.from("task_shares").insert([{task_id:u,shared_by:r.id,shared_with_email:d||null,expires_at:p,share_token:v}]).select().single(),D.from("shared_tasks").insert([{original_task_id:u,share_token:v,task_data:f}]).select().single()]);if(b.error)throw b.error;if(y.error)throw y.error;return{data:b.data,error:null}}catch(f){return console.error("Error creating share:",f),{data:null,error:f}}finally{t(!1)}},s=async u=>{try{const{data:d,error:h}=await D.from("shared_tasks").select("*").eq("share_token",u).single();if(h)throw h;return{data:d,error:null}}catch(d){return console.error("Error fetching shared task:",d),{data:null,error:d}}};return{loading:e,createShare:n,getSharedTaskByToken:s,addSharedTaskToUser:async u=>{if(!r)return{error:new Error("User not authenticated")};t(!0);try{const{data:d,error:h}=await s(u);if(h||!d)throw h||new Error("Shared task not found");const{data:f,error:m}=await D.from("tasks").select("id").eq("user_id",r.id).eq("title",d.task_data.title);if(m)throw m;if(f&&f.length>0)return{data:null,error:new Error("Task already exists in your list")};const{data:p,error:v}=await D.from("tasks").insert([{title:d.task_data.title,description:d.task_data.description,priority:d.task_data.priority,category:d.task_data.category,due_date:d.task_data.due_date,user_id:r.id,completed:!1}]).select().single();if(v)throw v;return{data:p,error:null}}catch(d){return console.error("Error adding shared task:",d),{data:null,error:d}}finally{t(!1)}},getTaskShares:async u=>{if(!r)return{data:[],error:new Error("User not authenticated")};try{const{data:d,error:h}=await D.from("task_shares").select("*").eq("task_id",u).eq("shared_by",r.id);if(h)throw h;return{data:d||[],error:null}}catch(d){return console.error("Error fetching shares:",d),{data:[],error:d}}},deleteShare:async u=>{if(!r)return{error:new Error("User not authenticated")};try{const{error:d}=await D.from("task_shares").delete().eq("id",u).eq("shared_by",r.id);if(d)throw d;return{error:null}}catch(d){return console.error("Error deleting share:",d),{error:d}}},getSharedTask:async u=>{try{const{data:d,error:h}=await D.from("task_shares").select(`
          *,
          tasks (*)
        `).eq("share_token",u).single();if(h)throw h;if(d.expires_at&&new Date(d.expires_at)<new Date)throw new Error("Share link has expired");return{data:d,error:null}}catch(d){return console.error("Error fetching shared task:",d),{data:null,error:d}}}}}function k1({task:e,onClose:t}){const[r,n]=w.useState(""),[s,a]=w.useState(""),[o,l]=w.useState([]),[c,u]=w.useState(null),[d,h]=w.useState(!1),[f,m]=w.useState([]),{createShare:p,getTaskShares:v,deleteShare:b}=Lm(),{getAllUsernames:y}=Tc();w.useEffect(()=>{x(),g()},[e.id]);const g=async()=>{const{data:N}=await y();m(N)},x=async()=>{const{data:N}=await v(e.id);l(N)},_=async()=>{h(!0);const{data:N,error:E}=await p(e.id,void 0,s?Number(s):void 0);!E&&N&&(await x(),a("")),h(!1)},j=async()=>{if(!r.trim())return;h(!0);const{data:N,error:E}=await p(e.id,r.trim(),s?Number(s):void 0);!E&&N&&(await x(),n(""),a("")),h(!1)},k=async N=>{const E=`${window.location.origin}/shared/${N}`;await navigator.clipboard.writeText(E),u(N),setTimeout(()=>u(null),2e3)},S=async N=>{const{error:E}=await b(N);E||await x()},C=N=>N?`Expires ${new Date(N).toLocaleDateString()}`:"Never expires";return i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 gold-gradient rounded-lg",children:i.jsx(Ss,{className:"h-5 w-5 text-black"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:"Share Task"}),i.jsx("p",{className:"text-sm text-gray-400 truncate max-w-md",children:e.title})]})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Me,{className:"h-5 w-5 text-gray-400"})})]}),i.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(90vh-120px)] overflow-y-auto",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-100 flex items-center gap-2",children:[i.jsx(Cr,{className:"h-5 w-5 text-yellow-500"}),"Create New Share"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Share with User (Optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx(nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsxs("select",{value:r,onChange:N=>n(N.target.value),className:"w-full pl-10 pr-4 py-3 input-dark rounded-lg",children:[i.jsx("option",{value:"",children:"Select a user"}),f.map(N=>i.jsxs("option",{value:N,children:["@",N]},N))]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Expires In (Days)"}),i.jsx("input",{type:"number",value:s,onChange:N=>a(N.target.value?Number(N.target.value):""),className:"w-full px-4 py-3 input-dark rounded-lg",placeholder:"Never expires",min:"1",max:"365"})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:j,disabled:d||!r.trim(),className:"flex-1 btn-gold px-4 py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i.jsx(nr,{className:"h-4 w-4"}),"Share with User"]}),i.jsxs("button",{onClick:_,disabled:d,className:"flex-1 btn-dark px-4 py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i.jsx(hd,{className:"h-4 w-4"}),"Create Share Link"]})]})]}),o.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-100 flex items-center gap-2",children:[i.jsx(Ss,{className:"h-5 w-5 text-yellow-500"}),"Active Shares (",o.length,")"]}),i.jsx("div",{className:"space-y-3",children:o.map(N=>i.jsx("div",{className:"glass-effect rounded-lg p-4 hover:bg-gray-700/30 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[N.shared_with_email?i.jsx(nr,{className:"h-4 w-4 text-blue-400"}):i.jsx(hd,{className:"h-4 w-4 text-green-400"}),i.jsx("span",{className:"text-sm font-medium text-gray-200",children:N.shared_with_email?`@${N.shared_with_email}`:"Public Link"})]}),i.jsxs("p",{className:"text-xs text-gray-400",children:[C(N.expires_at)," • Created ",new Date(N.created_at).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>k(N.share_token),className:"p-2 hover:bg-gray-600 rounded-lg transition-colors group",title:"Copy share link",children:c===N.share_token?i.jsx(km,{className:"h-4 w-4 text-green-400"}):i.jsx(nw,{className:"h-4 w-4 text-gray-400 group-hover:text-yellow-400"})}),i.jsx("button",{onClick:()=>S(N.id),className:"p-2 hover:bg-red-500/20 rounded-lg transition-colors group",title:"Delete share",children:i.jsx($t,{className:"h-4 w-4 text-gray-400 group-hover:text-red-400"})})]})]})},N.id))})]})]})]})})}function N1({movie:e,onToggleWatched:t,onEdit:r,onDelete:n,showThumbnails:s=!0,onRate:a,onViewDetails:o}){const l=m=>{switch(m.toLowerCase()){case"netflix":return"text-red-400 bg-red-900/30 border-red-500/50";case"disney+":return"text-blue-400 bg-blue-900/30 border-blue-500/50";case"amazon-prime":return"text-cyan-400 bg-cyan-900/30 border-cyan-500/50";case"hbo-max":return"text-purple-400 bg-purple-900/30 border-purple-500/50";case"hulu":return"text-green-400 bg-green-900/30 border-green-500/50";case"apple-tv":return"text-gray-400 bg-gray-800/30 border-gray-600/50";default:return"text-yellow-400 bg-yellow-900/30 border-yellow-500/50"}},c=m=>{switch(m.toLowerCase()){case"action":return"🎬";case"comedy":return"😂";case"drama":return"🎭";case"horror":return"👻";case"sci-fi":return"🚀";case"romance":return"💕";case"thriller":return"🔥";case"documentary":return"📺";case"animation":return"🎨";case"family":return"👨‍👩‍👧‍👦";case"series":return"👀";default:return"🎬"}},u=m=>{const p=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,v=m.match(p);return v?v[1]:null},d=e.trailer_url?u(e.trailer_url):null,h=d?`https://img.youtube.com/vi/${d}/maxresdefault.jpg`:null,f=m=>`https://www.werstreamt.es/filme-serien/?q=${encodeURIComponent(m)}&action_results=suchen`;return i.jsxs("div",{className:`glass-effect rounded-xl overflow-hidden transition-all duration-300 hover-lift animate-slide-up ${e.watched?"border-green-500/50 bg-green-900/20":"border-gray-700/50 hover:border-yellow-500/50"}`,children:[s&&h&&i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:h,alt:`${e.title} trailer`,className:"w-full h-32 sm:h-40 object-cover",onError:m=>{m.currentTarget.style.display="none"}}),i.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:i.jsx("div",{className:"bg-red-600 rounded-full p-2",children:i.jsx(Qa,{className:"h-4 w-4 text-white fill-white"})})}),e.trailer_url&&i.jsx("a",{href:e.trailer_url,target:"_blank",rel:"noopener noreferrer",className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 rounded-full p-1.5 transition-colors",title:"Watch trailer",children:i.jsx(Ja,{className:"h-3 w-3 text-white"})})]}),i.jsx("div",{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("button",{onClick:()=>t(e.id,!e.watched),className:"flex-shrink-0 mt-1 transition-all duration-200 hover:scale-110",children:e.watched?i.jsx(Ms,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-400"}):i.jsx(Qa,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-500 hover:text-yellow-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i.jsx("span",{className:"text-lg sm:text-xl",children:c(e.genre)}),i.jsx("h3",{className:`font-medium text-sm sm:text-base truncate ${e.watched?"text-gray-500 line-through":"text-gray-100"}`,children:e.title})]}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[i.jsx("span",{className:`px-2 sm:px-3 py-1 text-xs font-semibold rounded-full border ${l(e.platform)}`,children:e.platform.charAt(0).toUpperCase()+e.platform.slice(1).replace("-","+")}),e.rating!=="unrated"&&i.jsx(i.Fragment,{children:i.jsx("span",{className:"px-2 py-1 text-xs bg-gray-700/50 text-gray-300 rounded-full",children:e.rating.toUpperCase()})})]})]}),e.description&&i.jsx("p",{className:`text-xs sm:text-sm mb-3 ${e.watched?"text-gray-400":"text-gray-300"}`,children:e.description}),e.userRating&&i.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[i.jsx("div",{className:"flex",children:[1,2,3,4,5].map(m=>i.jsx(wn,{className:`h-3 w-3 ${m<=e.userRating?"text-yellow-400 fill-yellow-400":"text-gray-600"}`},m))}),i.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(",e.userRating,"/5)"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-400",children:[i.jsx("span",{className:"px-2 sm:px-3 py-1 bg-gray-700/50 rounded-full font-medium",children:e.genre.charAt(0).toUpperCase()+e.genre.slice(1)}),a&&i.jsxs("button",{onClick:()=>a(e),className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs transition-colors ${e.userRating?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30"}`,children:[i.jsx(wn,{className:"h-3 w-3"}),e.userRating?"Edit Rating":"Rate"]})]}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[i.jsx("a",{href:f(e.title),target:"_blank",rel:"noopener noreferrer",className:"p-1.5 sm:p-2 text-gray-400 hover:text-green-400 hover:bg-green-500/10 rounded-lg transition-all duration-200",title:"Find streaming platforms",children:i.jsx(Sc,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),o&&i.jsx("button",{onClick:()=>o(e),className:"p-1.5 sm:p-2 text-gray-400 hover:text-yellow-400 hover:bg-yellow-500/10 rounded-lg transition-all duration-200",title:"View details",children:i.jsx(ow,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),e.trailer_url&&!s&&i.jsx("a",{href:e.trailer_url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 sm:p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-200",title:"Watch trailer",children:i.jsx(Ja,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),i.jsx("button",{onClick:()=>r(e),className:"p-1.5 sm:p-2 text-gray-400 hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-all duration-200",title:"Edit movie",children:i.jsx(vn,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),i.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 sm:p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-200",title:"Delete movie",children:i.jsx($t,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})]})]})}),i.jsx("div",{className:"px-4 sm:px-6 pb-3",children:i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[i.jsx(nr,{className:"h-3 w-3"}),i.jsxs("span",{children:["Added by ",e.addedByUsername||"@unknown"]})]})})]})}function S1({onSubmit:e,onClose:t,loading:r=!1,editingMovie:n}){const[s,a]=w.useState({title:(n==null?void 0:n.title)||"",description:(n==null?void 0:n.description)||"",platform:(n==null?void 0:n.platform)||"netflix",genre:(n==null?void 0:n.genre)||"action",rating:(n==null?void 0:n.rating)||"unrated",trailer_url:(n==null?void 0:n.trailer_url)||""});un.useEffect(()=>{n&&a({title:n.title,description:n.description||"",platform:n.platform,genre:n.genre,rating:n.rating,trailer_url:n.trailer_url||""})},[n]);const o=d=>{if(d.preventDefault(),!s.title.trim()){alert("Please enter a movie title");return}e(s)},l=["netflix","disney+","amazon-prime","apple-tv","paramount+","jellyfin","other"],c=["action","comedy","drama","horror","sci-fi","series","romance","thriller","documentary","animation","family"],u=["-","0","6","12","16","18"];return i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl w-full max-w-md animate-slide-up",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-700/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 gold-gradient rounded-lg",children:i.jsx(ss,{className:"h-4 w-4 sm:h-5 sm:w-5 text-black"})}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-100",children:n?"Edit Movie":"Add Movie"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Me,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})})]}),i.jsxs("form",{onSubmit:o,className:"p-4 sm:p-6 space-y-4",children:[n&&i.jsx("div",{className:"mb-4 p-3 bg-gray-700/30 rounded-lg",children:i.jsxs("p",{className:"text-sm text-gray-300",children:["Added by @",n.addedByUsername||n.added_by]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Movie Title"}),i.jsx("input",{type:"text",value:s.title,onChange:d=>a({...s,title:d.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-lg text-sm sm:text-base",placeholder:"Enter movie title",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),i.jsx("textarea",{value:s.description,onChange:d=>a({...s,description:d.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-lg resize-none text-sm sm:text-base",placeholder:"Movie description or notes",rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform"}),i.jsx("select",{value:s.platform,onChange:d=>a({...s,platform:d.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-lg text-sm sm:text-base",children:l.map(d=>i.jsx("option",{value:d,children:d.charAt(0).toUpperCase()+d.slice(1).replace("-"," ")},d))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Genre"}),i.jsx("select",{value:s.genre,onChange:d=>a({...s,genre:d.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-lg text-sm sm:text-base",children:c.map(d=>i.jsx("option",{value:d,children:d.charAt(0).toUpperCase()+d.slice(1)},d))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rating"}),i.jsx("select",{value:s.rating,onChange:d=>a({...s,rating:d.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-lg text-sm sm:text-base",children:u.map(d=>i.jsx("option",{value:d,children:d.toUpperCase()},d))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ja,{className:"h-4 w-4 text-red-400"}),"Trailer URL (YouTube)"]})}),i.jsx("input",{type:"url",value:s.trailer_url,onChange:d=>a({...s,trailer_url:d.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-lg text-sm sm:text-base",placeholder:"https://www.youtube.com/watch?v=..."}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Paste a YouTube video URL to embed the trailer"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 btn-dark rounded-lg transition-all duration-200 text-sm sm:text-base",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:r||!s.title.trim(),className:"flex-1 btn-gold px-3 sm:px-4 py-2 sm:py-3 rounded-lg focus:ring-2 focus:ring-yellow-500/50 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm sm:text-base",children:r?i.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(je,{className:"h-4 w-4"}),n?"Update Movie":"Add Movie"]})})]})]})]})})}function E1({movie:e,onRate:t,onClose:r}){const[n,s]=w.useState(e.userRating||0),[a,o]=w.useState(0),[l,c]=w.useState(""),u=()=>{n>0&&(t(e.id,n,l.trim()||void 0),r())};return i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl w-full max-w-md animate-slide-up",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 gold-gradient rounded-lg",children:i.jsx(wn,{className:"h-5 w-5 text-black"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:e.userRating?"Edit Rating":"Rate Movie"}),i.jsx("p",{className:"text-sm text-gray-400 truncate max-w-md",children:e.title})]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Me,{className:"h-5 w-5 text-gray-400"})})]}),i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("p",{className:"text-gray-300 mb-6",children:e.userRating?"Update your rating:":"How would you rate this movie?"}),i.jsx("div",{className:"flex justify-center gap-2 mb-8",children:[1,2,3,4,5].map(d=>i.jsx("button",{onClick:()=>s(d),onMouseEnter:()=>o(d),onMouseLeave:()=>o(0),className:"p-2 transition-all duration-200 hover:scale-110",children:i.jsx(wn,{className:`h-8 w-8 transition-colors ${d<=(a||n)?"text-yellow-400 fill-yellow-400":"text-gray-600"}`})},d))}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Commentary (Optional)"}),i.jsx("textarea",{value:l,onChange:d=>c(d.target.value.slice(0,500)),className:"w-full px-4 py-3 input-dark rounded-lg resize-none text-sm",placeholder:"Share your thoughts about this movie...",rows:3,maxLength:500}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length,"/500 characters"]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:r,className:"flex-1 px-4 py-3 btn-dark rounded-lg transition-all duration-200",children:"Cancel"}),i.jsx("button",{onClick:u,disabled:n===0,className:"flex-1 btn-gold px-4 py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:e.userRating?"Update Rating":"Rate Movie"})]})]})]})})}function C1({movie:e,ratings:t,isOpen:r,onClose:n}){if(!r)return null;const s=t.length>0?t.reduce((p,v)=>p+v.rating,0)/t.length:0,a=()=>{const p=`https://www.werstreamt.es/filme-serien/?q=${encodeURIComponent(e.title)}&action_results=suchen`;window.open(p,"_blank")},o=()=>{e.trailer_url&&window.open(e.trailer_url,"_blank")},l=p=>{switch(p.toLowerCase()){case"netflix":return"text-red-400 bg-red-900/30 border-red-500/50";case"disney+":return"text-blue-400 bg-blue-900/30 border-blue-500/50";case"amazon-prime":return"text-cyan-400 bg-cyan-900/30 border-cyan-500/50";case"hbo-max":return"text-purple-400 bg-purple-900/30 border-purple-500/50";case"hulu":return"text-green-400 bg-green-900/30 border-green-500/50";case"apple-tv":return"text-gray-400 bg-gray-800/30 border-gray-600/50";default:return"text-yellow-400 bg-yellow-900/30 border-yellow-500/50"}},c=p=>{switch(p.toLowerCase()){case"action":return"🎬";case"comedy":return"😂";case"drama":return"🎭";case"horror":return"👻";case"sci-fi":return"🚀";case"romance":return"💕";case"thriller":return"🔥";case"documentary":return"📺";case"animation":return"🎨";case"family":return"👨‍👩‍👧‍👦";case"series":return"👀";default:return"🎬"}},u=p=>Array.from({length:5},(v,b)=>i.jsx(wn,{className:`w-4 h-4 ${b<p?"text-yellow-400 fill-current":"text-gray-600"}`},b)),d=p=>{const v=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500"],b=p.length%v.length;return v[b]},h=p=>{const v=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,b=p.match(v);return b?b[1]:null},f=e.trailer_url?h(e.trailer_url):null,m=f?`https://img.youtube.com/vi/${f}/maxresdefault.jpg`:null;return i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden animate-slide-up",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:c(e.genre)}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:e.title}),i.jsx("p",{className:"text-sm text-gray-400",children:"Movie Details"})]})]}),i.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Me,{className:"h-5 w-5 text-gray-400"})})]}),i.jsxs("div",{className:"p-6 max-h-[calc(90vh-120px)] overflow-y-auto",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[i.jsx("div",{className:"lg:col-span-1",children:m?i.jsxs("div",{className:"relative aspect-video rounded-xl overflow-hidden",children:[i.jsx("img",{src:m,alt:`${e.title} trailer`,className:"w-full h-full object-cover",onError:p=>{p.currentTarget.style.display="none"}}),i.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:i.jsx("div",{className:"bg-red-600 rounded-full p-3",children:i.jsx(Qa,{className:"h-6 w-6 text-white fill-white"})})}),e.trailer_url&&i.jsx("button",{onClick:o,className:"absolute top-3 right-3 bg-red-600 hover:bg-red-700 rounded-full p-2 transition-colors",title:"Watch trailer",children:i.jsx(Ja,{className:"h-4 w-4 text-white"})})]}):i.jsx("div",{className:"aspect-video glass-effect rounded-xl flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx(At,{className:"w-12 h-12 mx-auto mb-2"}),i.jsx("p",{className:"text-sm",children:"No Trailer Available"})]})})}),i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Details"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full border ${l(e.platform||"unknown")}`,children:(e.platform||"Unknown").charAt(0).toUpperCase()+(e.platform||"unknown").slice(1).replace("-","+")}),i.jsx("span",{className:"px-3 py-1 bg-gray-700/50 text-gray-300 rounded-full text-sm",children:(e.genre||"General").charAt(0).toUpperCase()+(e.genre||"general").slice(1)}),e.rating!=="unrated"&&i.jsx("span",{className:"px-3 py-1 bg-gray-700/50 text-gray-300 rounded-full text-sm",children:(e.rating||"Unrated").toUpperCase()})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[i.jsx(Dr,{className:"w-4 h-4"}),i.jsxs("span",{children:["Added ",new Date(e.created_at).toLocaleDateString()]}),e.addedByUsername&&i.jsxs("span",{children:["by @",e.addedByUsername]})]}),e.watched&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-400",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{children:"Watched"})]})]})]}),e.description&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-3",children:"Description"}),i.jsx("p",{className:"text-gray-300 leading-relaxed",children:e.description})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 btn-gold rounded-lg transition-all duration-200 hover-lift",children:[i.jsx(Sc,{className:"w-4 h-4"}),"Find Streaming"]}),e.trailer_url&&i.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all duration-200 hover-lift",children:[i.jsx(Qa,{className:"w-4 h-4"}),"Trailer"]})]})]})]}),i.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Family Ratings"}),t.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex",children:u(Math.round(s))}),i.jsxs("span",{className:"text-sm text-gray-400",children:[s.toFixed(1)," avg (",t.length," rating",t.length!==1?"s":"",")"]})]})]}),t.length>0?i.jsx("div",{className:"space-y-4",children:t.map(p=>i.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[(()=>{const v=localStorage.getItem(`profile_picture_${p.user_id}`);return v?i.jsx("img",{src:v,alt:`${p.username}'s profile`,className:"w-8 h-8 rounded-full object-cover border border-gray-600"}):i.jsx("div",{className:`w-8 h-8 rounded-full ${d(p.username||"unknown")} flex items-center justify-center text-white text-sm font-medium`,children:(p.username||"U").charAt(0).toUpperCase()})})(),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-gray-100",children:["@",p.username||"unknown"]}),i.jsx("p",{className:"text-sm text-gray-400",children:new Date(p.created_at).toLocaleDateString()})]})]}),i.jsx("div",{className:"flex",children:u(p.rating)})]}),p.commentary&&i.jsxs("p",{className:"text-sm text-gray-300 bg-gray-800/50 rounded-lg p-3 mt-2",children:['"',p.commentary,'"']})]},p.id))}):i.jsxs("div",{className:"text-center py-8 text-gray-400",children:[i.jsx(wn,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),i.jsx("p",{className:"text-lg font-medium text-gray-300 mb-2",children:"No ratings yet"}),i.jsx("p",{className:"text-sm",children:"Be the first to rate this movie!"})]})]})]})]})})}function P1(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),{appUser:s}=Te(),a=async()=>{if(!s){t([]),n(!1);return}try{const[h,f]=await Promise.all([D.from("movies").select("*").order("created_at",{ascending:!1}),D.from("user_movie_ratings").select("*")]);if(h.error)throw h.error;const m=h.data||[],p=f.data||[],v=new Map;p.forEach(y=>{const g=`${y.user_id}-${y.movie_id}`;v.set(g,y.rating)});const b=m.map(y=>{const g=`${s.id}-${y.id}`,x=v.get(g);return{...y,userRating:x,addedByUsername:y.added_by_username||"@unknown"}});t(b)}catch(h){console.error("Error fetching movies:",h);try{const{data:f,error:m}=await D.from("movies").select("*").order("created_at",{ascending:!1});if(m)throw m;const{data:p}=await D.from("user_movie_ratings").select("*").eq("user_id",s.id),v=new Map;(p||[]).forEach(y=>{v.set(y.movie_id,y.rating)});const b=(f||[]).map(y=>({...y,userRating:v.get(y.id)}));t(b)}catch(f){console.error("Fallback error:",f),t([])}}finally{n(!1)}},o=async h=>{if(!s)return{error:new Error("User not authenticated")};try{const{data:f,error:m}=await D.from("movies").insert([{...h,added_by:s.id,added_by_username:s.username,updated_at:new Date().toISOString()}]).select().single();if(m)throw m;const p={...f,addedByUsername:s.username};return t(v=>[p,...v]),{data:f,error:null}}catch(f){return console.error("Error creating movie:",f),{data:null,error:f}}},l=async(h,f)=>{if(!s)return{error:new Error("User not authenticated")};try{f.watched===!0&&setTimeout(()=>{a()},1e4);const{data:m,error:p}=await D.from("movies").update({...f,updated_at:new Date().toISOString()}).eq("id",h).select().single();if(p)throw p;return t(v=>v.map(b=>b.id===h?{...m,addedByUsername:m.added_by_username||b.addedByUsername,userRating:b.userRating}:b)),{data:m,error:null}}catch(m){return console.error("Error updating movie:",m),{data:null,error:m}}},c=async h=>{if(!s)return{error:new Error("User not authenticated")};try{const{error:f}=await D.from("movies").delete().eq("id",h);if(f)throw f;return t(m=>m.filter(p=>p.id!==h)),{error:null}}catch(f){return console.error("Error deleting movie:",f),{error:f}}},u=async(h,f,m)=>{if(!s)return{error:new Error("User not authenticated")};try{const{error:p}=await D.from("user_movie_ratings").upsert({user_id:s.id,movie_id:h,rating:f,commentary:m||null,updated_at:new Date().toISOString()},{onConflict:"user_id,movie_id"});if(p)throw p;return t(v=>v.map(b=>b.id===h?{...b,userRating:f}:b)),{error:null}}catch(p){return console.error("Error rating movie:",p),{error:p}}},d=async h=>{try{const{data:f,error:m}=await D.from("user_movie_ratings").select("*, users!inner(username)").eq("movie_id",h);if(m)throw m;return{data:(f||[]).map(v=>({...v,username:v.users.username,commentary:v.commentary})),error:null}}catch(f){return console.error("Error fetching movie ratings:",f),{data:[],error:f}}};return w.useEffect(()=>{a()},[s]),{movies:e,loading:r,createMovie:o,updateMovie:l,deleteMovie:c,rateMovie:u,getAllRatingsForMovie:d,refetchMovies:a}}function T1(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),[s,a]=w.useState(null),[o,l]=w.useState(null),[c,u]=w.useState([]),[d,h]=w.useState(""),[f,m]=w.useState("active"),[p,v]=w.useState("all"),[b,y]=w.useState("all"),[g,x]=w.useState(!1),[_,j]=w.useState(!0),{movies:k,loading:S,createMovie:C,updateMovie:N,deleteMovie:E,rateMovie:R,getAllRatingsForMovie:$}=P1(),T=async A=>{x(!0);const{error:pe}=r?await N(r.id,A):await C(A);x(!1),pe||(t(!1),n(null))},M=A=>{n(A),t(!0)},F=async(A,pe)=>{await N(A,{watched:pe})},le=async A=>{window.confirm("Are you sure you want to remove this movie?")&&await E(A)},ve=async(A,pe,Ne)=>{await R(A,pe,Ne)},O=async A=>{l(A);const{data:pe}=await $(A.id);u(pe||[])},U=k.filter(A=>{var Rc;const pe=A.title.toLowerCase().includes(d.toLowerCase())||((Rc=A.description)==null?void 0:Rc.toLowerCase().includes(d.toLowerCase())),Ne=new Date,tt=new Date(Ne.getTime()-10*1e3),Oc=new Date(A.updated_at),$m=f==="active"?!A.watched||A.watched&&Oc>tt:A.watched&&Oc<=tt,Im=p==="all"||A.platform===p,Mm=b==="all"||A.genre===b;return pe&&$m&&Im&&Mm}),W=k.filter(A=>{const pe=new Date,Ne=new Date(pe.getTime()-10*1e3),tt=new Date(A.updated_at);return!A.watched||A.watched&&tt>Ne}).length,X=k.filter(A=>{const pe=new Date,Ne=new Date(pe.getTime()-10*1e3),tt=new Date(A.updated_at);return A.watched&&tt<=Ne}).length,ie=[...new Set(k.map(A=>A.platform))],Ar=[...new Set(k.map(A=>A.genre))];return S?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Loading movie night..."})]})}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 sm:p-3 gold-gradient rounded-2xl",children:i.jsx(hw,{className:"h-6 w-6 sm:h-8 sm:w-8 text-black"})}),i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold gold-text",children:"Movie Night"})]}),i.jsx("p",{className:"text-gray-400 text-sm sm:text-base mb-2",children:"Family watchlist for everyone"}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-300",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Cr,{className:"h-4 w-4"}),k.length," movies"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ss,{className:"h-4 w-4"}),W," active"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(dd,{className:"h-4 w-4"}),X," archived"]})]})]}),i.jsxs("div",{className:"flex border border-gray-700/50 rounded-xl overflow-hidden mb-6",children:[i.jsxs("button",{onClick:()=>m("active"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 text-sm font-medium transition-all duration-200 ${f==="active"?"text-yellow-400 bg-yellow-500/20 border-yellow-400":"text-gray-400 hover:text-gray-300 hover:bg-gray-700/30"}`,children:[i.jsx(ss,{className:"h-4 w-4"}),"Active Movies (",W,")"]}),i.jsxs("button",{onClick:()=>m("watched"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 text-sm font-medium transition-all duration-200 ${f==="watched"?"text-yellow-400 bg-yellow-500/20 border-yellow-400":"text-gray-400 hover:text-gray-300 hover:bg-gray-700/30"}`,children:[i.jsx(dd,{className:"h-4 w-4"}),"Already Watched (",X,")"]})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ec,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("input",{type:"text",placeholder:"Search movies...",value:d,onChange:A=>h(A.target.value),className:"w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-2 sm:py-3 input-dark rounded-xl text-sm sm:text-base"})]}),i.jsxs("button",{onClick:()=>t(!0),className:"btn-gold px-4 sm:px-6 py-2 sm:py-3 rounded-xl focus:ring-2 focus:ring-yellow-500/50 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 flex items-center justify-center gap-2 hover-lift text-sm sm:text-base",children:[i.jsx(je,{className:"h-4 w-4"}),"Add Movie"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[i.jsxs("select",{value:p,onChange:A=>v(A.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-xl text-sm sm:text-base",children:[i.jsx("option",{value:"all",children:"All Platforms"}),ie.map(A=>i.jsx("option",{value:A,children:A.charAt(0).toUpperCase()+A.slice(1).replace("-"," ")},A))]}),i.jsxs("select",{value:b,onChange:A=>y(A.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-xl text-sm sm:text-base",children:[i.jsx("option",{value:"all",children:"All Genres"}),Ar.map(A=>i.jsx("option",{value:A,children:A.charAt(0).toUpperCase()+A.slice(1)},A))]})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("button",{onClick:()=>j(!_),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all duration-200 ${_?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50"}`,children:[_?i.jsx(aw,{className:"h-4 w-4"}):i.jsx(sw,{className:"h-4 w-4"}),_?"Hide Thumbnails":"Show Thumbnails"]})})})]}),U.length===0?i.jsxs("div",{className:"text-center py-8 sm:py-12",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 glass-effect rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx(ss,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-100 mb-3",children:k.length===0?"No movies yet":"No movies match your search"}),i.jsx("p",{className:"text-gray-400 mb-6 text-sm sm:text-base",children:k.length===0?"Start building your family watchlist":"Try adjusting your search or filter criteria"}),k.length===0&&i.jsxs("button",{onClick:()=>t(!0),className:"btn-gold px-6 sm:px-8 py-2 sm:py-3 rounded-xl transition-all duration-200 inline-flex items-center gap-2 hover-lift text-sm sm:text-base",children:[i.jsx(je,{className:"h-4 w-4"}),"Add your first movie"]})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:U.map(A=>i.jsx(N1,{movie:A,onToggleWatched:F,onEdit:M,onDelete:le,showThumbnails:_,onRate:a,onViewDetails:O},A.id))}),e&&i.jsx(S1,{onSubmit:T,onClose:()=>{t(!1),n(null)},loading:g,editingMovie:r}),s&&i.jsx(E1,{movie:s,onRate:ve,onClose:()=>a(null)}),o&&i.jsx(C1,{movie:o,ratings:c,isOpen:!0,onClose:()=>l(null)})]})}function Dm(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),{appUser:s}=Te(),a=async()=>{try{const{data:f,error:m}=await D.from("polls").select("*").order("created_at",{ascending:!1});if(m)throw m;t(f||[])}catch(f){console.error("Error fetching polls:",f)}finally{n(!1)}},o=async f=>{if(!s)return{error:new Error("User not authenticated")};try{const m=new Date(Date.now()+f.duration_minutes*60*1e3),p=f.options.map(y=>({text:y,votes:0})),{data:v,error:b}=await D.from("polls").insert([{title:f.title,description:f.description,options:p,votes_per_user:f.votes_per_user,duration_minutes:f.duration_minutes,expires_at:m.toISOString(),created_by:s.id,created_by_username:s.username,has_lucky_wheel:f.has_lucky_wheel,updated_at:new Date().toISOString()}]).select().single();if(b)throw b;return t(y=>[v,...y]),{data:v,error:null}}catch(m){return console.error("Error creating poll:",m),{data:null,error:m}}},l=async(f,m)=>{try{const p={...m,updated_at:new Date().toISOString()};if(m.options&&(p.options=m.options.map(y=>({text:y,votes:0}))),m.duration_minutes){const y=new Date(Date.now()+m.duration_minutes*60*1e3);p.expires_at=y.toISOString()}const{data:v,error:b}=await D.from("polls").update(p).eq("id",f).select().single();if(b)throw b;return t(y=>y.map(g=>g.id===f?v:g)),{data:v,error:null}}catch(p){return console.error("Error updating poll:",p),{data:null,error:p}}},c=async f=>{try{const{error:m}=await D.from("polls").delete().eq("id",f);if(m)throw m;return t(p=>p.filter(v=>v.id!==f)),{error:null}}catch(m){return console.error("Error deleting poll:",m),{error:m}}},u=async(f,m)=>{if(!s)return{error:new Error("User not authenticated")};try{const{data:p,error:v}=await D.from("poll_votes").select("*").eq("poll_id",f).eq("user_id",s.id);if(v)throw v;const b=e.find(_=>_.id===f);if(!b)throw new Error("Poll not found");if(p&&p.length>=b.votes_per_user)throw new Error(`You can only vote ${b.votes_per_user} time(s) on this poll`);const{error:y}=await D.from("poll_votes").insert([{poll_id:f,user_id:s.id,username:s.username,option_index:m}]);if(y)throw y;const g=[...b.options];g[m].votes+=1;const{error:x}=await D.from("polls").update({options:g,updated_at:new Date().toISOString()}).eq("id",f);if(x)throw x;return t(_=>_.map(j=>j.id===f?{...j,options:g}:j)),{error:null}}catch(p){return console.error("Error voting:",p),{error:p}}},d=async f=>{if(!s)return{data:[],error:null};try{const{data:m,error:p}=await D.from("poll_votes").select("*").eq("poll_id",f).eq("user_id",s.id);if(p)throw p;return{data:m||[],error:null}}catch(m){return console.error("Error fetching user votes:",m),{data:[],error:m}}},h=async f=>{try{const{data:m,error:p}=await D.from("poll_votes").select("*").eq("poll_id",f).order("created_at",{ascending:!1});if(p)throw p;return{data:m||[],error:null}}catch(m){return console.error("Error fetching all votes:",m),{data:[],error:m}}};return w.useEffect(()=>{a();const f=D.channel("polls_changes").on("postgres_changes",{event:"*",schema:"public",table:"polls"},m=>{console.log("Poll change received:",m),a()}).subscribe();return()=>{f.unsubscribe()}},[]),{polls:e,loading:r,createPoll:o,updatePoll:l,deletePoll:c,vote:u,getUserVotes:d,getAllVotes:h,refetchPolls:a}}function O1({poll:e,onEdit:t,onDelete:r,onLuckyWheel:n}){const[s,a]=w.useState([]),[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,h]=w.useState(""),[f,m]=w.useState(!1),{vote:p,getUserVotes:v}=Dm(),{appUser:b}=Te();w.useEffect(()=>{b&&y()},[e.id,b]),w.useEffect(()=>{const $=()=>{const M=new Date,le=new Date(e.expires_at).getTime()-M.getTime();if(le<=0)l("Expired"),u(!0);else{const ve=Math.floor(le/6e4),O=Math.floor(le%(1e3*60)/1e3);l(`${ve}:${O.toString().padStart(2,"0")}`),u(!1)}};$();const T=setInterval($,1e3);return()=>clearInterval(T)},[e.expires_at]);const y=async()=>{const{data:$}=await v(e.id);a($)},g=async $=>{if(c||!b)return;const{error:T}=await p(e.id,$);T?alert(T.message):y()},x=e.options.reduce(($,T)=>$+T.votes,0),_=!c&&b&&s.length<e.votes_per_user,j=s.length>0,k=$=>x===0?0:Math.round($/x*100),C=(()=>{const $=Math.max(...e.options.map(M=>M.votes)),T=e.options.filter(M=>M.votes===$&&($>0||c&&e.has_lucky_wheel));if(T.length>1&&c){const M=Math.floor(Math.random()*T.length);return[T[M]]}return T})(),N=C.length>0,E=c&&N,R=async()=>{const $=`${window.location.origin}/shared-poll/${e.id}`;await navigator.clipboard.writeText($),h($),m(!0),setTimeout(()=>m(!1),2e3)};return i.jsxs("div",{className:`glass-effect rounded-xl p-6 transition-all duration-300 hover-lift animate-slide-up ${c?"border-gray-600/50 opacity-75":"border-gray-700/50 hover:border-yellow-500/50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-1",children:e.title}),e.description&&i.jsx("p",{className:"text-sm text-gray-400 mb-2",children:e.description}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Cr,{className:"h-3 w-3"}),x," votes"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Pt,{className:"h-3 w-3"}),e.votes_per_user," per user"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Dr,{className:"h-3 w-3"}),o]}),e.has_lucky_wheel&&i.jsxs("span",{className:"flex items-center gap-1 text-yellow-400",children:[i.jsx(_r,{className:"h-3 w-3"}),"Lucky Wheel"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:R,className:"p-2 text-gray-400 hover:text-green-400 hover:bg-green-500/10 rounded-lg transition-all duration-200",title:f?"Link copied!":"Share poll",children:f?i.jsx(km,{className:"h-4 w-4"}):i.jsx(Ss,{className:"h-4 w-4"})}),e.has_lucky_wheel&&i.jsx("button",{onClick:()=>n(e),className:"p-2 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10 rounded-lg transition-all duration-200",title:"Spin lucky wheel",children:i.jsx(_r,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-all duration-200",title:"Edit poll",children:i.jsx(vn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-200",title:"Delete poll",children:i.jsx($t,{className:"h-4 w-4"})})]})]}),E?i.jsxs("div",{className:"text-center py-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(lt,{className:"h-8 w-8 text-yellow-400"}),i.jsx("h3",{className:"text-2xl font-bold text-yellow-400",children:"Winner!"}),i.jsx(lt,{className:"h-8 w-8 text-yellow-400"})]}),C.map(($,T)=>i.jsxs("div",{className:"glass-effect rounded-lg p-4 border border-yellow-500/50 bg-yellow-500/10 mb-2",children:[i.jsx("p",{className:"text-xl font-semibold text-gray-100",children:$.text}),!e.has_lucky_wheel&&i.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[$.votes," votes (",k($.votes),"%)"]})]},T))]}):i.jsxs("div",{className:"space-y-3",children:[e.options.map(($,T)=>{const M=k($.votes),F=s.some(O=>O.option_index===T),le=_&&!e.has_lucky_wheel,ve=!c&&N&&C.some(O=>O.text===$.text);return i.jsx("div",{className:"relative",children:i.jsxs("button",{onClick:()=>g(T),disabled:!le,className:`w-full text-left p-3 rounded-lg border transition-all duration-200 ${F?"border-green-500/50 bg-green-900/20 text-green-100":ve?"border-yellow-500/50 bg-yellow-900/20 text-yellow-100":le?"border-gray-600 bg-gray-800/50 hover:border-yellow-500/50 hover:bg-gray-700/50 text-gray-200":"border-gray-700 bg-gray-800/30 text-gray-400 cursor-not-allowed"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[F&&i.jsx(Ms,{className:"h-4 w-4 text-green-400"}),ve&&i.jsx(lt,{className:"h-4 w-4 text-yellow-400"}),i.jsx("span",{className:"font-medium",children:$.text})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{children:$.votes}),i.jsxs("span",{className:"text-xs text-gray-500",children:["(",M,"%)"]})]})]}),i.jsx("div",{className:"mt-2 h-1 bg-gray-700 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all duration-500 ${F?"bg-green-500":ve?"bg-yellow-500":"bg-gray-500"}`,style:{width:`${M}%`}})})]})},T)}),e.has_lucky_wheel&&!c&&i.jsx("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-400 text-sm",children:[i.jsx(_r,{className:"h-4 w-4"}),i.jsx("span",{children:"Lucky Wheel enabled - Use the wheel to pick a winner!"})]})})]}),i.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-700/50 flex items-center justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["Created by @",e.created_by_username||"unknown"]}),j&&!E&&i.jsxs("span",{className:"text-green-400",children:["You voted ",s.length,"/",e.votes_per_user," times"]}),E&&i.jsxs("span",{className:"text-yellow-400 flex items-center gap-1",children:[i.jsx(lt,{className:"h-3 w-3"}),e.has_lucky_wheel?"Lucky Wheel Winner":"Winner Selected"]})]})]})}function R1({onSubmit:e,onClose:t,loading:r=!1,editingPoll:n,error:s,onClearError:a}){const[o,l]=w.useState({title:(n==null?void 0:n.title)||"",description:(n==null?void 0:n.description)||"",options:(n==null?void 0:n.options.map(m=>m.text))||["",""],votes_per_user:(n==null?void 0:n.votes_per_user)||1,duration_minutes:(n==null?void 0:n.duration_minutes)||5,has_lucky_wheel:(n==null?void 0:n.has_lucky_wheel)||!1});un.useEffect(()=>{n&&l({title:n.title,description:n.description||"",options:n.options.map(m=>m.text),votes_per_user:n.votes_per_user,duration_minutes:n.duration_minutes,has_lucky_wheel:n.has_lucky_wheel})},[n]);const c=m=>{if(m.preventDefault(),a&&a(),!o.title.trim()){alert("Please enter a poll title");return}const p=o.options.filter(v=>v.trim());if(p.length<2){alert("Please provide at least 2 options");return}if(p.length>20){alert("Maximum 20 options allowed");return}e({...o,options:p})},u=()=>{o.options.length<20&&l({...o,options:[...o.options,""]})},d=m=>{o.options.length>2&&l({...o,options:o.options.filter((p,v)=>v!==m)})},h=(m,p)=>{const v=[...o.options];v[m]=p,l({...o,options:v})},f=[{label:"1 minute",value:1},{label:"2 minutes",value:2},{label:"5 minutes",value:5},{label:"10 minutes",value:10},{label:"30 minutes",value:30},{label:"1 hour",value:60}];return i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden animate-slide-up",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 gold-gradient rounded-lg",children:i.jsx(Pt,{className:"h-5 w-5 text-black"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:n?"Edit Poll":"Create New Poll"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Me,{className:"h-5 w-5 text-gray-400"})})]}),i.jsxs("form",{onSubmit:c,className:"p-6 space-y-6 max-h-[calc(90vh-120px)] overflow-y-auto",children:[s&&i.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:i.jsx("p",{className:"text-red-400 text-sm",children:s})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Poll Title"}),i.jsx("input",{type:"text",value:o.title,onChange:m=>l({...o,title:m.target.value}),className:"w-full px-4 py-3 input-dark rounded-lg",placeholder:"What's your question?",required:!0,maxLength:200})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description (Optional)"}),i.jsx("textarea",{value:o.description,onChange:m=>l({...o,description:m.target.value}),className:"w-full px-4 py-3 input-dark rounded-lg resize-none",placeholder:"Add more context to your poll...",rows:2,maxLength:500})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Options (2-20)"}),i.jsxs("div",{className:"space-y-3",children:[o.options.map((m,p)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:m,onChange:v=>h(p,v.target.value),className:"flex-1 px-4 py-3 input-dark rounded-lg",placeholder:`Option ${p+1}`,maxLength:100}),o.options.length>2&&i.jsx("button",{type:"button",onClick:()=>d(p),className:"p-3 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all duration-200",children:i.jsx($t,{className:"h-4 w-4"})})]},p)),o.options.length<20&&i.jsxs("button",{type:"button",onClick:u,className:"w-full p-3 border-2 border-dashed border-gray-600 hover:border-yellow-500/50 rounded-lg text-gray-400 hover:text-yellow-400 transition-all duration-200 flex items-center justify-center gap-2",children:[i.jsx(je,{className:"h-4 w-4"}),"Add Option"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Votes per User"}),i.jsx("select",{value:o.votes_per_user,onChange:m=>l({...o,votes_per_user:Number(m.target.value)}),className:"w-full px-4 py-3 input-dark rounded-lg",children:[1,2,3,4,5].map(m=>i.jsxs("option",{value:m,children:[m," vote",m>1?"s":""]},m))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:o.duration_minutes,onChange:m=>l({...o,duration_minutes:Number(m.target.value)}),className:"flex-1 px-4 py-3 input-dark rounded-lg",children:[f.map(m=>i.jsx("option",{value:m.value,children:m.label},m.value)),i.jsx("option",{value:0,children:"Custom"})]}),o.duration_minutes===0&&i.jsx("input",{type:"number",min:"1",max:"10080",placeholder:"Minutes",onChange:m=>l({...o,duration_minutes:Number(m.target.value)||5}),className:"w-24 px-3 py-3 input-dark rounded-lg"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-4 glass-effect rounded-lg",children:[i.jsx("input",{type:"checkbox",id:"luckyWheel",checked:o.has_lucky_wheel,onChange:m=>l({...o,has_lucky_wheel:m.target.checked}),className:"w-4 h-4 text-yellow-500 bg-gray-800 border-gray-600 rounded focus:ring-yellow-500 focus:ring-2"}),i.jsxs("label",{htmlFor:"luckyWheel",className:"flex items-center gap-2 text-gray-300 cursor-pointer",children:[i.jsx(_r,{className:"h-4 w-4 text-yellow-400"}),i.jsx("span",{children:"Enable Lucky Wheel"})]}),i.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"Allows random selection of options"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 btn-dark rounded-lg transition-all duration-200",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:r,className:"flex-1 btn-gold px-4 py-3 rounded-lg focus:ring-2 focus:ring-yellow-500/50 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:r?i.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Pt,{className:"h-4 w-4"}),n?"Update Poll":"Create Poll"]})})]})]})]})})}function L1({poll:e,onClose:t}){const[r,n]=w.useState(!1),[s,a]=w.useState(null),[o,l]=w.useState(0),[c,u]=w.useState(!1),[d,h]=w.useState(!1),f=w.useRef(null),m=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85C1E9","#D7BDE2","#A3E4D7","#F9E79F","#D5A6BD","#AED6F1","#A9DFBF"],p=()=>{if(r)return;n(!0),a(null),u(!0);const y=5+Math.random()*5,g=Math.random()*360,x=o+y*360+g;l(x);const _=360/e.options.length,j=(360-x%360)%360,k=Math.floor(j/_),S=async()=>{try{await D.from("polls").update({expires_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e.id)}catch(C){console.error("Error ending poll:",C)}};setTimeout(()=>{S(),h(!0)},100),setTimeout(()=>{n(!1),a({winningOption:e.options[k].text,winningIndex:k});const C=[...e.options];C[k].votes=Math.max(1,C[k].votes),D.from("polls").update({options:C,updated_at:new Date().toISOString()}).eq("id",e.id).then(()=>{console.log("Lucky wheel winner marked in database")}).catch(N=>{console.error("Error marking lucky wheel winner:",N)})},3e3)},v=()=>{l(0),a(null),u(!1),h(!1)},b=360/e.options.length;return i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl w-full max-w-2xl animate-slide-up",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 gold-gradient rounded-lg",children:i.jsx(_r,{className:"h-5 w-5 text-black"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:"Lucky Wheel"}),i.jsx("p",{className:"text-sm text-gray-400",children:e.title})]})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Me,{className:"h-5 w-5 text-gray-400"})})]}),i.jsxs("div",{className:"p-8 text-center",children:[i.jsxs("div",{className:"relative mx-auto mb-8",style:{width:"300px",height:"300px"},children:[i.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2 z-10",children:i.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-yellow-400"})}),i.jsxs("div",{ref:f,className:"w-full h-full rounded-full border-4 border-yellow-400 relative overflow-hidden shadow-2xl",style:{transform:`rotate(${o}deg)`,transition:r?"transform 3s cubic-bezier(0.23, 1, 0.32, 1)":"none"},children:[i.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 300 300",className:"absolute inset-0",children:e.options.map((y,g)=>{const x=(g*b-90)*(Math.PI/180),_=((g+1)*b-90)*(Math.PI/180),j=(x+_)/2,k=m[g%m.length],S=150+140*Math.cos(x),C=150+140*Math.sin(x),N=150+140*Math.cos(_),E=150+140*Math.sin(_),R=b>180?1:0,$=150+80*Math.cos(j),T=150+80*Math.sin(j),M=j*180/Math.PI+(j>Math.PI/2&&j<3*Math.PI/2?180:0);return i.jsxs("g",{children:[i.jsx("path",{d:`M 150 150 L ${S} ${C} A 140 140 0 ${R} 1 ${N} ${E} Z`,fill:k,stroke:"#ffffff",strokeWidth:"2"}),i.jsx("text",{x:$,y:T,fill:"white",fontSize:"11",fontWeight:"bold",textAnchor:"middle",dominantBaseline:"middle",transform:`rotate(${M} ${$} ${T})`,style:{textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:y.text.length>12?y.text.substring(0,10)+"...":y.text})]},g)})}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-8 h-8 bg-yellow-400 rounded-full border-2 border-white shadow-lg"})]})]}),s&&i.jsxs("div",{className:"mb-6 p-6 glass-effect rounded-xl border border-yellow-500/50 bg-yellow-500/10 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(lt,{className:"h-8 w-8 text-yellow-400"}),i.jsx("h3",{className:"text-2xl font-bold text-yellow-400",children:"Winner!"}),i.jsx(lt,{className:"h-8 w-8 text-yellow-400"})]}),i.jsx("p",{className:"text-xl text-gray-100 font-semibold",children:s.winningOption})]}),i.jsxs("div",{className:"mb-6 p-4 glass-effect rounded-xl",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3 text-center",children:"Color Legend"}),i.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:e.options.map((y,g)=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-600",style:{backgroundColor:m[g%m.length]}}),i.jsx("span",{className:"text-gray-300 truncate",title:y.text,children:y.text.length>20?y.text.substring(0,17)+"...":y.text})]},g))})]}),s?i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsxs("button",{onClick:v,className:"btn-gold px-8 py-3 rounded-xl font-semibold flex items-center gap-2 hover-lift transition-all duration-200",children:[i.jsx(fd,{className:"h-5 w-5"}),"Spin Again"]}),i.jsxs("button",{onClick:t,className:"btn-dark px-6 py-3 rounded-xl font-semibold flex items-center gap-2 hover-lift transition-all duration-200",children:[i.jsx(Me,{className:"h-5 w-5"}),"Close"]})]}):i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsxs("button",{onClick:p,disabled:r,className:"btn-gold px-8 py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 hover-lift transition-all duration-200",children:[i.jsx(_r,{className:"h-5 w-5"}),r?"Spinning...":"Spin the Wheel!"]}),c&&i.jsxs("button",{onClick:v,disabled:r,className:"btn-dark px-6 py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 hover-lift transition-all duration-200",children:[i.jsx(fd,{className:"h-5 w-5"}),"Reset"]})]}),i.jsxs("p",{className:"text-sm text-gray-400 mt-4 text-center",children:['Click "Spin the Wheel" to randomly select one of the ',e.options.length," options!"]})]})]})})}function D1(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),[s,a]=w.useState(null),[o,l]=w.useState(""),[c,u]=w.useState("all"),[d,h]=w.useState(!1),[f,m]=w.useState(null),{polls:p,loading:v,createPoll:b,updatePoll:y,deletePoll:g}=Dm(),x=async R=>{h(!0),m(null);const{error:$}=r?await y(r.id,R):await b(R);h(!1),$?m($.message||"An error occurred while saving the poll"):(t(!1),n(null),m(null))},_=R=>{n(R),t(!0)},j=async R=>{window.confirm("Are you sure you want to delete this poll? This action cannot be undone.")&&await g(R)},k=R=>{if(!R.has_lucky_wheel){alert("This poll does not have lucky wheel enabled");return}a(R)},S=p.filter(R=>{var ve;const $=R.title.toLowerCase().includes(o.toLowerCase())||((ve=R.description)==null?void 0:ve.toLowerCase().includes(o.toLowerCase())),T=new Date,F=new Date(R.expires_at)<=T;return $&&(c==="all"||c==="active"&&!F||c==="expired"&&F)}),C=p.filter(R=>new Date(R.expires_at)>new Date).length,N=p.filter(R=>new Date(R.expires_at)<=new Date).length,E=p.filter(R=>R.has_lucky_wheel).length;return v?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Loading polls..."})]})}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 sm:p-3 gold-gradient rounded-2xl",children:i.jsx(Pt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-black"})}),i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold gold-text",children:"Polls"})]}),i.jsx("p",{className:"text-gray-400 text-sm sm:text-base mb-2",children:"Create and vote on family polls"}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-300",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Pt,{className:"h-4 w-4"}),p.length," total"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Dr,{className:"h-4 w-4"}),C," active"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Cr,{className:"h-4 w-4"}),N," expired"]}),i.jsxs("span",{className:"flex items-center gap-1 text-yellow-400",children:[i.jsx(_r,{className:"h-4 w-4"}),E," lucky wheels"]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ec,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("input",{type:"text",placeholder:"Search polls...",value:o,onChange:R=>l(R.target.value),className:"w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-2 sm:py-3 input-dark rounded-xl text-sm sm:text-base"})]}),i.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[i.jsxs("select",{value:c,onChange:R=>u(R.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-xl text-sm sm:text-base",children:[i.jsx("option",{value:"all",children:"All Polls"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"expired",children:"Expired"})]}),i.jsxs("button",{onClick:()=>t(!0),className:"btn-gold px-4 sm:px-6 py-2 sm:py-3 rounded-xl focus:ring-2 focus:ring-yellow-500/50 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 flex items-center gap-2 hover-lift text-sm sm:text-base",children:[i.jsx(je,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Create Poll"}),i.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),S.length===0?i.jsxs("div",{className:"text-center py-8 sm:py-12",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 glass-effect rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx(Pt,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-100 mb-3",children:p.length===0?"No polls yet":"No polls match your search"}),i.jsx("p",{className:"text-gray-400 mb-6 text-sm sm:text-base",children:p.length===0?"Create your first poll to get started":"Try adjusting your search or filter criteria"}),p.length===0&&i.jsxs("button",{onClick:()=>t(!0),className:"btn-gold px-6 sm:px-8 py-2 sm:py-3 rounded-xl transition-all duration-200 inline-flex items-center gap-2 hover-lift text-sm sm:text-base",children:[i.jsx(je,{className:"h-4 w-4"}),"Create your first poll"]})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:S.map(R=>i.jsx(O1,{poll:R,onEdit:_,onDelete:j,onLuckyWheel:k},R.id))}),e&&i.jsx(R1,{onSubmit:x,onClose:()=>{t(!1),n(null),m(null)},loading:d,editingPoll:r,error:f,onClearError:()=>m(null)}),s&&i.jsx(L1,{poll:s,onClose:()=>a(null)})]})}function A1({meal:e,onEdit:t,onDelete:r}){const n=o=>{switch(o){case"breakfast":return"text-orange-400 bg-orange-900/30 border-orange-500/50";case"lunch":return"text-blue-400 bg-blue-900/30 border-blue-500/50";case"dinner":return"text-purple-400 bg-purple-900/30 border-purple-500/50";case"snack":return"text-green-400 bg-green-900/30 border-green-500/50";default:return"text-gray-400 bg-gray-800/30 border-gray-600/50"}},s=o=>{switch(o){case"breakfast":return"🌅";case"lunch":return"☀️";case"dinner":return"🌙";case"snack":return"🍿";default:return"🍽️"}},a=o=>new Date(o).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return i.jsx("div",{className:"glass-effect rounded-xl p-4 transition-all duration-300 hover-lift animate-slide-up border-gray-700/50 hover:border-yellow-500/50",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-lg",children:s(e.meal_type)}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${n(e.meal_type)}`,children:e.meal_type.charAt(0).toUpperCase()+e.meal_type.slice(1)})]}),i.jsx("h3",{className:"font-medium text-gray-100 mb-1",children:e.meal_name}),e.description&&i.jsx("p",{className:"text-sm text-gray-400 mb-2",children:e.description}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(nr,{className:"h-3 w-3"}),i.jsxs("span",{children:["@",e.added_by_username||"unknown"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Dr,{className:"h-3 w-3"}),i.jsx("span",{children:a(e.created_at)})]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-all duration-200",title:"Edit meal",children:i.jsx(vn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-200",title:"Delete meal",children:i.jsx($t,{className:"h-4 w-4"})})]})]})})}function $1({onSubmit:e,onClose:t,loading:r=!1,editingMeal:n,selectedDate:s}){const[a,o]=w.useState({date:(n==null?void 0:n.date)||s||new Date().toISOString().split("T")[0],meal_name:(n==null?void 0:n.meal_name)||"",meal_type:(n==null?void 0:n.meal_type)||"dinner",description:(n==null?void 0:n.description)||""});un.useEffect(()=>{n?o({date:n.date,meal_name:n.meal_name,meal_type:n.meal_type,description:n.description||""}):s&&o(d=>({...d,date:s}))},[n,s]);const l=d=>{if(d.preventDefault(),!a.meal_name.trim()){alert("Please enter a meal name");return}e(a)},c=[{value:"breakfast",label:"Breakfast",emoji:"🌅"},{value:"lunch",label:"Lunch",emoji:"☀️"},{value:"dinner",label:"Dinner",emoji:"🌙"},{value:"snack",label:"Snack",emoji:"🍿"}],u=()=>{const d=[],h=new Date;for(let f=0;f<14;f++){const m=new Date(h);m.setDate(h.getDate()+f);const p=m.toISOString().split("T")[0],v=f===0?"Today":f===1?"Tomorrow":m.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});d.push({value:p,label:v})}return d};return i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl w-full max-w-md animate-slide-up",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 gold-gradient rounded-lg",children:i.jsx(bl,{className:"h-5 w-5 text-black"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:n?"Edit Meal":"Add Meal"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Me,{className:"h-5 w-5 text-gray-400"})})]}),i.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:a.date,onChange:d=>o({...a,date:d.target.value}),className:"w-full px-4 py-3 input-dark rounded-lg appearance-none",required:!0,children:u().map(d=>i.jsx("option",{value:d.value,children:d.label},d.value))}),i.jsx(At,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400 pointer-events-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Meal Type"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.map(d=>i.jsxs("button",{type:"button",onClick:()=>o({...a,meal_type:d.value}),className:`p-3 rounded-lg border transition-all duration-200 flex items-center gap-2 ${a.meal_type===d.value?"border-yellow-500/50 bg-yellow-500/20 text-yellow-400":"border-gray-600 bg-gray-800/50 text-gray-300 hover:border-yellow-500/30"}`,children:[i.jsx("span",{className:"text-lg",children:d.emoji}),i.jsx("span",{className:"text-sm font-medium",children:d.label})]},d.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Meal Name"}),i.jsx("input",{type:"text",value:a.meal_name,onChange:d=>o({...a,meal_name:d.target.value}),className:"w-full px-4 py-3 input-dark rounded-lg",placeholder:"What's for dinner?",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description (Optional)"}),i.jsx("textarea",{value:a.description,onChange:d=>o({...a,description:d.target.value}),className:"w-full px-4 py-3 input-dark rounded-lg resize-none",placeholder:"Recipe notes, ingredients, etc.",rows:3})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 btn-dark rounded-lg transition-all duration-200",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:r||!a.meal_name.trim(),className:"flex-1 btn-gold px-4 py-3 rounded-lg focus:ring-2 focus:ring-yellow-500/50 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:r?i.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(je,{className:"h-4 w-4"}),n?"Update Meal":"Add Meal"]})})]})]})]})})}function I1(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),{appUser:s}=Te(),a=async()=>{try{const d=new Date,h=new Date;h.setDate(d.getDate()+14);const{data:f,error:m}=await D.from("meals").select("*").gte("date",d.toISOString().split("T")[0]).lte("date",h.toISOString().split("T")[0]).order("date",{ascending:!0}).order("meal_type",{ascending:!0});if(m)throw m;t(f||[])}catch(d){console.error("Error fetching meals:",d)}finally{n(!1)}},o=async d=>{if(!s)return{error:new Error("User not authenticated")};try{const{data:h,error:f}=await D.from("meals").insert([{...d,added_by:s.id,added_by_username:s.username,updated_at:new Date().toISOString()}]).select().single();if(f)throw f;return t(m=>[...m,h].sort((p,v)=>p.date!==v.date?p.date.localeCompare(v.date):p.meal_type.localeCompare(v.meal_type))),{data:h,error:null}}catch(h){return console.error("Error creating meal:",h),{data:null,error:h}}},l=async(d,h)=>{if(!s)return{error:new Error("User not authenticated")};try{const{data:f,error:m}=await D.from("meals").update({...h,updated_at:new Date().toISOString()}).eq("id",d).select().single();if(m)throw m;return t(p=>p.map(v=>v.id===d?f:v)),{data:f,error:null}}catch(f){return console.error("Error updating meal:",f),{data:null,error:f}}},c=async d=>{if(!s)return{error:new Error("User not authenticated")};try{const{error:h}=await D.from("meals").delete().eq("id",d);if(h)throw h;return t(f=>f.filter(m=>m.id!==d)),{error:null}}catch(h){return console.error("Error deleting meal:",h),{error:h}}},u=async()=>{try{const d=new Date;d.setDate(d.getDate()-1);const{error:h}=await D.from("meals").delete().lt("date",d.toISOString().split("T")[0]);if(h)throw h}catch(d){console.error("Error cleaning up old meals:",d)}};return w.useEffect(()=>{a(),u();const d=D.channel("meals_changes").on("postgres_changes",{event:"*",schema:"public",table:"meals"},h=>{console.log("Meal change received:",h),a()}).subscribe();return()=>{d.unsubscribe()}},[s]),{meals:e,loading:r,createMeal:o,updateMeal:l,deleteMeal:c,refetchMeals:a}}function M1(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),[s,a]=w.useState(""),[o,l]=w.useState(!1),{meals:c,loading:u,createMeal:d,updateMeal:h,deleteMeal:f}=I1(),m=async j=>{l(!0);const{error:k}=r?await h(r.id,j):await d(j);l(!1),k||(t(!1),n(null),a(""))},p=j=>{n(j),t(!0)},v=async j=>{window.confirm("Are you sure you want to delete this meal?")&&await f(j)},b=j=>{a(j),t(!0)},g=(()=>{const j=[],k=new Date;for(let S=0;S<14;S++){const C=new Date(k);C.setDate(k.getDate()+S);const N=C.toISOString().split("T")[0],E=c.filter(R=>R.date===N);j.push({date:N,dateObj:C,meals:E,isToday:S===0,isTomorrow:S===1})}return j})(),x=c.length,_=c.reduce((j,k)=>(j[k.meal_type]=(j[k.meal_type]||0)+1,j),{});return u?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Loading meal plan..."})]})}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 sm:p-3 gold-gradient rounded-2xl",children:i.jsx(Nm,{className:"h-6 w-6 sm:h-8 sm:w-8 text-black"})}),i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold gold-text",children:"Diner"})]}),i.jsx("p",{className:"text-gray-400 text-sm sm:text-base mb-2",children:"Plan your family meals for the next 2 weeks"}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-300",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(bl,{className:"h-4 w-4"}),x," meals planned"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(At,{className:"h-4 w-4"}),"14 days"]}),Object.entries(_).map(([j,k])=>i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),k," ",j]},j))]})]}),i.jsx("div",{className:"text-center",children:i.jsxs("button",{onClick:()=>t(!0),className:"btn-gold px-6 sm:px-8 py-3 rounded-xl focus:ring-2 focus:ring-yellow-500/50 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 flex items-center gap-2 hover-lift mx-auto text-sm sm:text-base",children:[i.jsx(je,{className:"h-4 w-4"}),"Add Meal"]})}),i.jsx("div",{className:"space-y-6",children:g.map(j=>i.jsxs("div",{className:"glass-effect rounded-2xl p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-100",children:j.isToday?"Today":j.isTomorrow?"Tomorrow":j.dateObj.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),i.jsx("p",{className:"text-sm text-gray-400",children:j.dateObj.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),i.jsxs("button",{onClick:()=>b(j.date),className:"btn-gold px-4 py-2 rounded-lg flex items-center gap-2 text-sm hover-lift transition-all duration-200",children:[i.jsx(je,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Add Meal"})]})]}),j.meals.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-400",children:[i.jsx(bl,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),i.jsx("p",{className:"text-sm",children:"No meals planned for this day"}),i.jsx("button",{onClick:()=>b(j.date),className:"text-yellow-400 hover:text-yellow-300 text-sm mt-2 transition-colors",children:"Add the first meal"})]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:j.meals.sort((k,S)=>{const C={breakfast:0,lunch:1,dinner:2,snack:3};return C[k.meal_type]-C[S.meal_type]}).map(k=>i.jsx(A1,{meal:k,onEdit:p,onDelete:v},k.id))})]},j.date))}),e&&i.jsx($1,{onSubmit:m,onClose:()=>{t(!1),n(null),a("")},loading:o,editingMeal:r,selectedDate:s})]})}function bd({event:e,isNext:t=!1}){const r=new Date(e.start_date),n=e.end_date?new Date(e.end_date):null,s=()=>Ei(r)?"Today":Ci(r)?"Tomorrow":Rm(r)?Ve(r,"EEEE"):Ve(r,"MMM d, yyyy"),a=()=>{const o=Ve(r,"HH:mm");if(n){const l=Ve(n,"HH:mm");return Ve(r,"yyyy-MM-dd")===Ve(n,"yyyy-MM-dd")?`${o} - ${l}`:`${Ve(r,"MMM d, HH:mm")} - ${Ve(n,"MMM d, HH:mm")}`}return o};return i.jsx("div",{className:`glass-effect rounded-xl p-4 sm:p-6 transition-all duration-300 hover-lift animate-slide-up ${t?"border-yellow-500/50 bg-yellow-500/10":"border-gray-700/50 hover:border-yellow-500/50"}`,children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:`p-3 rounded-xl ${t?"bg-yellow-500/20":"bg-gray-700/50"}`,children:i.jsx(as,{className:`h-6 w-6 ${t?"text-yellow-400":"text-gray-400"}`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[i.jsx("h3",{className:`font-semibold text-lg ${t?"text-yellow-100":"text-gray-100"}`,children:e.title}),t&&i.jsx("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-xs font-medium",children:"Next"})]}),e.description&&i.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:e.description}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm",children:[i.jsxs("div",{className:`flex items-center gap-1 ${t?"text-yellow-300":"text-gray-300"}`,children:[i.jsx(At,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:s()})]}),i.jsxs("div",{className:`flex items-center gap-1 ${t?"text-yellow-300":"text-gray-400"}`,children:[i.jsx(Dr,{className:"h-4 w-4"}),i.jsx("span",{children:a()})]}),e.location&&i.jsxs("div",{className:`flex items-center gap-1 ${t?"text-yellow-300":"text-gray-400"}`,children:[i.jsx(dw,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:e.location})]})]}),t&&i.jsx("div",{className:"mt-3 pt-3 border-t border-yellow-500/20",children:i.jsx("p",{className:"text-xs text-yellow-300/80",children:"🏁 Get ready for the next MotoGP event!"})})]})]})})}function U1(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),{appUser:s}=Te(),a=async()=>{try{const m=new Date;m.setHours(0,0,0,0);const{data:p,error:v}=await D.from("motogp_events").select("*").gte("start_date",m.toISOString()).order("start_date",{ascending:!0});if(v)throw v;t(p||[])}catch(m){console.error("Error fetching MotoGP events:",m)}finally{n(!1)}},o=async m=>{if(!s)return{error:new Error("User not authenticated")};if(!s.is_admin)return{error:new Error("Only administrators can perform this action.")};try{const{data:p,error:v}=await D.from("motogp_events").insert([{...m,updated_at:new Date().toISOString()}]).select().single();if(v)throw v;return t(b=>[...b,p].sort((y,g)=>y.start_date.localeCompare(g.start_date))),{data:p,error:null}}catch(p){return console.error("Error creating MotoGP event:",p),{data:null,error:p}}},l=async(m,p)=>{if(!s)return{error:new Error("User not authenticated")};if(!s.is_admin)return{error:new Error("Only administrators can perform this action.")};try{const{data:v,error:b}=await D.from("motogp_events").update({...p,updated_at:new Date().toISOString()}).eq("id",m).select().single();if(b)throw b;return t(y=>y.map(g=>g.id===m?v:g)),{data:v,error:null}}catch(v){return console.error("Error updating MotoGP event:",v),{data:null,error:v}}},c=async m=>{if(!s)return{error:new Error("User not authenticated")};if(!s.is_admin)return{error:new Error("Only administrators can perform this action.")};try{const{error:p}=await D.from("motogp_events").delete().eq("id",m);if(p)throw p;return t(v=>v.filter(b=>b.id!==m)),{error:null}}catch(p){return console.error("Error deleting MotoGP event:",p),{error:p}}},u=async()=>{if(!s)return{error:new Error("User not authenticated")};if(!s.is_admin)return{error:new Error("Only administrators can perform this action.")};try{const{error:m}=await D.from("motogp_events").delete().neq("id","00000000-0000-0000-0000-000000000000");if(m)throw m;return t([]),{error:null}}catch(m){return console.error("Error clearing MotoGP events:",m),{error:m}}},d=async m=>{if(!s)return{error:new Error("User not authenticated")};if(!s.is_admin)return{error:new Error("Only administrators can perform this action.")};try{await u();const p=h(m),v=new Date;v.setHours(0,0,0,0);const b=p.filter(x=>new Date(x.start_date)>=v);if(b.length===0)return{data:[],error:null};const{data:y,error:g}=await D.from("motogp_events").insert(b).select();if(g)throw g;return t(y||[]),{data:y||[],error:null}}catch(p){return console.error("Error importing ICS:",p),{data:null,error:p}}},h=m=>{const p=[],v=m.split(`
`).map(g=>g.trim());let b={},y=!1;for(const g of v)if(g==="BEGIN:VEVENT")y=!0,b={};else if(g==="END:VEVENT"&&y)b.title&&b.start_date&&p.push(b),y=!1;else if(y){if(g.startsWith("SUMMARY:"))b.title=g.substring(8);else if(g.startsWith("DESCRIPTION:"))b.description=g.substring(12);else if(g.startsWith("LOCATION:"))b.location=g.substring(9);else if(g.startsWith("DTSTART")){const x=g.split(":")[1];b.start_date=f(x)}else if(g.startsWith("DTEND")){const x=g.split(":")[1];b.end_date=f(x)}}return p},f=m=>{if(m.includes("T")){const p=m.replace(/[TZ]/g,""),v=p.substring(0,4),b=p.substring(4,6),y=p.substring(6,8),g=p.substring(8,10)||"00",x=p.substring(10,12)||"00";return new Date(`${v}-${b}-${y}T${g}:${x}:00`).toISOString()}else{const p=m.substring(0,4),v=m.substring(4,6),b=m.substring(6,8);return new Date(`${p}-${v}-${b}T00:00:00`).toISOString()}};return w.useEffect(()=>{a();const m=D.channel("motogp_events_changes").on("postgres_changes",{event:"*",schema:"public",table:"motogp_events"},p=>{console.log("MotoGP event change received:",p),a()}).subscribe();return()=>{m.unsubscribe()}},[s]),{events:e,loading:r,createEvent:o,updateEvent:l,deleteEvent:c,clearAllEvents:u,importFromICS:d,refetchEvents:a}}function F1(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),[s,a]=w.useState(!1),o=w.useRef(null),{events:l,loading:c,importFromICS:u,clearAllEvents:d}=U1(),{appUser:h}=Te(),f=async y=>{var x;const g=(x=y.target.files)==null?void 0:x[0];if(g){if(!g.name.endsWith(".ics")){n("Please select a valid .ics calendar file");return}t(!0),n(null),a(!1);try{const _=await g.text(),{data:j,error:k}=await u(_);k?alert("Error importing calendar: "+k.message):(a(!0),setTimeout(()=>a(!1),3e3))}catch{n("Failed to read calendar file")}finally{t(!1),o.current&&(o.current.value="")}}},m=async()=>{window.confirm("Are you sure you want to delete all MotoGP events? This action cannot be undone.")&&await d()},p=y=>{const g=new Date(y);return Ei(g)?"Today":Ci(g)?"Tomorrow":Rm(g)?Ve(g,"EEEE"):Ve(g,"MMM d, yyyy")},v=l[0],b=l.slice(1);return c?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Loading MotoGP calendar..."})]})}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 sm:p-3 gold-gradient rounded-2xl",children:i.jsx(as,{className:"h-6 w-6 sm:h-8 sm:w-8 text-black"})}),i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold gold-text",children:"MotoGP"})]}),i.jsx("p",{className:"text-gray-400 text-sm sm:text-base mb-2",children:"Track upcoming MotoGP races and events"}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-300",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(At,{className:"h-4 w-4"}),l.length," upcoming events"]}),v&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Dr,{className:"h-4 w-4"}),"Next: ",p(v.start_date)]})]})]}),i.jsxs("div",{className:"glass-effect rounded-2xl p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(vl,{className:"h-5 w-5 text-yellow-500"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Import Calendar"})]}),r&&i.jsxs("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2",children:[i.jsx(jm,{className:"h-4 w-4 text-red-400"}),i.jsx("p",{className:"text-red-300 text-sm",children:r})]}),s&&i.jsx("div",{className:"mb-4 p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:i.jsx("p",{className:"text-green-300 text-sm",children:"Calendar imported successfully!"})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{ref:o,type:"file",accept:".ics",onChange:f,disabled:e,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-yellow-50 file:text-yellow-700 hover:file:bg-yellow-100 disabled:opacity-50"})}),(h==null?void 0:h.is_admin)&&i.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:i.jsxs("button",{onClick:m,disabled:e,className:"px-4 py-2 text-sm font-medium text-red-600 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i.jsx($t,{className:"h-4 w-4"}),"Clear All"]})})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Upload a .ics calendar file to import MotoGP events. All existing events will be replaced."})]}),v&&i.jsxs("div",{className:"glass-effect rounded-2xl p-6 border border-yellow-500/50 bg-yellow-500/10",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(as,{className:"h-5 w-5 text-yellow-400"}),i.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"Next Race"})]}),i.jsx(bd,{event:v,isNext:!0})]}),b.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-100 flex items-center gap-2",children:[i.jsx(At,{className:"h-5 w-5 text-yellow-500"}),"Upcoming Events (",b.length,")"]}),i.jsx("div",{className:"space-y-4",children:b.map(y=>i.jsx(bd,{event:y},y.id))})]}),l.length===0&&i.jsxs("div",{className:"text-center py-8 sm:py-12",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 glass-effect rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx(as,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-100 mb-3",children:"No upcoming events"}),i.jsx("p",{className:"text-gray-400 mb-6 text-sm sm:text-base",children:"Import a MotoGP calendar file to see upcoming races and events"}),i.jsxs("button",{onClick:()=>{var y;return(y=o.current)==null?void 0:y.click()},className:"btn-gold px-6 sm:px-8 py-2 sm:py-3 rounded-xl transition-all duration-200 inline-flex items-center gap-2 hover-lift text-sm sm:text-base",children:[i.jsx(vl,{className:"h-4 w-4"}),"Import Calendar"]})]})]})}function Am(){const[e,t]=w.useState([]),[r,n]=w.useState(!0);Te();const s=async()=>{try{const{data:c,error:u}=await D.from("network_links").select("*").order("name");if(u)throw u;t(c||[])}catch(c){console.error("Error fetching network links:",c)}finally{n(!1)}},a=async c=>{try{const{data:u,error:d}=await D.from("network_links").insert([c]).select().single();if(d)throw d;return t(h=>[...h,u]),{data:u,error:null}}catch(u){return console.error("Error creating link:",u),{data:null,error:u}}},o=async(c,u)=>{try{const{data:d,error:h}=await D.from("network_links").update({...u,updated_at:new Date().toISOString()}).eq("id",c).select().single();if(h)throw h;return t(f=>f.map(m=>m.id===c?d:m)),{data:d,error:null}}catch(d){return console.error("Error updating link:",d),{data:null,error:d}}},l=async c=>{try{const{error:u}=await D.from("network_links").delete().eq("id",c);if(u)throw u;return t(d=>d.filter(h=>h.id!==c)),{error:null}}catch(u){return console.error("Error deleting link:",u),{error:u}}};return w.useEffect(()=>{s()},[]),{links:e,loading:r,createLink:a,updateLink:o,deleteLink:l,refetchLinks:s}}function z1(){const[e,t]=w.useState(""),[r,n]=w.useState(!1),[s,a]=w.useState(null),[o,l]=w.useState(null),[c,u]=w.useState(!1),[d,h]=w.useState({name:"",url:"",description:""}),{users:f,loading:m,updateUser:p,deleteUser:v,refetchUsers:b}=Tc(),{links:y,loading:g,createLink:x,updateLink:_,deleteLink:j,refetchLinks:k}=Am(),S=T=>{T.preventDefault(),e==="241204"?n(!0):alert("Invalid admin password")},C=async T=>{if(!s)return;const{error:M}=await p(T.id,{username:s.username,is_admin:s.is_admin});M||(a(null),b())},N=async(T,M)=>{if(window.confirm(`Are you sure you want to delete user @${M}? This will remove all their data and cannot be undone.`)){const{error:F}=await v(T);F||b()}},E=async()=>{if(!d.name||!d.url)return;const{error:T}=await x(d);T||(h({name:"",url:"",description:""}),u(!1),k())},R=async T=>{if(!o)return;const{error:M}=await _(T.id,{name:o.name,url:o.url,description:o.description});M||(l(null),k())},$=async(T,M)=>{if(window.confirm(`Are you sure you want to delete the "${M}" network link?`)){const{error:F}=await j(T);F||k()}};return r?i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 gold-gradient rounded-2xl",children:i.jsx(xl,{className:"h-8 w-8 text-black"})}),i.jsx("h2",{className:"text-3xl font-bold gold-text",children:"Admin Settings"})]}),i.jsx("p",{className:"text-gray-400",children:"Manage users and system settings"})]}),i.jsxs("div",{className:"glass-effect rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Cr,{className:"h-6 w-6 text-yellow-500"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-100",children:"User Management"})]}),m?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-300",children:"Loading users..."})]}):i.jsx("div",{className:"space-y-4",children:f.map(T=>i.jsx("div",{className:"glass-effect rounded-lg p-4",children:(s==null?void 0:s.id)===T.id?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),i.jsx("input",{type:"text",value:s.username,onChange:M=>a({...s,username:M.target.value}),className:"w-full px-3 py-2 input-dark rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),i.jsx("input",{type:"text",value:s.username,onChange:M=>a({...s,username:M.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")}),className:"w-full px-3 py-2 input-dark rounded-lg"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:`admin-${T.id}`,checked:s.is_admin,onChange:M=>a({...s,is_admin:M.target.checked}),className:"rounded"}),i.jsx("label",{htmlFor:`admin-${T.id}`,className:"text-sm text-gray-300",children:"Admin privileges"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>C(T),className:"btn-gold px-4 py-2 rounded-lg flex items-center gap-2",children:[i.jsx(ba,{className:"h-4 w-4"}),"Save"]}),i.jsxs("button",{onClick:()=>a(null),className:"btn-dark px-4 py-2 rounded-lg flex items-center gap-2",children:[i.jsx(Me,{className:"h-4 w-4"}),"Cancel"]})]})]}):i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"font-medium text-gray-100",children:["@",T.username]}),T.is_admin&&i.jsx("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-xs",children:"Admin"})]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Joined ",new Date(T.created_at).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>a(T),className:"p-2 hover:bg-blue-500/20 rounded-lg transition-colors",children:i.jsx(vn,{className:"h-4 w-4 text-blue-400"})}),i.jsx("button",{onClick:()=>N(T.id,T.username),className:"p-2 hover:bg-red-500/20 rounded-lg transition-colors",children:i.jsx($t,{className:"h-4 w-4 text-red-400"})})]})]})},T.id))})]}),i.jsxs("div",{className:"glass-effect rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Cr,{className:"h-6 w-6 text-yellow-500"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-100",children:"Network Links"})]}),i.jsxs("button",{onClick:()=>u(!0),className:"btn-gold px-4 py-2 rounded-lg flex items-center gap-2",children:[i.jsx(je,{className:"h-4 w-4"}),"Add Link"]})]}),c&&i.jsx("div",{className:"glass-effect rounded-lg p-4 mb-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),i.jsx("input",{type:"text",value:d.name,onChange:T=>h({...d,name:T.target.value}),className:"w-full px-3 py-2 input-dark rounded-lg",placeholder:"Service name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"URL"}),i.jsx("input",{type:"url",value:d.url,onChange:T=>h({...d,url:T.target.value}),className:"w-full px-3 py-2 input-dark rounded-lg",placeholder:"http://192.168.1.100:8080"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),i.jsx("input",{type:"text",value:d.description,onChange:T=>h({...d,description:T.target.value}),className:"w-full px-3 py-2 input-dark rounded-lg",placeholder:"Optional description"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:E,className:"btn-gold px-4 py-2 rounded-lg flex items-center gap-2",children:[i.jsx(ba,{className:"h-4 w-4"}),"Create"]}),i.jsxs("button",{onClick:()=>{u(!1),h({name:"",url:"",description:""})},className:"btn-dark px-4 py-2 rounded-lg flex items-center gap-2",children:[i.jsx(Me,{className:"h-4 w-4"}),"Cancel"]})]})]})}),g?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-300",children:"Loading network links..."})]}):i.jsx("div",{className:"space-y-4",children:y.map(T=>i.jsx("div",{className:"glass-effect rounded-lg p-4",children:(o==null?void 0:o.id)===T.id?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),i.jsx("input",{type:"text",value:o.name,onChange:M=>l({...o,name:M.target.value}),className:"w-full px-3 py-2 input-dark rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"URL"}),i.jsx("input",{type:"url",value:o.url,onChange:M=>l({...o,url:M.target.value}),className:"w-full px-3 py-2 input-dark rounded-lg"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),i.jsx("input",{type:"text",value:o.description||"",onChange:M=>l({...o,description:M.target.value}),className:"w-full px-3 py-2 input-dark rounded-lg"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>R(T),className:"btn-gold px-4 py-2 rounded-lg flex items-center gap-2",children:[i.jsx(ba,{className:"h-4 w-4"}),"Save"]}),i.jsxs("button",{onClick:()=>l(null),className:"btn-dark px-4 py-2 rounded-lg flex items-center gap-2",children:[i.jsx(Me,{className:"h-4 w-4"}),"Cancel"]})]})]}):i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"font-medium text-gray-100",children:T.name})}),i.jsx("p",{className:"text-sm text-gray-400",children:T.url}),T.description&&i.jsx("p",{className:"text-xs text-gray-500",children:T.description})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>l(T),className:"p-2 hover:bg-blue-500/20 rounded-lg transition-colors",children:i.jsx(vn,{className:"h-4 w-4 text-blue-400"})}),i.jsx("button",{onClick:()=>$(T.id,T.name),className:"p-2 hover:bg-red-500/20 rounded-lg transition-colors",children:i.jsx($t,{className:"h-4 w-4 text-red-400"})})]})]})},T.id))})]})]}):i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs("div",{className:"glass-effect rounded-2xl p-8",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"p-3 gold-gradient rounded-2xl inline-block mb-4",children:i.jsx(xl,{className:"h-8 w-8 text-black"})}),i.jsx("h2",{className:"text-2xl font-bold gold-text",children:"Admin Access"}),i.jsx("p",{className:"text-gray-400 mt-2",children:"Enter admin password to continue"})]}),i.jsxs("form",{onSubmit:S,children:[i.jsx("input",{type:"password",value:e,onChange:T=>t(T.target.value),className:"w-full px-4 py-3 input-dark rounded-lg mb-4",placeholder:"Admin password",required:!0}),i.jsx("button",{type:"submit",className:"w-full btn-gold py-3 rounded-lg font-medium",children:"Access Admin Panel"})]})]})})}function W1(){const{links:e,loading:t}=Am();return t?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Loading network links..."})]})}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 sm:p-3 gold-gradient rounded-2xl",children:i.jsx(Sm,{className:"h-6 w-6 sm:h-8 sm:w-8 text-black"})}),i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold gold-text",children:"Network"})]}),i.jsx("p",{className:"text-gray-400 text-sm sm:text-base mb-2",children:"Quick access to local network services"}),i.jsx("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-300",children:i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(uo,{className:"h-4 w-4"}),e.length," services"]})})]}),e.length===0?i.jsxs("div",{className:"text-center py-8 sm:py-12",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 glass-effect rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx(uo,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-100 mb-3",children:"No network links configured"}),i.jsx("p",{className:"text-gray-400 mb-6 text-sm sm:text-base",children:"Contact your admin to add network services"})]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:e.map(r=>i.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"glass-effect rounded-xl p-6 transition-all duration-300 hover-lift hover:border-yellow-500/50 group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-lg group-hover:bg-yellow-500/30 transition-colors",children:i.jsx(uo,{className:"h-6 w-6 text-yellow-400"})}),i.jsx(Sc,{className:"h-4 w-4 text-gray-400 group-hover:text-yellow-400 transition-colors"})]}),i.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-2 group-hover:text-yellow-400 transition-colors",children:r.name}),r.description&&i.jsx("p",{className:"text-sm text-gray-400 mb-3",children:r.description}),i.jsx("div",{className:"text-xs text-gray-500 font-mono bg-gray-800/50 rounded px-2 py-1 truncate",children:r.url})]},r.id))})]})}function B1(){const{appUser:e,refetchAppUser:t}=Te(),[r,n]=w.useState(!1),[s,a]=w.useState({username:(e==null?void 0:e.username)||"",currentPassword:"",newPassword:"",confirmPassword:"",familyCode:""}),[o,l]=w.useState(null),[c,u]=w.useState(""),[d,h]=w.useState(!1),[f,m]=w.useState(null),[p,v]=w.useState(null);un.useEffect(()=>{if(e){a(_=>({..._,username:e.username}));const x=localStorage.getItem(`profile_picture_${e.id}`);x&&u(x)}},[e]);const b=x=>{var j;const _=(j=x.target.files)==null?void 0:j[0];if(_){if(_.size>2*1024*1024){m("Profile picture must be less than 2MB");return}l(_);const k=new FileReader;k.onload=S=>{var N;const C=(N=S.target)==null?void 0:N.result;u(C)},k.readAsDataURL(_)}},y=async()=>{h(!0),m(null),v(null);try{if(s.username.length<3)throw new Error("Username must be at least 3 characters long");if(s.newPassword&&s.newPassword!==s.confirmPassword)throw new Error("New passwords do not match");if(s.newPassword&&s.familyCode!=="GOLDMANN")throw new Error("Invalid family code for password change");o&&e&&localStorage.setItem(`profile_picture_${e.id}`,c),v("Settings updated successfully!"),n(!1),a(x=>({...x,currentPassword:"",newPassword:"",confirmPassword:"",familyCode:""}))}catch(x){m(x.message)}finally{h(!1)}},g=x=>{const _=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500"],j=x.length%_.length;return _[j]};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 gold-gradient rounded-2xl",children:i.jsx(wl,{className:"h-8 w-8 text-black"})}),i.jsx("h2",{className:"text-3xl font-bold gold-text",children:"User Settings"})]}),i.jsx("p",{className:"text-gray-400",children:"Manage your profile and account settings"})]}),f&&i.jsx("div",{className:"glass-effect rounded-xl p-4 border border-red-500/50 bg-red-900/20",children:i.jsx("p",{className:"text-red-300 text-center",children:f})}),p&&i.jsx("div",{className:"glass-effect rounded-xl p-4 border border-green-500/50 bg-green-900/20",children:i.jsx("p",{className:"text-green-300 text-center",children:p})}),i.jsxs("div",{className:"glass-effect rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(nr,{className:"h-6 w-6 text-yellow-500"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-100",children:"Profile Information"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"relative",children:[c?i.jsx("img",{src:c,alt:"Profile",className:"w-20 h-20 rounded-full object-cover border-2 border-yellow-500/50"}):i.jsx("div",{className:`w-20 h-20 rounded-full ${g((e==null?void 0:e.username)||"user")} flex items-center justify-center text-white text-2xl font-bold`,children:((e==null?void 0:e.username)||"U").charAt(0).toUpperCase()}),r&&i.jsxs("label",{className:"absolute -bottom-2 -right-2 bg-yellow-500 hover:bg-yellow-600 rounded-full p-2 cursor-pointer transition-colors",children:[i.jsx(vl,{className:"h-4 w-4 text-black"}),i.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"hidden"})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-medium text-gray-100",children:["@",e==null?void 0:e.username]}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Member since ",e?new Date(e.created_at).toLocaleDateString():"Unknown"]}),(e==null?void 0:e.is_admin)&&i.jsx("span",{className:"inline-block mt-1 px-2 py-1 bg-red-500/20 text-red-400 rounded-full text-xs",children:"Administrator"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),r?i.jsx("input",{type:"text",value:s.username,onChange:x=>a({...s,username:x.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")}),className:"w-full px-4 py-3 input-dark rounded-lg",placeholder:"Enter new username",minLength:3,maxLength:20}):i.jsxs("div",{className:"px-4 py-3 bg-gray-800/50 rounded-lg text-gray-300",children:["@",e==null?void 0:e.username]})]}),r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Password"}),i.jsx("input",{type:"password",value:s.currentPassword,onChange:x=>a({...s,currentPassword:x.target.value}),className:"w-full px-4 py-3 input-dark rounded-lg",placeholder:"Enter current password"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),i.jsx("input",{type:"password",value:s.newPassword,onChange:x=>a({...s,newPassword:x.target.value}),className:"w-full px-4 py-3 input-dark rounded-lg",placeholder:"Enter new password (optional)",minLength:6})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),i.jsx("input",{type:"password",value:s.confirmPassword,onChange:x=>a({...s,confirmPassword:x.target.value}),className:"w-full px-4 py-3 input-dark rounded-lg",placeholder:"Confirm new password",minLength:6})]}),s.newPassword&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lw,{className:"h-4 w-4 text-yellow-500"}),"Family Code (Required for password change)"]})}),i.jsx("input",{type:"text",value:s.familyCode,onChange:x=>a({...s,familyCode:x.target.value.toUpperCase()}),className:"w-full px-4 py-3 input-dark rounded-lg",placeholder:"Enter family code"}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Enter "GOLDMANN" to authorize password change'})]})]}),i.jsx("div",{className:"flex gap-3 pt-4",children:r?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:y,disabled:d,className:"btn-gold px-6 py-3 rounded-lg flex items-center gap-2 disabled:opacity-50",children:[d?i.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}):i.jsx(ba,{className:"h-4 w-4"}),"Save Changes"]}),i.jsxs("button",{onClick:()=>{n(!1),m(null),v(null),a({username:(e==null?void 0:e.username)||"",currentPassword:"",newPassword:"",confirmPassword:"",familyCode:""})},className:"btn-dark px-6 py-3 rounded-lg flex items-center gap-2",children:[i.jsx(Me,{className:"h-4 w-4"}),"Cancel"]})]}):i.jsxs("button",{onClick:()=>n(!0),className:"btn-gold px-6 py-3 rounded-lg flex items-center gap-2",children:[i.jsx(wl,{className:"h-4 w-4"}),"Edit Profile"]})})]})]})]})}function H1(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),{appUser:s}=Te(),a=async()=>{if(!s){t([]),n(!1);return}try{const{data:u,error:d}=await D.from("tasks").select("*").or(`user_id.eq.${s.id},assigned_to_username.eq.${s.username}`).order("created_at",{ascending:!1});if(d)throw d;t(u||[])}catch(u){console.error("Error fetching tasks:",u)}finally{n(!1)}},o=async u=>{if(!s)return{error:new Error("User not authenticated")};try{const{data:d,error:h}=await D.from("tasks").insert([{...u,user_id:s.id,updated_at:new Date().toISOString()}]).select().single();if(h)throw h;return t(f=>[d,...f]),{data:d,error:null}}catch(d){return console.error("Error creating task:",d),{data:null,error:d}}},l=async(u,d)=>{if(!s)return{error:new Error("User not authenticated")};try{const{data:h,error:f}=await D.from("tasks").update({...d,updated_at:new Date().toISOString()}).eq("id",u).eq("user_id",s.id).select().single();if(f)throw f;return t(m=>m.map(p=>p.id===u?h:p)),{data:h,error:null}}catch(h){return console.error("Error updating task:",h),{data:null,error:h}}},c=async u=>{if(!s)return{error:new Error("User not authenticated")};try{const{error:d}=await D.from("tasks").delete().eq("id",u).eq("user_id",s.id);if(d)throw d;return t(h=>h.filter(f=>f.id!==u)),{error:null}}catch(d){return console.error("Error deleting task:",d),{error:d}}};return w.useEffect(()=>{a()},[s]),{tasks:e,loading:r,createTask:o,updateTask:l,deleteTask:c,refetchTasks:a}}function q1(){const[e,t]=w.useState(!1),[r,n]=w.useState("tasks"),[s,a]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(null),[d,h]=w.useState(""),[f,m]=w.useState("all"),[p,v]=w.useState(!1),{tasks:b,loading:y,createTask:g,updateTask:x,deleteTask:_,refetchTasks:j}=H1(),{user:k,appUser:S,signOut:C}=Te(),N=async F=>{v(!0);const{error:le}=o?await x(o.id,F):await g(F);v(!1),le||(t(!1),l(null))},E=F=>{l(F),t(!0)},R=async(F,le)=>{await x(F,{completed:le})},$=async F=>{window.confirm("Are you sure you want to delete this task?")&&await _(F)},T=b.filter(F=>{var O;const le=F.title.toLowerCase().includes(d.toLowerCase())||((O=F.description)==null?void 0:O.toLowerCase().includes(d.toLowerCase())),ve=f==="all"||f==="active"&&!F.completed||f==="completed"&&F.completed;return le&&ve}),M=b.filter(F=>!F.completed).length;return y?i.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-300",children:"Loading your tasks..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[i.jsx("header",{className:"glass-effect border-b border-gray-700/50 sticky top-0 z-40",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6",children:[i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-1.5 sm:p-2 gold-gradient rounded-xl",children:i.jsx(md,{className:"h-5 w-5 sm:h-6 sm:w-6 text-black"})}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold gold-text",children:"GoldFamily"})]}),i.jsxs("span",{className:"hidden sm:inline-flex px-3 py-1 text-sm bg-yellow-500/20 text-yellow-400 rounded-full border border-yellow-500/30",children:[M," active"]}),i.jsx("span",{className:"text-xs bg-gray-700/50 text-gray-400 px-2 py-1 rounded-full",children:"v1.1.0"})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[i.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 text-sm text-gray-300 hover:text-yellow-400 transition-colors px-2 py-1 rounded-lg hover:bg-yellow-500/10 cursor-pointer",children:[i.jsx(nr,{className:"h-4 w-4"}),i.jsxs("span",{className:"truncate max-w-32",children:["@",(S==null?void 0:S.username)||(k==null?void 0:k.username)||"loading..."]})]}),i.jsx("button",{onClick:()=>n("admin"),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-200",title:"Admin Settings",children:i.jsx(xl,{className:"h-4 w-4"})}),i.jsxs("button",{onClick:()=>C(),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-200",children:[i.jsx(uw,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]}),i.jsxs("div",{className:"flex border-t border-gray-700/50",children:[i.jsxs("button",{onClick:()=>n("tasks"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 text-sm font-medium transition-all duration-200 ${r==="tasks"?"text-yellow-400 border-b-2 border-yellow-400 bg-yellow-500/10":"text-gray-400 hover:text-gray-300 hover:bg-gray-700/30"}`,children:[i.jsx(md,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Tasks"})]}),i.jsxs("button",{onClick:()=>n("movies"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 text-sm font-medium transition-all duration-200 ${r==="movies"?"text-yellow-400 border-b-2 border-yellow-400 bg-yellow-500/10":"text-gray-400 hover:text-gray-300 hover:bg-gray-700/30"}`,children:[i.jsx(ss,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Movie Night"})]}),i.jsxs("button",{onClick:()=>n("polls"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 text-sm font-medium transition-all duration-200 ${r==="polls"?"text-yellow-400 border-b-2 border-yellow-400 bg-yellow-500/10":"text-gray-400 hover:text-gray-300 hover:bg-gray-700/30"}`,children:[i.jsx(Pt,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Polls"})]}),i.jsxs("button",{onClick:()=>n("diner"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 text-sm font-medium transition-all duration-200 ${r==="diner"?"text-yellow-400 border-b-2 border-yellow-400 bg-yellow-500/10":"text-gray-400 hover:text-gray-300 hover:bg-gray-700/30"}`,children:[i.jsx(Nm,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Diner"})]}),i.jsxs("button",{onClick:()=>n("motogp"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 text-sm font-medium transition-all duration-200 ${r==="motogp"?"text-yellow-400 border-b-2 border-yellow-400 bg-yellow-500/10":"text-gray-400 hover:text-gray-300 hover:bg-gray-700/30"}`,children:[i.jsx(as,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"MotoGP"})]}),i.jsxs("button",{onClick:()=>n("network"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 text-sm font-medium transition-all duration-200 ${r==="network"?"text-yellow-400 border-b-2 border-yellow-400 bg-yellow-500/10":"text-gray-400 hover:text-gray-300 hover:bg-gray-700/30"}`,children:[i.jsx(Sm,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Network"})]})]})]})}),i.jsxs("main",{className:"max-w-4xl mx-auto px-3 sm:px-4 py-4 sm:py-8",children:[r==="movies"?i.jsx(T1,{}):r==="polls"?i.jsx(D1,{}):r==="diner"?i.jsx(M1,{}):r==="motogp"?i.jsx(F1,{}):r==="network"?i.jsx(W1,{}):r==="admin"?i.jsx(z1,{}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 mb-6 sm:mb-8",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ec,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("input",{type:"text",placeholder:"Search tasks...",value:d,onChange:F=>h(F.target.value),className:"w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-2 sm:py-3 input-dark rounded-xl text-sm sm:text-base"})]}),i.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[i.jsxs("select",{value:f,onChange:F=>m(F.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 input-dark rounded-xl text-sm sm:text-base",children:[i.jsx("option",{value:"all",children:"All Tasks"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"completed",children:"Completed"})]}),i.jsxs("button",{onClick:()=>t(!0),className:"btn-gold px-4 sm:px-6 py-2 sm:py-3 rounded-xl focus:ring-2 focus:ring-yellow-500/50 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 flex items-center gap-2 hover-lift text-sm sm:text-base",children:[i.jsx(je,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Add Task"}),i.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]}),T.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 glass-effect rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx(je,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-100 mb-3",children:b.length===0?"No tasks yet":"No tasks match your search"}),i.jsx("p",{className:"text-gray-400 mb-6 text-sm sm:text-base",children:b.length===0?"Get started by creating your first task":"Try adjusting your search or filter criteria"}),b.length===0&&i.jsxs("button",{onClick:()=>t(!0),className:"btn-gold px-6 sm:px-8 py-2 sm:py-3 rounded-xl transition-all duration-200 inline-flex items-center gap-2 hover-lift text-sm sm:text-base",children:[i.jsx(je,{className:"h-4 w-4"}),"Create your first task"]})]}):i.jsx(i.Fragment,{children:i.jsx("div",{className:"space-y-4 sm:space-y-6",children:T.map(F=>i.jsx(_1,{task:F,onToggleComplete:R,onEdit:E,onDelete:$,onShare:u},F.id))})})]}),e&&i.jsx(j1,{onSubmit:N,onClose:()=>{t(!1),l(null)},loading:p,editingTask:o}),c&&i.jsx(k1,{task:c,onClose:()=>u(null)})]}),s&&i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden animate-slide-up",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 gold-gradient rounded-lg",children:i.jsx(wl,{className:"h-5 w-5 text-black"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:"User Settings"})]}),i.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Me,{className:"h-5 w-5 text-gray-400"})})]}),i.jsx("div",{className:"p-6 max-h-[calc(90vh-120px)] overflow-y-auto",children:i.jsx(B1,{})})]})})]})}function V1(){const{token:e}=qf(),t=yi(),{user:r}=Te(),{getSharedTaskByToken:n,addSharedTaskToUser:s}=Lm(),[a,o]=w.useState(null),[l,c]=w.useState(!0),[u,d]=w.useState(!1),[h,f]=w.useState(null),[m,p]=w.useState(!1);w.useEffect(()=>{e&&v()},[e]);const v=async()=>{if(!e)return;c(!0);const{data:j,error:k}=await n(e);k||!j?f("Shared task not found or has expired"):o(j),c(!1)},b=async()=>{if(!e||!r)return;d(!0);const{data:j,error:k}=await s(e);k?f(k.message):(p(!0),setTimeout(()=>{t("/")},2e3)),d(!1)},y=j=>{switch(j){case"high":return"text-red-400 bg-red-900/30 border-red-500/50";case"medium":return"text-yellow-400 bg-yellow-900/30 border-yellow-500/50";case"low":return"text-green-400 bg-green-900/30 border-green-500/50";default:return"text-gray-400 bg-gray-800/30 border-gray-600/50"}},g=j=>{const k=new Date(j);return Ei(k)?"Today":Ci(k)?"Tomorrow":Ve(k,"MMM d, yyyy")};if(l)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Loading shared task..."})]})});if(h)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:i.jsxs("div",{className:"glass-effect rounded-2xl p-6 sm:p-8 max-w-md w-full text-center",children:[i.jsx(Ns,{className:"h-12 w-12 sm:h-16 sm:w-16 text-red-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-100 mb-2",children:"Task Not Found"}),i.jsx("p",{className:"text-gray-400 mb-6 text-sm sm:text-base",children:h}),i.jsx("button",{onClick:()=>t("/"),className:"btn-gold px-6 py-3 rounded-xl transition-all duration-200 hover-lift text-sm sm:text-base",children:"Go to Tasks"})]})});if(m)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:i.jsxs("div",{className:"glass-effect rounded-2xl p-6 sm:p-8 max-w-md w-full text-center",children:[i.jsx(Ms,{className:"h-12 w-12 sm:h-16 sm:w-16 text-green-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-100 mb-2",children:"Task Added!"}),i.jsx("p",{className:"text-gray-400 mb-6 text-sm sm:text-base",children:"The task has been added to your list. Redirecting..."})]})});const x=a==null?void 0:a.task_data,_=(x==null?void 0:x.due_date)&&_a(new Date,new Date(x.due_date));return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:i.jsxs("div",{className:"max-w-2xl mx-auto p-4 sm:p-6 lg:p-8",children:[i.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 sm:p-3 gold-gradient rounded-2xl",children:i.jsx(Ss,{className:"h-6 w-6 sm:h-8 sm:w-8 text-black"})}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold gold-text",children:"Shared Task"})]}),i.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Someone shared this task with you via GoldFamily"})]}),x&&i.jsxs("div",{className:`glass-effect rounded-2xl p-6 sm:p-8 mb-6 sm:mb-8 ${_?"border-red-500/50 bg-red-900/20 glow-gold":"border-gray-700/50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-100",children:x.title}),i.jsxs("div",{className:"flex items-center gap-2",children:[_&&i.jsx(Ns,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-400 animate-pulse"}),i.jsx("span",{className:`px-3 py-1 text-xs sm:text-sm font-semibold rounded-full border ${y(x.priority)}`,children:x.priority.charAt(0).toUpperCase()+x.priority.slice(1)})]})]}),x.description&&i.jsx("p",{className:"text-gray-300 mb-4 text-sm sm:text-base",children:x.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-400",children:[i.jsx("span",{className:"px-3 py-1 bg-gray-700/50 rounded-full font-medium",children:x.category.charAt(0).toUpperCase()+x.category.slice(1)}),x.due_date&&i.jsxs("div",{className:`flex items-center gap-1 ${_?"text-red-400":"text-gray-400"}`,children:[i.jsx(At,{className:"h-4 w-4"}),i.jsx("span",{children:g(x.due_date)})]})]})]}),r?i.jsxs("div",{className:"text-center",children:[i.jsx("button",{onClick:b,disabled:u,className:"btn-gold px-6 sm:px-8 py-3 sm:py-4 rounded-xl focus:ring-2 focus:ring-yellow-500/50 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 hover-lift mx-auto text-sm sm:text-base",children:u?i.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-black border-t-transparent rounded-full animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(je,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Add to My Tasks"]})}),i.jsx("p",{className:"text-gray-400 mt-4 text-xs sm:text-sm",children:"This will add the task to your personal task list"})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-400 mb-6 text-sm sm:text-base",children:"Sign in to add this task to your list"}),i.jsx("button",{onClick:()=>t("/"),className:"btn-gold px-6 sm:px-8 py-3 rounded-xl transition-all duration-200 hover-lift text-sm sm:text-base",children:"Sign In"})]})]})})}function G1(){const{pollId:e}=qf(),t=yi(),[r,n]=w.useState(null),[s,a]=w.useState([]),[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,h]=w.useState(!0),[f,m]=w.useState(null),[p]=w.useState(()=>{const N=localStorage.getItem("guest_poll_id");if(N)return N;const E=`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return localStorage.setItem("guest_poll_id",E),E});w.useEffect(()=>{e&&(v(),b())},[e]),w.useEffect(()=>{if(r){const N=()=>{const R=new Date,T=new Date(r.expires_at).getTime()-R.getTime();if(T<=0)l("Expired"),u(!0);else{const M=Math.floor(T/6e4),F=Math.floor(T%(1e3*60)/1e3);l(`${M}:${F.toString().padStart(2,"0")}`),u(!1)}};N();const E=setInterval(N,1e3);return()=>clearInterval(E)}},[r]);const v=async()=>{if(e)try{const{data:N,error:E}=await D.from("polls").select("*").eq("id",e).single();if(E)throw E;n(N)}catch(N){console.error("Error loading poll:",N),m("Poll not found or has been deleted")}finally{h(!1)}},b=()=>{if(!e)return;const N=localStorage.getItem(`poll_votes_${e}_${p}`);a(N?JSON.parse(N):[])},y=async N=>{if(!(!r||c||r.has_lucky_wheel)){if(s.length>=r.votes_per_user){alert(`You can only vote ${r.votes_per_user} time(s) on this poll`);return}try{const E=[...r.options];E[N].votes+=1;const{error:R}=await D.from("polls").update({options:E,updated_at:new Date().toISOString()}).eq("id",r.id);if(R)throw R;const $=[...s,N];a($),localStorage.setItem(`poll_votes_${r.id}_${p}`,JSON.stringify($)),n({...r,options:E})}catch(E){console.error("Error voting:",E),alert("Failed to submit vote. Please try again.")}}},g=N=>{if(!r)return 0;const E=r.options.reduce((R,$)=>R+$.votes,0);return E===0?0:Math.round(N/E*100)},_=(()=>{if(!r)return[];const N=Math.max(...r.options.map(R=>R.votes)),E=r.options.filter(R=>R.votes===N&&(N>0||c&&r.has_lucky_wheel));if(E.length>1&&c){const R=Math.floor(Math.random()*E.length);return[E[R]]}return E})(),j=_.length>0,k=r?r.options.reduce((N,E)=>N+E.votes,0):0,S=!c&&r&&s.length<r.votes_per_user&&!r.has_lucky_wheel,C=c&&j;return d?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Loading poll..."})]})}):f||!r?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:i.jsxs("div",{className:"glass-effect rounded-2xl p-6 sm:p-8 max-w-md w-full text-center",children:[i.jsx(Ns,{className:"h-12 w-12 sm:h-16 sm:w-16 text-red-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-100 mb-2",children:"Poll Not Found"}),i.jsx("p",{className:"text-gray-400 mb-6 text-sm sm:text-base",children:f}),i.jsxs("button",{onClick:()=>t("/"),className:"btn-gold px-6 py-3 rounded-xl transition-all duration-200 hover-lift text-sm sm:text-base flex items-center gap-2 mx-auto",children:[i.jsx(tw,{className:"h-4 w-4"}),"Go to GoldFamily"]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:i.jsxs("div",{className:"max-w-2xl mx-auto p-4 sm:p-6 lg:p-8",children:[i.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 sm:p-3 gold-gradient rounded-2xl",children:i.jsx(Pt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-black"})}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold gold-text",children:"Shared Poll"})]}),i.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Vote and see results in real-time"})]}),i.jsxs("div",{className:`glass-effect rounded-2xl p-6 transition-all duration-300 animate-slide-up ${c?"border-gray-600/50 opacity-75":"border-gray-700/50"}`,children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-100 mb-1",children:r.title}),r.description&&i.jsx("p",{className:"text-sm text-gray-400 mb-2",children:r.description}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Cr,{className:"h-3 w-3"}),k," votes"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Pt,{className:"h-3 w-3"}),r.votes_per_user," per user"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Dr,{className:"h-3 w-3"}),o]})]})]})}),(C||c&&_.length>0)&&_.length>0?i.jsxs("div",{className:"text-center py-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(lt,{className:"h-8 w-8 text-yellow-400"}),i.jsx("h3",{className:"text-2xl font-bold text-yellow-400",children:"Winner!"}),i.jsx(lt,{className:"h-8 w-8 text-yellow-400"})]}),_.map((N,E)=>i.jsxs("div",{className:"glass-effect rounded-lg p-4 border border-yellow-500/50 bg-yellow-500/10 mb-2",children:[i.jsx("p",{className:"text-xl font-semibold text-gray-100",children:N.text}),!r.has_lucky_wheel&&i.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[N.votes," votes (",g(N.votes),"%)"]})]},E))]}):i.jsxs("div",{className:"space-y-3",children:[r.options.map((N,E)=>{const R=g(N.votes),$=s.includes(E),T=S,M=!c&&j&&_.some(F=>F.text===N.text);return i.jsx("div",{className:"relative",children:i.jsxs("button",{onClick:()=>y(E),disabled:!T,className:`w-full text-left p-3 rounded-lg border transition-all duration-200 ${$?"border-green-500/50 bg-green-900/20 text-green-100":M?"border-yellow-500/50 bg-yellow-900/20 text-yellow-100":T?"border-gray-600 bg-gray-800/50 hover:border-yellow-500/50 hover:bg-gray-700/50 text-gray-200":"border-gray-700 bg-gray-800/30 text-gray-400 cursor-not-allowed"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[$&&i.jsx(Ms,{className:"h-4 w-4 text-green-400"}),M&&i.jsx(lt,{className:"h-4 w-4 text-yellow-400"}),i.jsx("span",{className:"font-medium",children:N.text})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{children:N.votes}),i.jsxs("span",{className:"text-xs text-gray-500",children:["(",R,"%)"]})]})]}),i.jsx("div",{className:"mt-2 h-1 bg-gray-700 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all duration-500 ${$?"bg-green-500":M?"bg-yellow-500":"bg-gray-500"}`,style:{width:`${R}%`}})})]})},E)}),r.has_lucky_wheel&&!c&&i.jsx("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-400 text-sm",children:[i.jsx(lt,{className:"h-4 w-4"}),i.jsx("span",{children:"This poll uses a Lucky Wheel - winner will be selected randomly!"})]})})]}),i.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-700/50 flex items-center justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["Created by @",r.created_by_username||"unknown"]}),s.length>0&&!C&&i.jsxs("span",{className:"text-green-400",children:["You voted ",s.length,"/",r.votes_per_user," times"]}),C&&i.jsxs("span",{className:"text-yellow-400 flex items-center gap-1",children:[i.jsx(lt,{className:"h-3 w-3"}),"Poll Ended"]})]})]}),i.jsxs("div",{className:"text-center mt-8",children:[i.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Powered by ",i.jsx("span",{className:"gold-text font-semibold",children:"GoldFamily"})]}),i.jsx("button",{onClick:()=>window.open("https://goldmann.life","_blank"),className:"btn-gold px-6 py-3 rounded-xl transition-all duration-200 hover-lift text-sm flex items-center gap-2 mx-auto",children:"Visit Goldmann.life"})]})]})})}function K1(){const e=yi(),[t,r]=w.useState(4);return w.useEffect(()=>{const n=setInterval(()=>{r(s=>s<=1?(e("/"),0):s-1)},1e3);return()=>clearInterval(n)},[e]),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:i.jsxs("div",{className:"glass-effect rounded-2xl p-8 max-w-md w-full text-center animate-fade-in",children:[i.jsx("div",{className:"p-4 bg-red-500/20 rounded-2xl inline-block mb-6",children:i.jsx(Ns,{className:"h-16 w-16 text-red-400"})}),i.jsx("h1",{className:"text-4xl font-bold text-gray-100 mb-4",children:"404"}),i.jsx("h2",{className:"text-xl font-semibold gold-text mb-4",children:"Page Not Found"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"The page you're looking for doesn't exist or has been moved."}),i.jsxs("div",{className:"mb-6",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Redirecting to home in"}),i.jsx("div",{className:"text-3xl font-bold gold-text",children:t})]}),i.jsxs("button",{onClick:()=>e("/"),className:"btn-gold px-6 py-3 rounded-xl transition-all duration-200 hover-lift flex items-center justify-center gap-2 mx-auto",children:[i.jsx(iw,{className:"h-5 w-5"}),"Go Home Now"]})]})})}function Y1(){const{user:e,loading:t}=Te();return t?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):i.jsx(Ny,{children:i.jsxs(ry,{children:[i.jsx(Hn,{path:"/shared/:token",element:i.jsx(V1,{})}),i.jsx(Hn,{path:"/shared-poll/:pollId",element:i.jsx(G1,{})}),i.jsx(Hn,{path:"/",element:e?i.jsx(q1,{}):i.jsx(mw,{})}),i.jsx(Hn,{path:"*",element:i.jsx(K1,{})})]})})}Af(document.getElementById("root")).render(i.jsx(w.StrictMode,{children:i.jsx(Y1,{})}));
